<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="å¤§å‰ç«¯," />





  <link rel="alternate" href="/atom.xml" title="QA seven's blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuexä»€ä¹ˆvuexå…¶å®ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡reduxï¼Œè™½ç„¶reduxå·²ç»æŠŠæˆ‘çœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œé‡Œé¢çš„educer åº”è¯¥å¦‚ä½•æ‹†åˆ†ã€action åº”è¯¥æ€ä¹ˆå®šä¹‰ã€dispatch å¼‚æ­¥æ€ä¹ˆåšã€Ajax æ€ä¹ˆä½¿ç”¨ã€middleware ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨ã€enhancer å¹²ä»€ä¹ˆçš„ã€é«˜é˜¶å‡½æ•°æ€ä¹ˆè¿™ä¹ˆå¤š ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œå°±ç®—æ˜¯çœ‹æ‡‚äº†ï¼Œæ”¾ä¸ŠåŠå¹´åˆå…¨è¿˜ç»™åº¦å¨˜äº†ï¼Œç›¸åvuexå´è®©æˆ‘è®°å¿†çŠ¹æ–°ï¼Œvuexçš„api">
<meta name="keywords" content="å¤§å‰ç«¯">
<meta property="og:type" content="article">
<meta property="og:title" content="å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vuex">
<meta property="og:url" content="http://yoursite.com/2017/10/12/vuex/index.html">
<meta property="og:site_name" content="QA seven&#39;s blog">
<meta property="og:description" content="ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuexä»€ä¹ˆvuexå…¶å®ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡reduxï¼Œè™½ç„¶reduxå·²ç»æŠŠæˆ‘çœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œé‡Œé¢çš„educer åº”è¯¥å¦‚ä½•æ‹†åˆ†ã€action åº”è¯¥æ€ä¹ˆå®šä¹‰ã€dispatch å¼‚æ­¥æ€ä¹ˆåšã€Ajax æ€ä¹ˆä½¿ç”¨ã€middleware ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨ã€enhancer å¹²ä»€ä¹ˆçš„ã€é«˜é˜¶å‡½æ•°æ€ä¹ˆè¿™ä¹ˆå¤š ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œå°±ç®—æ˜¯çœ‹æ‡‚äº†ï¼Œæ”¾ä¸ŠåŠå¹´åˆå…¨è¿˜ç»™åº¦å¨˜äº†ï¼Œç›¸åvuexå´è®©æˆ‘è®°å¿†çŠ¹æ–°ï¼Œvuexçš„api">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-10-15T14:31:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vuex">
<meta name="twitter:description" content="ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuexä»€ä¹ˆvuexå…¶å®ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡reduxï¼Œè™½ç„¶reduxå·²ç»æŠŠæˆ‘çœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œé‡Œé¢çš„educer åº”è¯¥å¦‚ä½•æ‹†åˆ†ã€action åº”è¯¥æ€ä¹ˆå®šä¹‰ã€dispatch å¼‚æ­¥æ€ä¹ˆåšã€Ajax æ€ä¹ˆä½¿ç”¨ã€middleware ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨ã€enhancer å¹²ä»€ä¹ˆçš„ã€é«˜é˜¶å‡½æ•°æ€ä¹ˆè¿™ä¹ˆå¤š ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œå°±ç®—æ˜¯çœ‹æ‡‚äº†ï¼Œæ”¾ä¸ŠåŠå¹´åˆå…¨è¿˜ç»™åº¦å¨˜äº†ï¼Œç›¸åvuexå´è®©æˆ‘è®°å¿†çŠ¹æ–°ï¼Œvuexçš„api">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"always","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/10/12/vuex/"/>





  <title>å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vuex | QA seven's blog</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">QA seven's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/12/vuex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="qi lei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QA seven's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vuex</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-12T21:51:51+08:00">
                2017-10-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuex"><a href="#ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuex" class="headerlink" title="ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuex"></a>ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuex</h1><h2 id="ä»€ä¹ˆvuex"><a href="#ä»€ä¹ˆvuex" class="headerlink" title="ä»€ä¹ˆvuex"></a>ä»€ä¹ˆvuex</h2><p>å…¶å®ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡reduxï¼Œè™½ç„¶reduxå·²ç»æŠŠæˆ‘çœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œé‡Œé¢çš„educer åº”è¯¥å¦‚ä½•æ‹†åˆ†ã€action åº”è¯¥æ€ä¹ˆå®šä¹‰ã€dispatch å¼‚æ­¥æ€ä¹ˆåšã€Ajax æ€ä¹ˆä½¿ç”¨ã€middleware ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨ã€enhancer å¹²ä»€ä¹ˆçš„ã€é«˜é˜¶å‡½æ•°æ€ä¹ˆè¿™ä¹ˆå¤š ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œå°±ç®—æ˜¯çœ‹æ‡‚äº†ï¼Œæ”¾ä¸ŠåŠå¹´åˆå…¨è¿˜ç»™åº¦å¨˜äº†ï¼Œç›¸åvuexå´è®©æˆ‘è®°å¿†çŠ¹æ–°ï¼Œvuexçš„api æˆ‘èŠ±åŠå¤©æ—¶é—´ï¼Œå°±å·²ç»ç†è§£çš„å¾ˆé€å½»äº†ï¼Œè·Ÿç€getting startedï¼Œå·²ç»å¯ä»¥æŠŠdemoä¸­todo-listæå®šäº†ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆvuexåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œvuexå’Œreduxä¸€æ ·éƒ½æ˜¯ç”¨æ¥ç®¡ç†çŠ¶æ€çš„ï¼Œåªä¸è¿‡vuexåªèƒ½ç”¨åœ¨vueé¡¹ç›®ä¸­ï¼Œreduxåˆ™æ²¡æœ‰é™åˆ¶ï¼Œå¦‚æœä½ æƒ³åœ¨reacté¡¹ç›®ä½¿ç”¨ç±»ä¼¼vuexçš„æ¡†æ¶ï¼Œæœ€è¿‘æœ‰ä¸€ä¸ªMobXçš„æ¡†æ¶å¯ä»¥å€¼å¾—ä¸€è¯•ï¼Œè™½ç„¶æˆ‘ä¹Ÿæ²¡çœ‹ï¼Œä½†æ˜¯å¤§ç¥æ¨èäº†ï¼Œåº”è¯¥æ²¡é”™ã€‚</p>
<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>ä»¥ä¸Šæ˜¯å®˜æ–¹çš„è§£é‡Šï¼Œå¾ˆæ¸…æ™°æ˜äº†ï¼Œæƒ³æ›´è¿›ä¸€æ­¥çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“vuexæ˜¯åŸºäºfluxæ¶æ„ï¼ŒåŒæ—¶ä¹Ÿå¸æ”¶reduxçš„ä¸€äº›ä¼˜ç‚¹ï¼Œè€Œreduxåˆæ˜¯åŸºäºfluxçš„æ”¹è¿›:</p>
<pre><code>æŠŠstoreå’ŒDispatcheråˆå¹¶,ç»“æ„æ›´åŠ ç®€å•æ¸…æ™°
æ–°å¢stateè§’è‰²ï¼Œä»£è¡¨æ¯ä¸ªæ—¶é—´ç‚¹storeå¯¹åº”çš„å€¼ï¼Œå¯¹çŠ¶æ€çš„ç®¡ç†æ›´åŠ æ˜ç¡®
</code></pre><p>Reduxæ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<pre><code>Viewè°ƒç”¨store.dispatchå‘èµ·Action-&gt;storeæ¥å—Action(actionä¼ å…¥reducerå‡½æ•°,reducerå‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„state)-&gt;é€šçŸ¥store.subscribeè®¢é˜…çš„é‡æ–°æ¸²æŸ“å‡½æ•°
</code></pre><p>Fluxæ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<pre><code>Viewå‘èµ·Action-&gt;Actionä¼ é€’åˆ°Dispatcher-&gt;Dispatcherå°†é€šçŸ¥Store-&gt;Storeçš„çŠ¶æ€æ”¹å˜é€šçŸ¥Viewè¿›è¡Œæ”¹å˜
è€ŒVuexæ˜¯ä¸“é—¨ä¸ºVueè®¾è®¡çš„çŠ¶æ€ç®¡ç†æ¡†æ¶,
åŒæ ·åŸºäºFluxæ¶æ„ï¼Œå¹¶å¸æ”¶äº†Reduxçš„ä¼˜ç‚¹
</code></pre><p>Vuexç›¸å¯¹äºReduxçš„ä¸åŒç‚¹æœ‰:</p>
<pre><code>æ”¹è¿›äº†Reduxä¸­çš„Actionå’ŒReducerå‡½æ•°ï¼Œä»¥mutationså˜åŒ–å‡½æ•°å–ä»£Reducerï¼Œ
æ— éœ€switch,åªéœ€åœ¨å¯¹åº”çš„mutationå‡½æ•°é‡Œæ”¹å˜stateå€¼å³å¯

ç”±äºVueè‡ªåŠ¨é‡æ–°æ¸²æŸ“çš„ç‰¹æ€§ï¼Œæ— éœ€è®¢é˜…é‡æ–°æ¸²æŸ“å‡½æ•°ï¼Œåªè¦ç”Ÿæˆæ–°çš„Stateå³å¯
</code></pre><p>Vuexæ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<pre><code>Viewè°ƒç”¨store.commitæäº¤å¯¹åº”çš„è¯·æ±‚åˆ°Storeä¸­å¯¹åº”çš„mutationå‡½æ•°-&gt;storeæ”¹å˜(vueæ£€æµ‹åˆ°æ•°æ®å˜åŒ–è‡ªåŠ¨æ¸²æŸ“)
</code></pre><h2 id="vuexçš„æ ¸å¿ƒæ¦‚å¿µ"><a href="#vuexçš„æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="vuexçš„æ ¸å¿ƒæ¦‚å¿µ"></a>vuexçš„æ ¸å¿ƒæ¦‚å¿µ</h2><p>Vuex ä¸­ Store çš„æ¨¡æ¿åŒ–å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue from <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> Vuex from <span class="string">'vuex'</span></div><div class="line">Vue.use(Vuex)</div><div class="line">const store = new Vuex.Store(&#123;</div><div class="line">  state: &#123;</div><div class="line">  &#125;,</div><div class="line">  actions: &#123;</div><div class="line">  &#125;,</div><div class="line">  mutations: &#123;</div><div class="line">  &#125;,</div><div class="line">  getters: &#123;</div><div class="line">  &#125;,  </div><div class="line">  modules: &#123;</div><div class="line">    </div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">export <span class="keyword">default</span> store</div></pre></td></tr></table></figure>
<ul>
<li>State</li>
<li>Getter</li>
<li>Mutation</li>
<li>Action</li>
<li>Module<h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3>Vuexå°±æ˜¯æä¾›ä¸€ä¸ªä»“åº“ï¼Œä»“åº“é‡Œé¢æ”¾äº†å¾ˆå¤šå¯¹è±¡ã€‚å…¶ä¸­stateå°±æ˜¯æ•°æ®æºå­˜æ”¾åœ°ï¼Œå¯¹åº”äºä¸ä¸€èˆ¬Vueå¯¹è±¡é‡Œé¢çš„dataï¼ˆåé¢è®²åˆ°çš„actionså’Œmutationså¯¹åº”äºmethodsï¼‰ã€‚<br>state: state å®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼ŒåŒæ ·å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€ã€‚</li>
</ul>
<p>å“åº”ä¹¦å­˜å‚¨ï¼šstateé‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯å“åº”å¼çš„ï¼ŒVueç»„ä»¶ä»storeä¸­è¯»å–æ•°æ®ï¼Œè‹¥æ˜¯storeä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œä¾èµ–è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ä¹Ÿä¼šå‘ç”Ÿæ›´æ–°ã€‚ï¼ˆè¿™é‡Œâ€œçŠ¶æ€â€=â€œæ•°æ®â€ï¼‰ï¼Œä¹Ÿå°±æ˜¯æ˜¯è¯´æ•°æ®å’Œè§†å›¾æ˜¯åŒæ­¥çš„ã€‚<br>ä¾‹å¦‚:</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">state</span>: &#123;</div><div class="line">  projects: [],</div><div class="line">  <span class="keyword">user</span>Profile: &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€çš„å‡ ç§æ–¹æ³•"><a href="#åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€çš„å‡ ç§æ–¹æ³•" class="headerlink" title="åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€çš„å‡ ç§æ–¹æ³•"></a>åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€çš„å‡ ç§æ–¹æ³•</h4><p><code>é€šç”¨æ–¹æ³•:å…¨å±€çš„æ”¾vuexï¼Œå±€éƒ¨çš„æ”¾åœ¨componentçš„dataé‡Œ</code></p>
<p>Vuex é€šè¿‡ store é€‰é¡¹ï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶â€œæ³¨å…¥â€åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼ˆéœ€è°ƒç”¨ Vue.use(Vuex)ï¼‰ï¼š<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">const app = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#app'</span>,</div><div class="line">  <span class="regexp">//</span> æŠŠ store å¯¹è±¡æä¾›ç»™ â€œstoreâ€ é€‰é¡¹ï¼Œè¿™å¯ä»¥æŠŠ store çš„å®ä¾‹æ³¨å…¥æ‰€æœ‰çš„å­ç»„ä»¶</div><div class="line">  store,</div><div class="line">  components: &#123; Counter &#125;,</div><div class="line">  template: `<span class="javascript"></span></div><div class="line"><span class="javascript">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"app"</span>&gt;</span></div><div class="line"><span class="javascript">      &lt;counter&gt;<span class="xml"><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span></span></div><div class="line"><span class="javascript">    &lt;<span class="regexp">/div&gt;</span></span></div><div class="line"><span class="javascript">  </span>`</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>é€šè¿‡åœ¨æ ¹å®ä¾‹ä¸­æ³¨å†Œ store é€‰é¡¹ï¼Œè¯¥ store å®ä¾‹ä¼šæ³¨å…¥åˆ°æ ¹ç»„ä»¶ä¸‹çš„æ‰€æœ‰å­ç»„ä»¶ä¸­ï¼Œä¸”å­ç»„ä»¶èƒ½é€šè¿‡ this.$store è®¿é—®åˆ°ã€‚è®©æˆ‘ä»¬æ›´æ–°ä¸‹ Counter çš„å®ç°ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">const Counter = &#123;</div><div class="line">  template: `&lt;<span class="keyword">div</span>&gt;&#123;&#123; <span class="keyword">count</span> &#125;&#125;&lt;/<span class="keyword">div</span>&gt;`,</div><div class="line">  computed: &#123;</div><div class="line">    <span class="keyword">count</span> () &#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.$store.state.<span class="keyword">count</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="mapState"><a href="#mapState" class="headerlink" title="mapState"></a>mapState</h4><p>mapStateçš„ä½œç”¨æ˜¯æŠŠå…¨å±€çš„ state å’Œ getters æ˜ å°„åˆ°å½“å‰ç»„ä»¶çš„ computed è®¡ç®—å±æ€§ä¸­ï¼Œthis.$store.stateã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"> import &#123;mapState&#125; <span class="keyword">from</span> 'vuex' </div><div class="line"> export <span class="keyword">default</span> &#123;</div><div class="line">  computer :</div><div class="line">  mapState(&#123;</div><div class="line">   count: <span class="keyword">state</span> =&gt; <span class="keyword">state</span>.count,</div><div class="line"></div><div class="line">    // æ–¹æ³•ä¸€ ä¼ å­—ç¬¦ä¸²å‚æ•° 'count' ç­‰åŒäº `<span class="keyword">state</span> =&gt; <span class="keyword">state</span>.count`</div><div class="line">    countAlias: 'count',</div><div class="line"></div><div class="line">    // æ–¹æ³•äºŒ ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°</div><div class="line">    countPlusLocalState (<span class="keyword">state</span>) &#123;</div><div class="line">      return <span class="keyword">state</span>.count + this.localCount</div><div class="line">    &#125;,</div><div class="line">     // æ˜ å°„ this.count ä¸º store.<span class="keyword">state</span>.count</div><div class="line">  'count'</div><div class="line"></div><div class="line">  &#125;)</div><div class="line">&#125;</div><div class="line">å¯¹è±¡å±•å¼€è¿ç®—ç¬¦</div><div class="line">import Vue <span class="keyword">from</span> 'vue'</div><div class="line">import Vuex <span class="keyword">from</span> 'vuex'</div><div class="line">import mutations <span class="keyword">from</span> './mutations'</div><div class="line">import actions <span class="keyword">from</span> './action'</div><div class="line">import getters <span class="keyword">from</span> './getters'</div><div class="line"></div><div class="line">Vue.use(Vuex)</div><div class="line"></div><div class="line">const <span class="keyword">state</span> = &#123;</div><div class="line">    <span class="keyword">user</span>Info: &#123; phone: <span class="number">111</span> &#125;, //ç”¨æˆ·ä¿¡æ¯</div><div class="line">    orderList: [&#123; orderno: '<span class="number">1111</span>' &#125;], //è®¢å•åˆ—è¡¨</div><div class="line">    orderDetail: null, //è®¢å•äº§å“è¯¦æƒ…</div><div class="line">    login: false, //æ˜¯å¦ç™»å½•</div><div class="line">&#125;</div><div class="line"></div><div class="line">export <span class="keyword">default</span> new Vuex.Store(&#123;</div><div class="line">    <span class="keyword">state</span>,</div><div class="line">    getters,</div><div class="line">    actions,</div><div class="line">    mutations,</div><div class="line">&#125;)</div><div class="line"></div><div class="line">computed: &#123;</div><div class="line">            ...mapState([</div><div class="line">                'orderList',</div><div class="line">                'login'</div><div class="line">            ]),</div><div class="line">        &#125;,   </div><div class="line">        mounted()&#123;  </div><div class="line">            console.<span class="keyword">log</span>(typeof orderList); ==&gt;undefind</div><div class="line">            console.<span class="keyword">log</span>(typeof this.orderList)==&gt;object</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<h3 id="getter"><a href="#getter" class="headerlink" title="getter"></a>getter</h3><p>ä¸€å¥è¯ getterå°±æ˜¯ç”¨æ¥è¿›è¡Œæ•°æ®è¿‡æ»¤çš„ï¼Œç„¶åæŠŠè¿‡æ»¤åçš„æ•°æ®ï¼Œå…±äº«ç»™æ‰€æœ‰componentã€‚</p>
<p>æ‰€ä»¥gettersæ˜¯storeçš„è®¡ç®—å±æ€§</p>
<p>gettersè¿‡æ»¤æ¡ä»¶å¿…é¡»æ˜¯bolleanå€¼.æ ¹æ®boleançš„æ¡ä»¶è¿”å›å…·ä½“æ•°æ®å¯¹è±¡ã€‚</p>
<p>ğŸŒ°ğŸŒ°ğŸŒ°ğŸŒ°ğŸŒ°ğŸŒ°</p>
<p>å®šä¹‰ï¼šæˆ‘ä»¬å¯ä»¥åœ¨storeä¸­å®šä¹‰gettersï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯state</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">const store = new Vuex.Store(&#123;</div><div class="line">  <span class="keyword">state</span>: &#123;</div><div class="line">    todos: [</div><div class="line">      &#123; id: <span class="number">1</span>, text: '...', done: true &#125;,</div><div class="line">      &#123; id: <span class="number">2</span>, text: '...', done: false &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  getters: &#123;</div><div class="line">    doneTodos: <span class="keyword">state</span> =&gt; &#123;</div><div class="line">      return <span class="keyword">state</span>.todos.filter(todo =&gt; todo.done)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>ä¼ å‚ï¼šå®šä¹‰çš„Gettersä¼šæš´éœ²ä¸ºstore.getterså¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ¥å—å…¶ä»–çš„gettersä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼›<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">getters: &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  doneTodosCount: (state, getters) =&gt; &#123;</div><div class="line">    return getters<span class="selector-class">.doneTodos</span><span class="selector-class">.length</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">store<span class="selector-class">.getters</span><span class="selector-class">.doneTodosCount</span> <span class="comment">// -&gt; 1</span></div></pre></td></tr></table></figure></p>
<p>è°ƒç”¨<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">computed: &#123;</div><div class="line">  doneTodosCount () &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.$store.getters.doneTodosCount</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>é€šè¿‡mapGettersè°ƒç”¨<br>mapGettersè¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°†storeä¸­çš„gettersæ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ä¸­ï¼Œç”¨æ³•å’ŒmapStateç±»ä¼¼</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line">computed: &#123;</div><div class="line">   <span class="comment">// ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getters æ··å…¥ computed å¯¹è±¡ä¸­</span></div><div class="line">    ...mapGetters([</div><div class="line">    <span class="string">'doneTodosCount'</span>,</div><div class="line">    <span class="string">'anotherGetter'</span>,])&#125;</div><div class="line"> <span class="comment">//ç»™getterå±æ€§æ¢åå­—</span></div><div class="line">  mapGetters(&#123;</div><div class="line"> <span class="comment">// æ˜ å°„ this.doneCount ä¸º store.getters.doneTodosCount</span></div><div class="line">  doneCount: <span class="string">'doneTodosCount'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a>Mutation</h2><p>åœ¨Vuexä¸­storeæ•°æ®æ”¹å˜çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯mutation</p>
<p>mutations,é‡Œé¢è£…ç€ä¸€äº›æ”¹å˜æ•°æ®æ–¹æ³•çš„é›†åˆï¼Œè¿™æ˜¯Veuxè®¾è®¡å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œå°±æ˜¯æŠŠå¤„ç†æ•°æ®é€»è¾‘æ–¹æ³•å…¨éƒ¨æ”¾åœ¨mutationsé‡Œé¢ï¼Œä½¿å¾—æ•°æ®å’Œè§†å›¾åˆ†ç¦»ã€‚</p>
<p>é‡è¦çš„åŸåˆ™å°±æ˜¯è¦è®°ä½ mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</p>
<p>å¦‚ä½•ä½¿ç”¨</p>
<ul>
<li>mutationç»“æ„</li>
</ul>
<p>æ¯ä¸€ä¸ªmutationéƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„äº‹ä»¶ç±»å‹(type)å’Œå›è°ƒå‡½æ•°(handler)ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º{type:handler()},è¿™å’Œè®¢é˜…å‘å¸ƒæœ‰ç‚¹ç±»ä¼¼ã€‚å…ˆæ³¨å†Œäº‹ä»¶ï¼Œå½“è§¦å‘å“åº”ç±»å‹çš„æ—¶å€™è°ƒç”¨handker()ï¼Œè°ƒç”¨typeçš„æ—¶å€™éœ€è¦ç”¨åˆ°store.commitæ–¹æ³•ã€‚</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">const store = new Vuex.Store(&#123;</div><div class="line">    <span class="keyword">state</span>: &#123;</div><div class="line">        count: <span class="number">1</span></div><div class="line">        &#125;,</div><div class="line">    mutations: &#123;</div><div class="line">    increment (<span class="keyword">state</span>) &#123;      //æ³¨å†Œäº‹ä»¶ï¼Œtype:incrementï¼Œhandlerç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<span class="keyword">state</span>ï¼›</div><div class="line">         // å˜æ›´çŠ¶æ€</div><div class="line">       <span class="keyword">state</span>.count++&#125;&#125;&#125;)</div><div class="line">       </div><div class="line">    store.commit('increment')   //è°ƒç”¨typeï¼Œè§¦å‘handlerï¼ˆ<span class="keyword">state</span>ï¼‰</div></pre></td></tr></table></figure>
<ul>
<li>è½½è·ï¼ˆpayload)</li>
</ul>
<p>ç®€å•çš„ç†è§£å°±æ˜¯å¾€handler(stage)ä¸­ä¼ å‚handler(stage,pryload)ï¼›ä¸€èˆ¬æ˜¯ä¸ªå¯¹è±¡ã€‚</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mutations: &#123;</div><div class="line">increment (<span class="keyword">state</span>, n) &#123;</div><div class="line">    <span class="keyword">state</span>.count += n&#125;&#125;</div><div class="line">store.commit('increment', <span class="number">10</span>)</div></pre></td></tr></table></figure>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè½½è·åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå¹¶ä¸”è®°å½•çš„ mutation ä¼šæ›´æ˜“è¯»ï¼š</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// ...</div><div class="line">mutations: &#123;</div><div class="line">  increment (<span class="keyword">state</span>, payload) &#123;</div><div class="line">    <span class="keyword">state</span>.count += payload.amount</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">store.commit('increment', &#123;</div><div class="line">  amount: <span class="number">10</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼</li>
</ul>
<p>æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">store</span><span class="selector-class">.commit</span>(&#123;</div><div class="line">  <span class="attribute">type</span>: <span class="string">'increment'</span>,</div><div class="line">  amount: <span class="number">10</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>å½“ä½¿ç”¨å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ï¼Œæ•´ä¸ªå¯¹è±¡éƒ½ä½œä¸ºè½½è·ä¼ ç»™ mutation å‡½æ•°ï¼Œå› æ­¤ handler ä¿æŒä¸å˜ï¼š</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mutations: &#123;</div><div class="line">  increment (<span class="keyword">state</span>, payload) &#123;</div><div class="line">    <span class="keyword">state</span>.count += payload.amount</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Mutation éœ€éµå®ˆ Vue çš„å“åº”è§„åˆ™</li>
</ul>
<p>æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚</p>
<p>å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥</p>
<p>ä½¿ç”¨ Vue.set(obj, â€˜newPropâ€™, 123), æˆ–è€…ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨ stage-3 çš„å¯¹è±¡å±•å¼€è¿ç®—ç¬¦æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">state</span>.obj = &#123; ...<span class="keyword">state</span>.obj, newProp: <span class="number">123</span> &#125;</div></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹</li>
</ul>
<p>å°†å¸¸é‡æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿åä½œå¼€å‘ã€‚</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">// mutation-types.js</div><div class="line">export const SOME_MUTATION = 'SOME_MUTATION'</div><div class="line"></div><div class="line">// store.js</div><div class="line">import Vuex <span class="keyword">from</span> 'vuex'</div><div class="line">import &#123; SOME_MUTATION &#125; <span class="keyword">from</span> './mutation-types'</div><div class="line"></div><div class="line">const store = new Vuex.Store(&#123;</div><div class="line">  <span class="keyword">state</span>: &#123; ... &#125;,</div><div class="line">  mutations: &#123;</div><div class="line">    // æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES2015 é£æ ¼çš„è®¡ç®—å±æ€§å‘½ååŠŸèƒ½æ¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ä½œä¸ºå‡½æ•°å</div><div class="line">    [SOME_MUTATION] (<span class="keyword">state</span>) &#123;</div><div class="line">      // mutate <span class="keyword">state</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>åœ¨ç»„ä»¶ä¸­æäº¤ Mutation</li>
</ul>
<p>æäº¤å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store.commit(â€˜xxxâ€™) æäº¤ mutationï¼Œæˆ–è€…ä½¿ç”¨ mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º store.commit è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ã€‚</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; mapMutations &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  <span class="regexp">//</span> ...</div><div class="line">  methods: &#123;</div><div class="line">    ...mapMutations([</div><div class="line">      <span class="string">'increment'</span>, <span class="regexp">//</span> å°† `<span class="javascript"><span class="keyword">this</span>.increment()</span>` æ˜ å°„ä¸º `<span class="javascript"><span class="keyword">this</span>.$store.commit(<span class="string">'increment'</span>)</span>`</div><div class="line"></div><div class="line">      <span class="regexp">//</span> `<span class="javascript">mapMutations</span>` ä¹Ÿæ”¯æŒè½½è·ï¼š</div><div class="line">      <span class="string">'incrementBy'</span> <span class="regexp">//</span> å°† `<span class="javascript"><span class="keyword">this</span>.incrementBy(amount)</span>` æ˜ å°„ä¸º `<span class="javascript"><span class="keyword">this</span>.$store.commit(<span class="string">'incrementBy'</span>, amount)</span>`</div><div class="line">    ]),</div><div class="line">    ...mapMutations(&#123;</div><div class="line">      add: <span class="string">'increment'</span> <span class="regexp">//</span> å°† `<span class="javascript"><span class="keyword">this</span>.add()</span>` æ˜ å°„ä¸º `<span class="javascript"><span class="keyword">this</span>.$store.commit(<span class="string">'increment'</span>)</span>`</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="action"><a href="#action" class="headerlink" title="action"></a>action</h2><p>å‰é¢æˆ‘ä»¬è®²äº†mutationä¸­æ˜¯å­˜æ”¾å¤„ç†æ•°æ®çš„æ–¹æ³•çš„é›†åˆï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™éœ€è¦commitã€‚ä½†æ˜¯commitæ˜¯åŒæ­¥å‡½æ•°ï¼Œè€Œä¸”åªèƒ½æ˜¯åŒæ­¥æ‰§è¡Œã€‚</p>
<p>æ‰€ä»¥actionå‡ºç°äº†ã€‚åœ¨actionsä¸­æäº¤mutationï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«ä»»ä½•çš„å¼‚æ­¥æ“ä½œã€‚actionså¯ä»¥ç†è§£ä¸ºé€šè¿‡å°†mutationsé‡Œé¢å¤„é‡Œæ•°æ®çš„æ–¹æ³•å˜æˆå¯å¼‚æ­¥çš„å¤„ç†æ•°æ®çš„æ–¹æ³•ï¼Œç®€å•çš„è¯´å°±æ˜¯å¼‚æ­¥æ“ä½œæ•°æ®ï¼ˆä½†æ˜¯è¿˜æ˜¯é€šè¿‡mutationæ¥æ“ä½œï¼Œå› ä¸ºåªæœ‰å®ƒèƒ½æ“ä½œï¼‰</p>
<p>å®šä¹‰actions<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">const store = new Vuex.Store(&#123;//åˆ›å»ºstoreå®ä¾‹</div><div class="line">      <span class="keyword">state</span>: &#123;</div><div class="line">         count: <span class="number">0</span></div><div class="line">             &#125;,</div><div class="line">      mutations: &#123;                </div><div class="line">         increment (<span class="keyword">state</span>) &#123;</div><div class="line">          <span class="keyword">state</span>.count++</div><div class="line">         &#125;,</div><div class="line">         sub(<span class="keyword">state</span>)&#123;</div><div class="line">    <span class="keyword">state</span>.count--;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">          &#125;,</div><div class="line">      actions: &#123;         //åªæ˜¯æäº¤`commit`äº†`mutations`é‡Œé¢çš„æ–¹æ³•ã€‚</div><div class="line">         increment (context) &#123;</div><div class="line">          context.commit('increment')</div><div class="line">   &#125;,</div><div class="line">   subplus(&#123;commit&#125;)&#123;</div><div class="line">    commit('sub');</div><div class="line">  &#125;</div><div class="line"> &#125;</div><div class="line">    &#125;)</div><div class="line"> </div><div class="line"> Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡ï¼Œå› æ­¤ä½ å¯ä»¥è°ƒç”¨ context.commit æäº¤ä¸€ä¸ª mutationï¼Œæˆ–è€…é€šè¿‡ context.<span class="keyword">state</span> å’Œ context.getters æ¥è·å– <span class="keyword">state</span> å’Œ gettersã€‚å½“æˆ‘ä»¬åœ¨ä¹‹åä»‹ç»åˆ° Modules æ—¶ï¼Œä½ å°±çŸ¥é“ context å¯¹è±¡ä¸ºä»€ä¹ˆä¸æ˜¯ store å®ä¾‹æœ¬èº«äº†ã€‚</div><div class="line"></div><div class="line">  ä¸€èˆ¬æˆ‘ä»¬ä¼šç®€å†™æˆè¿™æ ·</div><div class="line">  actions: &#123;</div><div class="line">   increment (&#123; commit &#125;) &#123;</div><div class="line">         commit('increment')</div><div class="line">      &#125;,</div><div class="line">subplus(&#123;commit&#125;)&#123;</div><div class="line">    commit('sub')</div><div class="line">  &#125;</div><div class="line">         &#125;</div></pre></td></tr></table></figure></p>
<h2 id="åˆ†å‘-Action"><a href="#åˆ†å‘-Action" class="headerlink" title="åˆ†å‘ Action"></a>åˆ†å‘ Action</h2><p>Action é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼š</p>
<p><code>store.dispatch(&#39;increment&#39;)</code></p>
<p>ä¹ä¸€çœ¼çœ‹ä¸Šå»æ„Ÿè§‰å¤šæ­¤ä¸€ä¸¾ï¼Œæˆ‘ä»¬ç›´æ¥åˆ†å‘ mutation å²‚ä¸æ›´æ–¹ä¾¿ï¼Ÿå®é™…ä¸Šå¹¶éå¦‚æ­¤ï¼Œè¿˜è®°å¾— mutation å¿…é¡»åŒæ­¥æ‰§è¡Œè¿™ä¸ªé™åˆ¶ä¹ˆï¼ŸAction å°±ä¸å—çº¦æŸï¼æˆ‘ä»¬å¯ä»¥åœ¨ action å†…éƒ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼š</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">actions: &#123;</div><div class="line">  incrementAsync (&#123; commit &#125;) &#123;</div><div class="line">    setTimeout(() =&gt; &#123;</div><div class="line">      commit(<span class="string">'increment'</span>)</div><div class="line">    &#125;, <span class="number">1000</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼å’Œå¯¹è±¡æ–¹å¼è¿›è¡Œåˆ†å‘ï¼š</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä»¥è½½è·å½¢å¼åˆ†å‘</span></div><div class="line"><span class="selector-tag">store</span><span class="selector-class">.dispatch</span>(<span class="string">'incrementAsync'</span>, &#123;</div><div class="line">  <span class="attribute">amount</span>: <span class="number">10</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>// ä»¥å¯¹è±¡å½¢å¼åˆ†å‘<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">store</span><span class="selector-class">.dispatch</span>(&#123;</div><div class="line">  <span class="attribute">type</span>: <span class="string">'incrementAsync'</span>,</div><div class="line">  amount: <span class="number">10</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<ul>
<li>åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action<br>ä½ åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store.dispatch(â€˜xxxâ€™) åˆ†å‘ actionï¼Œæˆ–è€…ä½¿ç”¨ mapActions è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„ methods æ˜ å°„ä¸º store.dispatch è°ƒç”¨ï¼ˆéœ€è¦å…ˆåœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ï¼š<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  <span class="regexp">//</span> ...</div><div class="line">  methods: &#123;</div><div class="line">    ...mapActions([</div><div class="line">      <span class="string">'increment'</span>, <span class="regexp">//</span> å°† `<span class="javascript"><span class="keyword">this</span>.increment()</span>` æ˜ å°„ä¸º `<span class="javascript"><span class="keyword">this</span>.$store.dispatch(<span class="string">'increment'</span>)</span>`</div><div class="line"></div><div class="line">      <span class="regexp">//</span> `<span class="javascript">mapActions</span>` ä¹Ÿæ”¯æŒè½½è·ï¼š</div><div class="line">      <span class="string">'incrementBy'</span> <span class="regexp">//</span> å°† `<span class="javascript"><span class="keyword">this</span>.incrementBy(amount)</span>` æ˜ å°„ä¸º `<span class="javascript"><span class="keyword">this</span>.$store.dispatch(<span class="string">'incrementBy'</span>, amount)</span>`</div><div class="line">    ]),</div><div class="line">    ...mapActions(&#123;</div><div class="line">      add: <span class="string">'increment'</span> <span class="regexp">//</span> å°† `<span class="javascript"><span class="keyword">this</span>.add()</span>` æ˜ å°„ä¸º `<span class="javascript"><span class="keyword">this</span>.$store.dispatch(<span class="string">'increment'</span>)</span>`</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>èƒŒæ™¯ï¼šåœ¨Vueä¸­Stateä½¿ç”¨æ˜¯å•ä¸€çŠ¶æ€æ ‘ç»“æ„ï¼Œåº”è¯¥çš„æ‰€æœ‰çš„çŠ¶æ€éƒ½æ”¾åœ¨stateé‡Œé¢ï¼Œå¦‚æœé¡¹ç›®æ¯”è¾ƒå¤æ‚ï¼Œé‚£stateæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å¯¹è±¡ï¼Œstoreå¯¹è±¡ä¹Ÿå°†å¯¹å˜å¾—éå¸¸å¤§ï¼Œéš¾äºç®¡ç†ã€‚</p>
<p>moduleï¼šå¯ä»¥è®©æ¯ä¸€ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€mutationã€actionã€getters,ä½¿å¾—ç»“æ„éå¸¸æ¸…æ™°ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">const moduleA = &#123;</div><div class="line">  <span class="keyword">state</span>: &#123; ... &#125;,</div><div class="line">  mutations: &#123; ... &#125;,</div><div class="line">  actions: &#123; ... &#125;,</div><div class="line">  getters: &#123; ... &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const moduleB = &#123;</div><div class="line">  <span class="keyword">state</span>: &#123; ... &#125;,</div><div class="line">  mutations: &#123; ... &#125;,</div><div class="line">  actions: &#123; ... &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const store = new Vuex.Store(&#123;</div><div class="line">  modules: &#123;</div><div class="line">    a: moduleA,</div><div class="line">    b: moduleB</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">store.<span class="keyword">state</span>.a // -&gt; moduleA çš„çŠ¶æ€</div><div class="line">store.<span class="keyword">state</span>.b // -&gt; moduleB çš„çŠ¶æ€</div></pre></td></tr></table></figure></p>
<p>æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</p>
<p>å¯¹äºæ¨¡å—å†…éƒ¨çš„ mutation å’Œ getterï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡ã€‚</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">const moduleA = &#123;</div><div class="line">  <span class="keyword">state</span>: &#123; count: <span class="number">0</span> &#125;,</div><div class="line">  mutations: &#123;</div><div class="line">    increment (<span class="keyword">state</span>) &#123;</div><div class="line">      // è¿™é‡Œçš„ `<span class="keyword">state</span>` å¯¹è±¡æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</div><div class="line">      <span class="keyword">state</span>.count++</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  getters: &#123;</div><div class="line">    doubleCount (<span class="keyword">state</span>) &#123;</div><div class="line">      return <span class="keyword">state</span>.count * <span class="number">2</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯¹äºæ¨¡å—å†…éƒ¨çš„ actionï¼Œå±€éƒ¨çŠ¶æ€é€šè¿‡ context.state æš´éœ²å‡ºæ¥ï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€åˆ™ä¸º context.rootState<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">const moduleA = &#123;</div><div class="line">  // ...</div><div class="line">  actions: &#123;</div><div class="line">    incrementIfOddOnRootSum (&#123; <span class="keyword">state</span>, commit, rootState &#125;) &#123;</div><div class="line">      if ((<span class="keyword">state</span>.count + rootState.count) % <span class="number">2</span> === <span class="number">1</span>) &#123;</div><div class="line">        commit('increment')</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯¹äºæ¨¡å—å†…éƒ¨çš„ getterï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°æš´éœ²å‡ºæ¥ï¼š</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">const moduleA = &#123;</div><div class="line">  // ...</div><div class="line">  getters: &#123;</div><div class="line">    sumWithRootCount (<span class="keyword">state</span>, getters, rootState) &#123;</div><div class="line">      return <span class="keyword">state</span>.count + rootState.count</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å‘½åç©ºé—´</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter æ˜¯æ³¨å†Œåœ¨å…¨å±€å‘½åç©ºé—´çš„â€”â€”è¿™æ ·ä½¿å¾—å¤šä¸ªæ¨¡å—èƒ½å¤Ÿå¯¹åŒä¸€ mutation æˆ– action ä½œå‡ºå“åº”ã€‚</p>
<p>å¦‚æœå¸Œæœ›ä½ çš„æ¨¡å—å…·æœ‰æ›´é«˜çš„å°è£…åº¦å’Œå¤ç”¨æ€§ï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ  namespaced: true çš„æ–¹å¼ä½¿å…¶æˆä¸ºå‘½åç©ºé—´æ¨¡å—ã€‚å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">const store = new Vuex.Store(&#123;</div><div class="line"><span class="symbol">  modules:</span> &#123;</div><div class="line"><span class="symbol">    account:</span> &#123;</div><div class="line"><span class="symbol">      namespaced:</span> true,</div><div class="line"></div><div class="line">      <span class="comment">// æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰</span></div><div class="line"><span class="symbol">      state:</span> &#123; ... &#125;, <span class="comment">// æ¨¡å—å†…çš„çŠ¶æ€å·²ç»æ˜¯åµŒå¥—çš„äº†ï¼Œä½¿ç”¨ `namespaced` å±æ€§ä¸ä¼šå¯¹å…¶äº§ç”Ÿå½±å“</span></div><div class="line"><span class="symbol">      getters:</span> &#123;</div><div class="line">        isAdmin () &#123; ... &#125; <span class="comment">// -&gt; getters['account/isAdmin']</span></div><div class="line">      &#125;,</div><div class="line"><span class="symbol">      actions:</span> &#123;</div><div class="line">        login () &#123; ... &#125; <span class="comment">// -&gt; dispatch('account/login')</span></div><div class="line">      &#125;,</div><div class="line"><span class="symbol">      mutations:</span> &#123;</div><div class="line">        login () &#123; ... &#125; <span class="comment">// -&gt; commit('account/login')</span></div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      <span class="comment">// åµŒå¥—æ¨¡å—</span></div><div class="line"><span class="symbol">      modules:</span> &#123;</div><div class="line">        <span class="comment">// ç»§æ‰¿çˆ¶æ¨¡å—çš„å‘½åç©ºé—´</span></div><div class="line"><span class="symbol">        myPage:</span> &#123;</div><div class="line"><span class="symbol">          state:</span> &#123; ... &#125;,</div><div class="line"><span class="symbol">          getters:</span> &#123;</div><div class="line">            profile () &#123; ... &#125; <span class="comment">// -&gt; getters['account/profile']</span></div><div class="line">          &#125;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// è¿›ä¸€æ­¥åµŒå¥—å‘½åç©ºé—´</span></div><div class="line"><span class="symbol">        posts:</span> &#123;</div><div class="line"><span class="symbol">          namespaced:</span> true,</div><div class="line"></div><div class="line"><span class="symbol">          state:</span> &#123; ... &#125;,</div><div class="line"><span class="symbol">          getters:</span> &#123;</div><div class="line">            popular () &#123; ... &#125; <span class="comment">// -&gt; getters['account/posts/popular']</span></div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>å¸¦å‘½åç©ºé—´çš„ç»‘å®šå‡½æ•°</p>
<p>å½“ä½¿ç”¨ mapState, mapGetters, mapActions å’Œ mapMutations è¿™äº›å‡½æ•°æ¥ç»‘å®šå‘½åç©ºé—´æ¨¡å—æ—¶ï¼Œå†™èµ·æ¥å¯èƒ½æ¯”è¾ƒç¹çï¼š</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">computed: &#123;</div><div class="line">  ...mapState(&#123;</div><div class="line">    a: <span class="keyword">state</span> =&gt; <span class="keyword">state</span>.some.nested.module.a,</div><div class="line">    b: <span class="keyword">state</span> =&gt; <span class="keyword">state</span>.some.nested.module.b</div><div class="line">  &#125;)</div><div class="line">&#125;,</div><div class="line">methods: &#123;</div><div class="line">  ...mapActions([</div><div class="line">    'some/nested/module/foo',</div><div class="line">    'some/nested/module/bar'</div><div class="line">  ])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯¹äºè¿™ç§æƒ…å†µï¼Œä½ å¯ä»¥å°†æ¨¡å—çš„ç©ºé—´åç§°å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸Šè¿°å‡½æ•°ï¼Œè¿™æ ·æ‰€æœ‰ç»‘å®šéƒ½ä¼šè‡ªåŠ¨å°†è¯¥æ¨¡å—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚äºæ˜¯ä¸Šé¢çš„ä¾‹å­å¯ä»¥ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">computed: &#123;</div><div class="line">  ...mapState('some/nested/module', &#123;</div><div class="line">    a: <span class="keyword">state</span> =&gt; <span class="keyword">state</span>.a,</div><div class="line">    b: <span class="keyword">state</span> =&gt; <span class="keyword">state</span>.b</div><div class="line">  &#125;)</div><div class="line">&#125;,</div><div class="line">methods: &#123;</div><div class="line">  ...mapActions('some/nested/module', [</div><div class="line">    'foo',</div><div class="line">    'bar'</div><div class="line">  ])</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">```è€Œä¸”ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ createNamespacedHelpers åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰æ–°çš„ç»‘å®šåœ¨ç»™å®šå‘½åç©ºé—´å€¼ä¸Šçš„ç»„ä»¶ç»‘å®šè¾…åŠ©å‡½æ•°ï¼š</div></pre></td></tr></table></figure>
<p>import { createNamespacedHelpers } from â€˜vuexâ€™</p>
<p>const { mapState, mapActions } = createNamespacedHelpers(â€˜some/nested/moduleâ€™)</p>
<p>export default {<br>  computed: {<br>    // åœ¨ <code>some/nested/module</code> ä¸­æŸ¥æ‰¾<br>    â€¦mapState({<br>      a: state =&gt; state.a,<br>      b: state =&gt; state.b<br>    })<br>  },<br>  methods: {<br>    // åœ¨ <code>some/nested/module</code> ä¸­æŸ¥æ‰¾<br>    â€¦mapActions([<br>      â€˜fooâ€™,<br>      â€˜barâ€™<br>    ])<br>  }<br>}</p>
<p>```</p>
<p>ä»¥ä¸Šä¾¿æ˜¯æˆ‘2å¤©æ¥å­¦ä¹ vuexçš„å¿ƒå¾—ï¼Œå¤§éƒ¨åˆ†å‚è€ƒçš„æ˜¯å®˜æ–¹çš„æ–‡æ¡£ï¼Œä¸å¾—ä¸è¯´vuexçš„æ–‡æ¡£æ¯”reduxæ–‡æ¡£å®¹æ˜“ç†è§£å¤šï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šæŠŠå®˜æ–¹çš„åˆ—å­è´­ç‰©è½¦ç©ä¸€ä¸‹ï¼Œç„¶åè‡ªå·±åœ¨å†™ä¸€ä¸ªtodo-list,vue2 è¿˜æ˜¯å¤§ç•¥çš„è¿‡äº†ä¸€éï¼Œè¿˜æ˜¯è¦å†™ä¸ªå°é¡¹ç›®ç†Ÿæ‚‰æ¡†æ¶ï¼Œä¸€ä¸ªQAåœ¨å‰ç«¯çš„è·¯é€”ä¸Šè¶Šèµ°è¶Šè¿œï¼Œå¸Œæœ›å­¦åˆ°å‰ç«¯çŸ¥è¯†èƒ½å¤Ÿå¸®æˆ‘åœ¨æµ‹è¯•å’Œè‡ªåŠ¨åŒ–çš„é“è·¯ä¸Šæœ‰æ‰€çªç ´ã€‚</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/å¤§å‰ç«¯/" rel="tag"># å¤§å‰ç«¯</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/06/devopsforqa/" rel="next" title="2017å¹´qaåº”æŒæ¡çš„æŠ€èƒ½">
                <i class="fa fa-chevron-left"></i> 2017å¹´qaåº”æŒæ¡çš„æŠ€èƒ½
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/10/15/vuex-shopping-cart/" rel="prev" title="å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹ç»ƒä¹ å®è·µvuex-shopping-cart">
                å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹ç»ƒä¹ å®è·µvuex-shopping-cart <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="qi lei" />
          <p class="site-author-name" itemprop="name">qi lei</p>
           
              <p class="site-description motion-element" itemprop="description">å°qa åœ¨thoughtworksè‹¦è‹¦æŒ£æ‰ä¸­</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuex"><span class="nav-number">1.</span> <span class="nav-text">ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuex</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»€ä¹ˆvuex"><span class="nav-number">1.1.</span> <span class="nav-text">ä»€ä¹ˆvuex</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vuexçš„æ ¸å¿ƒæ¦‚å¿µ"><span class="nav-number">1.2.</span> <span class="nav-text">vuexçš„æ ¸å¿ƒæ¦‚å¿µ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#state"><span class="nav-number">1.2.1.</span> <span class="nav-text">state</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€çš„å‡ ç§æ–¹æ³•"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€çš„å‡ ç§æ–¹æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mapState"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">mapState</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#getter"><span class="nav-number">1.2.2.</span> <span class="nav-text">getter</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mutation"><span class="nav-number">1.3.</span> <span class="nav-text">Mutation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#action"><span class="nav-number">1.4.</span> <span class="nav-text">action</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ†å‘-Action"><span class="nav-number">1.5.</span> <span class="nav-text">åˆ†å‘ Action</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Module"><span class="nav-number">1.6.</span> <span class="nav-text">Module</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">qi lei</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  








  






  





  

  

  

  

  

  

</body>
</html>
