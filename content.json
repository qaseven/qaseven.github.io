{"meta":{"title":"QA seven's blog","subtitle":null,"description":"å°qa åœ¨thoughtworksè‹¦è‹¦æŒ£æ‰ä¸­","author":"qi lei","url":"http://yoursite.com"},"pages":[{"title":"about me","date":"2017-03-21T07:45:22.000Z","updated":"2017-05-04T07:46:22.000Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"authorçŸ³å¤´ companythoughtworks rolesQA devâ€¦."},{"title":"tags","date":"2017-09-21T07:51:39.000Z","updated":"2017-09-21T09:28:09.000Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vueæ¨¡æ¿","slug":"vue2","date":"2017-10-18T03:30:15.000Z","updated":"2017-10-18T06:29:02.000Z","comments":true,"path":"2017/10/18/vue2/","link":"","permalink":"http://yoursite.com/2017/10/18/vue2/","excerpt":"","text":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vueæ¨¡æ¿ä¹‹å‰æˆ‘ä»¬å·²ç»å­¦ä¹ vueå®ä¾‹ï¼Œå·²ç»ç†è§£å¦‚ä½•åˆå§‹åŒ–ä¸€ä¸ªvueå®ä¾‹ï¼Œä»¥åŠå®ä¾‹ä¸­æ•°æ®ä¸æ–¹æ³•ä½¿ç”¨ï¼Œè¿˜äº†è§£ç”Ÿå‘½å‘¨æœŸï¼Œé‚£æ¥ä¸‹æ¥æˆ‘è¦å­¦ä¹ vueæ¨¡æ¿ æ’å€¼æ–‡æœ¬ä½¿ç”¨â€œMustacheâ€è¯­æ³• (åŒå¤§æ‹¬å·) çš„æ–‡æœ¬æ’å€¼1&lt;span&gt;Message: &#123;&#123; msg &#125;&#125;&lt;/span&gt; åŸå§‹ HTMLåŒå¤§æ‹¬å·ä¼šå°†æ•°æ®è§£é‡Šä¸ºæ™®é€šæ–‡æœ¬ï¼Œè€Œé HTML ä»£ç ã€‚ä¸ºäº†è¾“å‡ºçœŸæ­£çš„ HTML ï¼Œä½ éœ€è¦ä½¿ç”¨ v-html æŒ‡ä»¤1&lt;span&gt;Message: &#123;&#123; msg &#125;&#125;&lt;/span&gt; è¿™ä¸ªæ ‡ç­¾å¯èƒ½å¯¼è‡´xssæ”»å‡» ç‰¹æ€§Mustache è¯­æ³•ä¸èƒ½ä½œç”¨åœ¨ HTML ç‰¹æ€§ä¸Šï¼Œé‡åˆ°è¿™ç§æƒ…å†µåº”è¯¥ä½¿ç”¨ v-bind æŒ‡ä»¤ä¾‹å¦‚ id class ç­‰ 1&lt;div v-bind:id=\"TEST\"&gt;&lt;/div&gt; å¯ä»¥ çœç•¥å‰é¢çš„v-bind ç›´æ¥ä½¿ç”¨:id ä½¿ç”¨ JavaScript è¡¨è¾¾å¼ç”¨åœ¨v-bindä¸­123456789101112131415161718&lt;div id=\"app\"&gt; &lt;span class=\"box\" :style=\"[isA?styleA:'', styleB]\"&gt;æˆ‘æ˜¯å­—&lt;/span&gt;&lt;/div&gt;&lt;script&gt;new Vue(&#123; el: \"#app\", data:&#123; styleA:&#123; fontSize: '30px', color: 'red' &#125;, styleB:&#123; textShadow: '5px 2px 6px #000' &#125;, isA: false &#125;&#125;)&lt;/script&gt; ç”¨åœ¨Mustacheä¸­1&#123;&#123; ok ? 'YES' : 'NO' &#125;&#125; æœ‰ä¸ªé™åˆ¶å°±æ˜¯ï¼Œæ¯ä¸ªç»‘å®šéƒ½åªèƒ½åŒ…å«å•ä¸ªè¡¨è¾¾å¼ æŒ‡ä»¤æŒ‡ä»¤ (Directives) æ˜¯å¸¦æœ‰ v- å‰ç¼€çš„ç‰¹æ®Šå±æ€§ã€‚v-text é¢„æœŸï¼šstring è¯¦ç»†ï¼š æ›´æ–°å…ƒç´ çš„ textContentã€‚å¦‚æœè¦æ›´æ–°éƒ¨åˆ†çš„ textContent ï¼Œéœ€è¦ä½¿ç”¨ {{ Mustache }} æ’å€¼ã€‚ ç¤ºä¾‹ï¼š 1234&lt;span v-text=\"msg\"&gt;&lt;/span&gt;&lt;!-- å’Œä¸‹é¢çš„ä¸€æ · --&gt;&lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;/span&gt; v-show é¢„æœŸï¼šany ç”¨æ³•ï¼š æ ¹æ®è¡¨è¾¾å¼ä¹‹çœŸå‡å€¼ï¼Œåˆ‡æ¢å…ƒç´ çš„ display CSS å±æ€§ã€‚ å½“æ¡ä»¶å˜åŒ–æ—¶è¯¥æŒ‡ä»¤è§¦å‘è¿‡æ¸¡æ•ˆæœã€‚ v-if é¢„æœŸï¼šany ç”¨æ³•ï¼š æ ¹æ®è¡¨è¾¾å¼çš„å€¼çš„çœŸå‡æ¡ä»¶æ¸²æŸ“å…ƒç´ ã€‚åœ¨åˆ‡æ¢æ—¶å…ƒç´ åŠå®ƒçš„æ•°æ®ç»‘å®š / ç»„ä»¶è¢«é”€æ¯å¹¶é‡å»ºã€‚å¦‚æœå…ƒç´ æ˜¯ &lt;template&gt; ï¼Œå°†æå‡ºå®ƒçš„å†…å®¹ä½œä¸ºæ¡ä»¶å—ã€‚ å½“æ¡ä»¶å˜åŒ–æ—¶è¯¥æŒ‡ä»¤è§¦å‘è¿‡æ¸¡æ•ˆæœã€‚ å‚æ•°ä¸€äº›æŒ‡ä»¤èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªâ€œå‚æ•°â€ï¼Œåœ¨æŒ‡ä»¤åç§°ä¹‹åä»¥å†’å·è¡¨ç¤ºã€‚ åœ¨è¿™é‡Œ href æ˜¯å‚æ•°ï¼Œå‘ŠçŸ¥ v-bind æŒ‡ä»¤å°†è¯¥å…ƒç´ çš„ href å±æ€§ä¸è¡¨è¾¾å¼ url çš„å€¼ç»‘å®šã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯ v-on æŒ‡ä»¤ï¼Œå®ƒç”¨äºç›‘å¬ DOM äº‹ä»¶ï¼š åœ¨è¿™é‡Œå‚æ•°æ˜¯ç›‘å¬çš„äº‹ä»¶åã€‚ ä¿®é¥°ç¬¦ä¿®é¥°ç¬¦ (Modifiers) æ˜¯ä»¥åŠè§’å¥å· . æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚ä¾‹å¦‚ï¼Œ.prevent ä¿®é¥°ç¬¦å‘Šè¯‰ v-on æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨ event.preventDefault()ï¼š ç¼©å†™v- å‰ç¼€ä½œä¸ºä¸€ç§è§†è§‰æç¤ºï¼Œç”¨æ¥è¯†åˆ«æ¨¡æ¿ä¸­ Vue ç‰¹å®šçš„ç‰¹æ€§ã€‚v-bind ç¼©å†™ 1234&lt;!-- å®Œæ•´è¯­æ³• --&gt;&lt;a v-bind:href=\"url\"&gt;&lt;/a&gt;&lt;!-- ç¼©å†™ --&gt;&lt;a :href=\"url\"&gt;&lt;/a&gt; v-on ç¼©å†™12345&lt;!-- å®Œæ•´è¯­æ³• --&gt;&lt;a v-on:click=\"doSomething\"&gt;&lt;/a&gt;&lt;!-- ç¼©å†™ --&gt;&lt;a @click=\"doSomething\"&gt;&lt;/a&gt; ok ä»Šå¤©ä¸»è¦ä»‹ç»åŸºæœ¬çš„æ¨¡æ¿è¯­æ³•ï¼Œå…¶å®è¿˜æœ‰ä¸€äº›è¯­æ³•æ²¡æœ‰è§£é‡Šï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£å’±ä»¬ä¸€æ­¥ä¸€æ­¥æ¥","categories":[],"tags":[{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}],"keywords":[]},{"title":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vueå®ä¾‹","slug":"vue","date":"2017-10-17T02:35:18.000Z","updated":"2017-10-17T14:49:36.000Z","comments":true,"path":"2017/10/17/vue/","link":"","permalink":"http://yoursite.com/2017/10/17/vue/","excerpt":"","text":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vueå®ä¾‹ä¸ç®¡æ˜¯å­¦ä¹ ä»»ä½•è¯­è¨€å’Œæ¡†æ¶ï¼Œæˆ–è€…å·¥å…·ï¼Œéƒ½åº”è¯¥å…ˆæŠŠå®˜æ–¹æ–‡æ¡£ç•¥è¯»ä¸€éï¼Œä¹‹åæ‰¾ä¸ªdemoé¡¹ç›®ï¼Œå¼€å§‹çœ‹ä»£ç ï¼Œç„¶åç…§ç€äººå®¶çš„demo æ•²ä¸€éï¼ŒåŸºæœ¬ä¸Šå°±å…¥é—¨ï¼Œæˆ‘æ˜¯ç¬¨äººï¼Œè¿™æ˜¯æˆ‘è®¤ä¸ºå­¦ä¹ æ•ˆç‡æœ€é«˜çš„æ–¹å¼ã€‚API:https://cn.vuejs.org/v2/api/#v-bind å•¥æ˜¯vueå°±æ˜¯ä¸€ä¸ªå‰ç«¯æ¡†æ¶ï¼Œä»–å¸æ”¶äº†reactçš„ä¼˜ç‚¹ä¾‹å¦‚ï¼š 1. ä½¿ç”¨ Virtual DOM 2. æä¾›äº†å“åº”å¼ (Reactive) å’Œç»„ä»¶åŒ– (Composable) çš„è§†å›¾ç»„ä»¶ã€‚ 3. å°†æ³¨æ„åŠ›é›†ä¸­ä¿æŒåœ¨æ ¸å¿ƒåº“ï¼Œè€Œå°†å…¶ä»–åŠŸèƒ½å¦‚è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†äº¤ç»™ç›¸å…³çš„åº“ã€‚ åŒæ—¶å®ƒä¹Ÿèåˆäº†AngularJS çš„ä¸€äº›ä¼˜ç‚¹ 1. æ•°æ®ç»‘å®š 2. æŒ‡ä»¤ä¸ç»„ä»¶ è¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä¼˜ç§€æ¡†æ¶ä¾‹å¦‚konckoutç­‰è¯¦ç»†å†…å®¹å¤§å®¶å¯ä»¥çœ‹https://cn.vuejs.org/v2/guide/comparison.html ç”Ÿå‘½å‘¨æœŸç°åœ¨çš„è½¯ä»¶è®¾è®¡éƒ½åˆ©ç”¨äº†ç”Ÿå‘½å‘¨æœŸæ¦‚å¿µï¼Œå¸®åŠ©åœ¨å¼€å‘è€…åœ¨å¼€å‘ä¸­æ›´å¥½çš„å¤„ç†æ•°æ®ï¼Œä¾‹å¦‚Androidçš„ç”Ÿå‘½å‘¨æœŸï¼ŒReactçš„ç”Ÿå‘½å‘¨æœŸã€‚VUEå¤§æ¦‚çš„æµç¨‹å¦‚ä¸‹1234beforeCreateed()-&gt; created()-&gt;beforeMount()-&gt;mounted()&#123;-&gt;beforeUpdate()-&gt;updated()&#125;-&gt;beforeDestroy()-&gt;destroyed()æˆ‘ä»¬å…ˆå¤§è‡´äº†è§£ä¸‹ vue çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™å¯¹äºä»¥åæˆ‘ä»¬çœ‹åˆ«äººçš„ä»£ç æœ‰å¾ˆå¤§å¥½å¤„ å¼€å§‹å®è·µvueå®ä¾‹åˆ›å»ºvueå®ä¾‹ 123var vm = new Vue(&#123; // é€‰é¡¹&#125;) æ•°æ®ä¸æ–¹æ³•data å¯¹è±¡ä¸­èƒ½æ‰¾åˆ°çš„æ‰€æœ‰çš„å±æ€§ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯åªæœ‰å½“å®ä¾‹è¢«åˆ›å»ºæ—¶ data ä¸­å­˜åœ¨çš„å±æ€§æ˜¯å“åº”å¼çš„ã€‚æ‰€ä»¥åé¢æ·»åŠ çš„å±æ€§ éƒ½æ— æ•ˆVue å®ä¾‹æš´éœ²äº†ä¸€äº›æœ‰ç”¨çš„å®ä¾‹å±æ€§ä¸æ–¹æ³•ã€‚éƒ½æœ‰å‰ç¼€$1234567891011var data = &#123; a: 1 &#125;var vm = new Vue(&#123; el: '#example', data: data&#125;)vm.$data === data // =&gt; truevm.$el === document.getElementById('example') // =&gt; true// $watch æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•vm.$watch('a', function (newValue, oldValue) &#123; // è¿™ä¸ªå›è°ƒå°†åœ¨ `vm.a` æ”¹å˜åè°ƒç”¨&#125;) å…·ä½“çš„APIå¦‚ä¸‹https://cn.vuejs.org/v2/api/#å®ä¾‹å±æ€§å› ä¸ºæˆ‘å·²ç»ç†Ÿæ‚‰äº†nodeä¸webpackï¼Œæ‰€ä»¥ç›´æ¥ä¸Švue-cli åˆå§‹åŒ–é¡¹ç›®ä¸ç†Ÿæ‚‰çš„åŒå­¦ è¿˜æ˜¯å»ºè®®åœ¨https://jsfiddle.net/chrisvfritz/50wL7mdz/è¿™ä¸ªæ¨¡æ¿ä¸‹å­¦ä¹ OK ç¬¬ä¸€èŠ‚å®Œæ¯• æ˜å¤©ç»§ç»­æŒ‰ç€æ–‡æ¡£çœ‹æ¨¡æ¿è¯­æ³•","categories":[],"tags":[{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}],"keywords":[]},{"title":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹ç»ƒä¹ å®è·µvuex-shopping-cart","slug":"vuex-shopping-cart","date":"2017-10-15T14:29:44.000Z","updated":"2017-10-17T14:50:22.000Z","comments":true,"path":"2017/10/15/vuex-shopping-cart/","link":"","permalink":"http://yoursite.com/2017/10/15/vuex-shopping-cart/","excerpt":"","text":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹ç»ƒä¹ å®è·µvuex-shopping-cartä»£ç åœ°å€https://github.com/vuejs/vuex/tree/dev/examples/shopping-cart ç›´æ¥ npm install æˆ–è€…yarn ï¼Œå®‰è£…ä¾èµ– ä¹‹åï¼Œnpm run dev è¿è¡Œ é¡µé¢å¦‚ä¸‹ åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹æºç ã€‚ æºç è§£æå…ˆæ¥çœ‹çœ‹æ–‡ä»¶ç›®å½• è¯¥demoåŒ…å«äº†2ä¸ªmoduleï¼Œä¸€ä¸ªå«cart,å¦ä¸€ä¸ªå«product. å…ˆçœ‹cart12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#shopæ˜¯è·å–æ•°æ®çš„apiimport shop from '../../api/shop'#å¼•å…¥äº† mutation-types ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹import * as types from '../mutation-types'// initial state åˆå§‹åŒ–äº†2ä¸ªçŠ¶æ€ä¹Ÿå¯å«æ•°æ®å¯¹è±¡ï¼Œadded:// shape: [&#123; id, quantity &#125;]const state = &#123; added: [], checkoutStatus: null&#125;// getters gettersè¿‡æ»¤æ¡ä»¶å¿…é¡»æ˜¯bolleanå€¼.æ ¹æ®boleançš„æ¡ä»¶è¿”å›å…·ä½“æ•°æ®å¯¹è±¡ã€‚nullåœ¨JavaScriptä¸­ifæ¡ä»¶ä¸‹ å‡è¢«è§†ä¸ºfalseconst getters = &#123; checkoutStatus: state =&gt; state.checkoutStatus&#125;// actions åœ¨actionsä¸­æäº¤mutationï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«ä»»ä½•çš„å¼‚æ­¥æ“ä½œã€‚actionså¯ä»¥ç†è§£ä¸ºé€šè¿‡å°†mutationsé‡Œé¢å¤„é‡Œæ•°æ®çš„æ–¹æ³•å˜æˆå¯å¼‚æ­¥çš„å¤„ç†æ•°æ®çš„æ–¹æ³•ï¼Œç®€å•çš„è¯´å°±æ˜¯å¼‚æ­¥æ“ä½œæ•°æ®ï¼ˆä½†æ˜¯è¿˜æ˜¯é€šè¿‡mutationæ¥æ“ä½œï¼Œå› ä¸ºåªæœ‰å®ƒèƒ½æ“ä½œconst actions = &#123; checkout (&#123; commit, state &#125;, products) &#123; //è§£æ„ state.addedå¯¹è±¡é‡Œé¢çš„å€¼ï¼Œå¹¶å°†è‡³å­˜æ”¾åˆ°savedCartItemså¯¹è±¡ä¸­ const savedCartItems = [...state.added] commit(types.CHECKOUT_REQUEST) shop.buyProducts( products, () =&gt; commit(types.CHECKOUT_SUCCESS), () =&gt; commit(types.CHECKOUT_FAILURE, &#123; savedCartItems &#125;) ) &#125;&#125;// mutations åœ¨Vuexä¸­storeæ•°æ®æ”¹å˜çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯mutation&lt;!-- mutations,é‡Œé¢è£…ç€ä¸€äº›æ”¹å˜æ•°æ®æ–¹æ³•çš„é›†åˆï¼Œè¿™æ˜¯Veuxè®¾è®¡å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œå°±æ˜¯æŠŠå¤„ç†æ•°æ®é€»è¾‘æ–¹æ³•å…¨éƒ¨æ”¾åœ¨mutationsé‡Œé¢ï¼Œä½¿å¾—æ•°æ®å’Œè§†å›¾åˆ†ç¦»ã€‚ --&gt;const mutations = &#123; [types.ADD_TO_CART] (state, &#123; id &#125;) &#123; state.lastCheckout = null const record = state.added.find(p =&gt; p.id === id) if (!record) &#123; state.added.push(&#123; id, quantity: 1 &#125;) &#125; else &#123; record.quantity++ &#125; &#125;, [types.CHECKOUT_REQUEST] (state) &#123; // clear cart state.added = [] state.checkoutStatus = null &#125;, [types.CHECKOUT_SUCCESS] (state) &#123; state.checkoutStatus = 'successful' &#125;, [types.CHECKOUT_FAILURE] (state, &#123; savedCartItems &#125;) &#123; // rollback to the cart saved before sending the request state.added = savedCartItems state.checkoutStatus = 'failed' &#125;&#125;export default &#123; state, getters, actions, mutations&#125; åœ¨æ¥çœ‹çœ‹ product12345678910111213141516171819202122232425262728293031323334353637383940import shop from '../../api/shop'import * as types from '../mutation-types'// initial stateconst state = &#123; all: []&#125;// getters JSä¸­æ•°ç»„(ä¸ç®¡æ˜¯ä¸æ˜¯ç©ºçš„)å±äºå¯¹è±¡ç±»å‹ï¼Œå¯¹è±¡ç±»å‹è½¬ä¸ºbooleanç±»å‹(å†…éƒ¨å¯¹åº”ToBoolean()æ“ä½œ)æ—¶éƒ½æ˜¯trueã€‚const getters = &#123; allProducts: state =&gt; state.all&#125;// actionsconst actions = &#123; getAllProducts (&#123; commit &#125;) &#123; shop.getProducts(products =&gt; &#123; commit(types.RECEIVE_PRODUCTS, &#123; products &#125;) &#125;) &#125;&#125;// mutationsconst mutations = &#123; [types.RECEIVE_PRODUCTS] (state, &#123; products &#125;) &#123; state.all = products &#125;, [types.ADD_TO_CART] (state, &#123; id &#125;) &#123; state.all.find(p =&gt; p.id === id).inventory-- &#125;&#125;export default &#123; state, getters, actions, mutations&#125; çœ‹å®Œäº† module,å†æ¥çœ‹çœ‹ action12345678910//è¿™ä¸ªæ˜¯æ€»å¾—action æ¯ä¸ªmodule éƒ½å¯ä»¥æœ‰è‡ªå·±çš„actionimport * as types from './mutation-types'//å¾ˆç®€å• åˆ¤æ–­å­˜è´§æ˜¯å¦å¤§äº0 ç„¶åæäº¤ç»™mutationå…·ä½“idexport const addToCart = (&#123; commit &#125;, product) =&gt; &#123; if (product.inventory &gt; 0) &#123; commit(types.ADD_TO_CART, &#123; id: product.id &#125;) &#125;&#125; ç»§ç»­ å†æ¥çœ‹çœ‹æ€»å¾—getter1234567891011//æŸ¥è¯¢ è¿”å›å¯¹è±¡export const cartProducts = state =&gt; &#123; return state.cart.added.map((&#123; id, quantity &#125;) =&gt; &#123; const product = state.products.all.find(p =&gt; p.id === id) return &#123; title: product.title, price: product.price, quantity &#125; &#125;)&#125; å†æ¥çœ‹å®šä¹‰æ‰€æœ‰mutationç±»å‹æ–‡ä»¶mutation-types.js12345export const ADD_TO_CART = 'ADD_TO_CART'export const CHECKOUT_REQUEST = 'CHECKOUT_REQUEST'export const CHECKOUT_SUCCESS = 'CHECKOUT_SUCCESS'export const CHECKOUT_FAILURE = 'CHECKOUT_FAILURE'export const RECEIVE_PRODUCTS = 'RECEIVE_PRODUCTS' æœ€åindex.js12345678910111213141516171819202122import Vue from 'vue'import Vuex from 'vuex'import * as actions from './actions'import * as getters from './getters'import cart from './modules/cart'import products from './modules/products'import createLogger from '../../../src/plugins/logger'Vue.use(Vuex)const debug = process.env.NODE_ENV !== 'production'export default new Vuex.Store(&#123; actions, getters, modules: &#123; cart, products &#125;, strict: debug, plugins: debug ? [createLogger()] : []&#125;) è‡³æ­¤ æ‰€æœ‰vuexä»‹ç»å®Œæ¯•ï¼Œç„¶åè®©æˆ‘ä»¬çœ‹è¿™äº›vuexæ€ä¹ˆåº”ç”¨çš„componentä¸­ å…ˆæ¥åˆ°cartç»„ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839&lt;template&gt; &lt;div class=\"cart\"&gt; &lt;h2&gt;Your Cart&lt;/h2&gt; &lt;p v-show=\"!products.length\"&gt;&lt;i&gt;Please add some products to cart.&lt;/i&gt;&lt;/p&gt; &lt;ul&gt; &lt;li v-for=\"p in products\"&gt; &#123;&#123; p.title &#125;&#125; - &#123;&#123; p.price | currency &#125;&#125; x &#123;&#123; p.quantity &#125;&#125; &lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Total: &#123;&#123; total | currency &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;button :disabled=\"!products.length\" @click=\"checkout(products)\"&gt;Checkout&lt;/button&gt;&lt;/p&gt; &lt;p v-show=\"checkoutStatus\"&gt;Checkout &#123;&#123; checkoutStatus &#125;&#125;.&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;//é€šè¿‡mapgettersæ–¹æ³•è§£æ„æ•°æ®import &#123; mapGetters &#125; from 'vuex'export default &#123; computed: &#123; ...mapGetters(&#123; products: 'cartProducts', checkoutStatus: 'checkoutStatus' &#125;), total () &#123; return this.products.reduce((total, p) =&gt; &#123; return total + p.price * p.quantity &#125;, 0) &#125; &#125;, methods: &#123; //åˆ†å‘action checkout (products) &#123; this.$store.dispatch('checkout', products) &#125; &#125;&#125;&lt;/script&gt; åœ¨æ¥çœ‹çœ‹ productç»„ä»¶12345678910111213141516171819202122232425262728&lt;template&gt; &lt;ul&gt; &lt;li v-for=\"p in products\"&gt; &#123;&#123; p.title &#125;&#125; - &#123;&#123; p.price | currency &#125;&#125; &lt;br&gt; &lt;button :disabled=\"!p.inventory\" @click=\"addToCart(p)\"&gt; Add to cart &lt;/button&gt; &lt;/li&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script&gt;import &#123; mapGetters, mapActions &#125; from 'vuex'export default &#123; computed: mapGetters(&#123; products: 'allProducts' &#125;), methods: mapActions([ 'addToCart' ]), created () &#123; this.$store.dispatch('getAllProducts') &#125;&#125;&lt;/script&gt; æœ€åå°†è¿™ä¸¤ä¸ªcomponent å¼•å…¥åˆ°app.vue123456789101112131415161718&lt;template&gt; &lt;div id=\"app\"&gt; &lt;h1&gt;Shopping Cart Example&lt;/h1&gt; &lt;hr&gt; &lt;h2&gt;Products&lt;/h2&gt; &lt;product-list&gt;&lt;/product-list&gt; &lt;hr&gt; &lt;cart&gt;&lt;/cart&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import ProductList from './ProductList.vue'import Cart from './Cart.vue'export default &#123; components: &#123; ProductList, Cart &#125;&#125;&lt;/script&gt; åŸºæœ¬ä¸Šè¿™ä¸ªdemoå°±ä»‹ç»å®Œæ¯• ä¸‹æ¥æˆ‘é€šè¿‡vue-cliåˆå§‹åŒ–ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå°†ä¸Šé¢æ‰€æœ‰çš„ä»£ç è¿›è¡Œç»ƒä¹  è°¢è°¢å¤§å®¶æ¬£èµã€‚ä»£ç å·²ç»ä¸Šä¼ https://github.com/qileilove/vuex-practice","categories":[],"tags":[{"name":"vuex","slug":"vuex","permalink":"http://yoursite.com/tags/vuex/"}],"keywords":[]},{"title":"å°QAå­¦ä¹ å‰ç«¯ç³»åˆ—ä¹‹vuex","slug":"vuex","date":"2017-10-12T13:51:51.000Z","updated":"2017-10-15T14:31:59.000Z","comments":true,"path":"2017/10/12/vuex/","link":"","permalink":"http://yoursite.com/2017/10/12/vuex/","excerpt":"","text":"ä¸€ä¸ªQAå¦‚ä½•å­¦ä¹ vuexä»€ä¹ˆvuexå…¶å®ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡reduxï¼Œè™½ç„¶reduxå·²ç»æŠŠæˆ‘çœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œé‡Œé¢çš„educer åº”è¯¥å¦‚ä½•æ‹†åˆ†ã€action åº”è¯¥æ€ä¹ˆå®šä¹‰ã€dispatch å¼‚æ­¥æ€ä¹ˆåšã€Ajax æ€ä¹ˆä½¿ç”¨ã€middleware ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨ã€enhancer å¹²ä»€ä¹ˆçš„ã€é«˜é˜¶å‡½æ•°æ€ä¹ˆè¿™ä¹ˆå¤š ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œå°±ç®—æ˜¯çœ‹æ‡‚äº†ï¼Œæ”¾ä¸ŠåŠå¹´åˆå…¨è¿˜ç»™åº¦å¨˜äº†ï¼Œç›¸åvuexå´è®©æˆ‘è®°å¿†çŠ¹æ–°ï¼Œvuexçš„api æˆ‘èŠ±åŠå¤©æ—¶é—´ï¼Œå°±å·²ç»ç†è§£çš„å¾ˆé€å½»äº†ï¼Œè·Ÿç€getting startedï¼Œå·²ç»å¯ä»¥æŠŠdemoä¸­todo-listæå®šäº†ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆvuexåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œvuexå’Œreduxä¸€æ ·éƒ½æ˜¯ç”¨æ¥ç®¡ç†çŠ¶æ€çš„ï¼Œåªä¸è¿‡vuexåªèƒ½ç”¨åœ¨vueé¡¹ç›®ä¸­ï¼Œreduxåˆ™æ²¡æœ‰é™åˆ¶ï¼Œå¦‚æœä½ æƒ³åœ¨reacté¡¹ç›®ä½¿ç”¨ç±»ä¼¼vuexçš„æ¡†æ¶ï¼Œæœ€è¿‘æœ‰ä¸€ä¸ªMobXçš„æ¡†æ¶å¯ä»¥å€¼å¾—ä¸€è¯•ï¼Œè™½ç„¶æˆ‘ä¹Ÿæ²¡çœ‹ï¼Œä½†æ˜¯å¤§ç¥æ¨èäº†ï¼Œåº”è¯¥æ²¡é”™ã€‚ Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚ ä»¥ä¸Šæ˜¯å®˜æ–¹çš„è§£é‡Šï¼Œå¾ˆæ¸…æ™°æ˜äº†ï¼Œæƒ³æ›´è¿›ä¸€æ­¥çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“vuexæ˜¯åŸºäºfluxæ¶æ„ï¼ŒåŒæ—¶ä¹Ÿå¸æ”¶reduxçš„ä¸€äº›ä¼˜ç‚¹ï¼Œè€Œreduxåˆæ˜¯åŸºäºfluxçš„æ”¹è¿›: æŠŠstoreå’ŒDispatcheråˆå¹¶,ç»“æ„æ›´åŠ ç®€å•æ¸…æ™° æ–°å¢stateè§’è‰²ï¼Œä»£è¡¨æ¯ä¸ªæ—¶é—´ç‚¹storeå¯¹åº”çš„å€¼ï¼Œå¯¹çŠ¶æ€çš„ç®¡ç†æ›´åŠ æ˜ç¡® Reduxæ•°æ®æµçš„é¡ºåºæ˜¯: Viewè°ƒç”¨store.dispatchå‘èµ·Action-&gt;storeæ¥å—Action(actionä¼ å…¥reducerå‡½æ•°,reducerå‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„state)-&gt;é€šçŸ¥store.subscribeè®¢é˜…çš„é‡æ–°æ¸²æŸ“å‡½æ•° Fluxæ•°æ®æµçš„é¡ºåºæ˜¯: Viewå‘èµ·Action-&gt;Actionä¼ é€’åˆ°Dispatcher-&gt;Dispatcherå°†é€šçŸ¥Store-&gt;Storeçš„çŠ¶æ€æ”¹å˜é€šçŸ¥Viewè¿›è¡Œæ”¹å˜ è€ŒVuexæ˜¯ä¸“é—¨ä¸ºVueè®¾è®¡çš„çŠ¶æ€ç®¡ç†æ¡†æ¶, åŒæ ·åŸºäºFluxæ¶æ„ï¼Œå¹¶å¸æ”¶äº†Reduxçš„ä¼˜ç‚¹ Vuexç›¸å¯¹äºReduxçš„ä¸åŒç‚¹æœ‰: æ”¹è¿›äº†Reduxä¸­çš„Actionå’ŒReducerå‡½æ•°ï¼Œä»¥mutationså˜åŒ–å‡½æ•°å–ä»£Reducerï¼Œ æ— éœ€switch,åªéœ€åœ¨å¯¹åº”çš„mutationå‡½æ•°é‡Œæ”¹å˜stateå€¼å³å¯ ç”±äºVueè‡ªåŠ¨é‡æ–°æ¸²æŸ“çš„ç‰¹æ€§ï¼Œæ— éœ€è®¢é˜…é‡æ–°æ¸²æŸ“å‡½æ•°ï¼Œåªè¦ç”Ÿæˆæ–°çš„Stateå³å¯ Vuexæ•°æ®æµçš„é¡ºåºæ˜¯: Viewè°ƒç”¨store.commitæäº¤å¯¹åº”çš„è¯·æ±‚åˆ°Storeä¸­å¯¹åº”çš„mutationå‡½æ•°-&gt;storeæ”¹å˜(vueæ£€æµ‹åˆ°æ•°æ®å˜åŒ–è‡ªåŠ¨æ¸²æŸ“) vuexçš„æ ¸å¿ƒæ¦‚å¿µVuex ä¸­ Store çš„æ¨¡æ¿åŒ–å®šä¹‰å¦‚ä¸‹ï¼š 1234567891011121314151617import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)const store = new Vuex.Store(&#123; state: &#123; &#125;, actions: &#123; &#125;, mutations: &#123; &#125;, getters: &#123; &#125;, modules: &#123; &#125;&#125;)export default store State Getter Mutation Action ModulestateVuexå°±æ˜¯æä¾›ä¸€ä¸ªä»“åº“ï¼Œä»“åº“é‡Œé¢æ”¾äº†å¾ˆå¤šå¯¹è±¡ã€‚å…¶ä¸­stateå°±æ˜¯æ•°æ®æºå­˜æ”¾åœ°ï¼Œå¯¹åº”äºä¸ä¸€èˆ¬Vueå¯¹è±¡é‡Œé¢çš„dataï¼ˆåé¢è®²åˆ°çš„actionså’Œmutationså¯¹åº”äºmethodsï¼‰ã€‚state: state å®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼ŒåŒæ ·å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€ã€‚ å“åº”ä¹¦å­˜å‚¨ï¼šstateé‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯å“åº”å¼çš„ï¼ŒVueç»„ä»¶ä»storeä¸­è¯»å–æ•°æ®ï¼Œè‹¥æ˜¯storeä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œä¾èµ–è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ä¹Ÿä¼šå‘ç”Ÿæ›´æ–°ã€‚ï¼ˆè¿™é‡Œâ€œçŠ¶æ€â€=â€œæ•°æ®â€ï¼‰ï¼Œä¹Ÿå°±æ˜¯æ˜¯è¯´æ•°æ®å’Œè§†å›¾æ˜¯åŒæ­¥çš„ã€‚ä¾‹å¦‚: 1234state: &#123; projects: [], userProfile: &#123;&#125;&#125; åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€çš„å‡ ç§æ–¹æ³•é€šç”¨æ–¹æ³•:å…¨å±€çš„æ”¾vuexï¼Œå±€éƒ¨çš„æ”¾åœ¨componentçš„dataé‡Œ Vuex é€šè¿‡ store é€‰é¡¹ï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶â€œæ³¨å…¥â€åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼ˆéœ€è°ƒç”¨ Vue.use(Vuex)ï¼‰ï¼š123456789101112const app = new Vue(&#123; el: '#app', // æŠŠ store å¯¹è±¡æä¾›ç»™ â€œstoreâ€ é€‰é¡¹ï¼Œè¿™å¯ä»¥æŠŠ store çš„å®ä¾‹æ³¨å…¥æ‰€æœ‰çš„å­ç»„ä»¶ store, components: &#123; Counter &#125;, template: ` &lt;div class=\"app\"&gt; &lt;counter&gt;&lt;/counter&gt; &lt;/div&gt; `&#125;) é€šè¿‡åœ¨æ ¹å®ä¾‹ä¸­æ³¨å†Œ store é€‰é¡¹ï¼Œè¯¥ store å®ä¾‹ä¼šæ³¨å…¥åˆ°æ ¹ç»„ä»¶ä¸‹çš„æ‰€æœ‰å­ç»„ä»¶ä¸­ï¼Œä¸”å­ç»„ä»¶èƒ½é€šè¿‡ this.$store è®¿é—®åˆ°ã€‚è®©æˆ‘ä»¬æ›´æ–°ä¸‹ Counter çš„å®ç°ï¼š 12345678const Counter = &#123; template: `&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`, computed: &#123; count () &#123; return this.$store.state.count &#125; &#125;&#125; mapStatemapStateçš„ä½œç”¨æ˜¯æŠŠå…¨å±€çš„ state å’Œ getters æ˜ å°„åˆ°å½“å‰ç»„ä»¶çš„ computed è®¡ç®—å±æ€§ä¸­ï¼Œthis.$store.stateã€‚ ä½¿ç”¨ç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 import &#123;mapState&#125; from 'vuex' export default &#123; computer : mapState(&#123; count: state =&gt; state.count, // æ–¹æ³•ä¸€ ä¼ å­—ç¬¦ä¸²å‚æ•° 'count' ç­‰åŒäº `state =&gt; state.count` countAlias: 'count', // æ–¹æ³•äºŒ ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•° countPlusLocalState (state) &#123; return state.count + this.localCount &#125;, // æ˜ å°„ this.count ä¸º store.state.count 'count' &#125;)&#125;å¯¹è±¡å±•å¼€è¿ç®—ç¬¦import Vue from 'vue'import Vuex from 'vuex'import mutations from './mutations'import actions from './action'import getters from './getters'Vue.use(Vuex)const state = &#123; userInfo: &#123; phone: 111 &#125;, //ç”¨æˆ·ä¿¡æ¯ orderList: [&#123; orderno: '1111' &#125;], //è®¢å•åˆ—è¡¨ orderDetail: null, //è®¢å•äº§å“è¯¦æƒ… login: false, //æ˜¯å¦ç™»å½•&#125;export default new Vuex.Store(&#123; state, getters, actions, mutations,&#125;)computed: &#123; ...mapState([ 'orderList', 'login' ]), &#125;, mounted()&#123; console.log(typeof orderList); ==&gt;undefind console.log(typeof this.orderList)==&gt;object &#125; getterä¸€å¥è¯ getterå°±æ˜¯ç”¨æ¥è¿›è¡Œæ•°æ®è¿‡æ»¤çš„ï¼Œç„¶åæŠŠè¿‡æ»¤åçš„æ•°æ®ï¼Œå…±äº«ç»™æ‰€æœ‰componentã€‚ æ‰€ä»¥gettersæ˜¯storeçš„è®¡ç®—å±æ€§ gettersè¿‡æ»¤æ¡ä»¶å¿…é¡»æ˜¯bolleanå€¼.æ ¹æ®boleançš„æ¡ä»¶è¿”å›å…·ä½“æ•°æ®å¯¹è±¡ã€‚ ğŸŒ°ğŸŒ°ğŸŒ°ğŸŒ°ğŸŒ°ğŸŒ° å®šä¹‰ï¼šæˆ‘ä»¬å¯ä»¥åœ¨storeä¸­å®šä¹‰gettersï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯state 12345678910111213const store = new Vuex.Store(&#123; state: &#123; todos: [ &#123; id: 1, text: '...', done: true &#125;, &#123; id: 2, text: '...', done: false &#125; ] &#125;, getters: &#123; doneTodos: state =&gt; &#123; return state.todos.filter(todo =&gt; todo.done) &#125; &#125;&#125;) ä¼ å‚ï¼šå®šä¹‰çš„Gettersä¼šæš´éœ²ä¸ºstore.getterså¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ¥å—å…¶ä»–çš„gettersä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼›12345678getters: &#123; // ... doneTodosCount: (state, getters) =&gt; &#123; return getters.doneTodos.length &#125;&#125;store.getters.doneTodosCount // -&gt; 1 è°ƒç”¨12345computed: &#123; doneTodosCount () &#123; return this.$store.getters.doneTodosCount &#125;&#125; é€šè¿‡mapGettersè°ƒç”¨mapGettersè¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°†storeä¸­çš„gettersæ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ä¸­ï¼Œç”¨æ³•å’ŒmapStateç±»ä¼¼ 1234567891011import &#123; mapGetters &#125; from 'vuex'computed: &#123; // ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getters æ··å…¥ computed å¯¹è±¡ä¸­ ...mapGetters([ 'doneTodosCount', 'anotherGetter',])&#125; //ç»™getterå±æ€§æ¢åå­— mapGetters(&#123; // æ˜ å°„ this.doneCount ä¸º store.getters.doneTodosCount doneCount: 'doneTodosCount'&#125;) Mutationåœ¨Vuexä¸­storeæ•°æ®æ”¹å˜çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯mutation mutations,é‡Œé¢è£…ç€ä¸€äº›æ”¹å˜æ•°æ®æ–¹æ³•çš„é›†åˆï¼Œè¿™æ˜¯Veuxè®¾è®¡å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œå°±æ˜¯æŠŠå¤„ç†æ•°æ®é€»è¾‘æ–¹æ³•å…¨éƒ¨æ”¾åœ¨mutationsé‡Œé¢ï¼Œä½¿å¾—æ•°æ®å’Œè§†å›¾åˆ†ç¦»ã€‚ é‡è¦çš„åŸåˆ™å°±æ˜¯è¦è®°ä½ mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•° å¦‚ä½•ä½¿ç”¨ mutationç»“æ„ æ¯ä¸€ä¸ªmutationéƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„äº‹ä»¶ç±»å‹(type)å’Œå›è°ƒå‡½æ•°(handler)ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º{type:handler()},è¿™å’Œè®¢é˜…å‘å¸ƒæœ‰ç‚¹ç±»ä¼¼ã€‚å…ˆæ³¨å†Œäº‹ä»¶ï¼Œå½“è§¦å‘å“åº”ç±»å‹çš„æ—¶å€™è°ƒç”¨handker()ï¼Œè°ƒç”¨typeçš„æ—¶å€™éœ€è¦ç”¨åˆ°store.commitæ–¹æ³•ã€‚ 12345678910const store = new Vuex.Store(&#123; state: &#123; count: 1 &#125;, mutations: &#123; increment (state) &#123; //æ³¨å†Œäº‹ä»¶ï¼Œtype:incrementï¼Œhandlerç¬¬ä¸€ä¸ªå‚æ•°æ˜¯stateï¼› // å˜æ›´çŠ¶æ€ state.count++&#125;&#125;&#125;) store.commit('increment') //è°ƒç”¨typeï¼Œè§¦å‘handlerï¼ˆstateï¼‰ è½½è·ï¼ˆpayload) ç®€å•çš„ç†è§£å°±æ˜¯å¾€handler(stage)ä¸­ä¼ å‚handler(stage,pryload)ï¼›ä¸€èˆ¬æ˜¯ä¸ªå¯¹è±¡ã€‚ 1234mutations: &#123;increment (state, n) &#123; state.count += n&#125;&#125;store.commit('increment', 10) åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè½½è·åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå¹¶ä¸”è®°å½•çš„ mutation ä¼šæ›´æ˜“è¯»ï¼š 12345678910// ...mutations: &#123; increment (state, payload) &#123; state.count += payload.amount &#125;&#125;store.commit('increment', &#123; amount: 10&#125;) å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š 1234store.commit(&#123; type: 'increment', amount: 10&#125;) å½“ä½¿ç”¨å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ï¼Œæ•´ä¸ªå¯¹è±¡éƒ½ä½œä¸ºè½½è·ä¼ ç»™ mutation å‡½æ•°ï¼Œå› æ­¤ handler ä¿æŒä¸å˜ï¼š 12345mutations: &#123; increment (state, payload) &#123; state.count += payload.amount &#125;&#125; Mutation éœ€éµå®ˆ Vue çš„å“åº”è§„åˆ™ æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚ å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥ ä½¿ç”¨ Vue.set(obj, â€˜newPropâ€™, 123), æˆ–è€…ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨ stage-3 çš„å¯¹è±¡å±•å¼€è¿ç®—ç¬¦æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š 1state.obj = &#123; ...state.obj, newProp: 123 &#125; ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹ å°†å¸¸é‡æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿åä½œå¼€å‘ã€‚ 12345678910111213141516// mutation-types.jsexport const SOME_MUTATION = 'SOME_MUTATION'// store.jsimport Vuex from 'vuex'import &#123; SOME_MUTATION &#125; from './mutation-types'const store = new Vuex.Store(&#123; state: &#123; ... &#125;, mutations: &#123; // æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES2015 é£æ ¼çš„è®¡ç®—å±æ€§å‘½ååŠŸèƒ½æ¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ä½œä¸ºå‡½æ•°å [SOME_MUTATION] (state) &#123; // mutate state &#125; &#125;&#125;) åœ¨ç»„ä»¶ä¸­æäº¤ Mutation æäº¤å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store.commit(â€˜xxxâ€™) æäº¤ mutationï¼Œæˆ–è€…ä½¿ç”¨ mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º store.commit è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ã€‚ 12345678910111213141516import &#123; mapMutations &#125; from 'vuex'export default &#123; // ... methods: &#123; ...mapMutations([ 'increment', // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit('increment')` // `mapMutations` ä¹Ÿæ”¯æŒè½½è·ï¼š 'incrementBy' // å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.commit('incrementBy', amount)` ]), ...mapMutations(&#123; add: 'increment' // å°† `this.add()` æ˜ å°„ä¸º `this.$store.commit('increment')` &#125;) &#125;&#125; actionå‰é¢æˆ‘ä»¬è®²äº†mutationä¸­æ˜¯å­˜æ”¾å¤„ç†æ•°æ®çš„æ–¹æ³•çš„é›†åˆï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™éœ€è¦commitã€‚ä½†æ˜¯commitæ˜¯åŒæ­¥å‡½æ•°ï¼Œè€Œä¸”åªèƒ½æ˜¯åŒæ­¥æ‰§è¡Œã€‚ æ‰€ä»¥actionå‡ºç°äº†ã€‚åœ¨actionsä¸­æäº¤mutationï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«ä»»ä½•çš„å¼‚æ­¥æ“ä½œã€‚actionså¯ä»¥ç†è§£ä¸ºé€šè¿‡å°†mutationsé‡Œé¢å¤„é‡Œæ•°æ®çš„æ–¹æ³•å˜æˆå¯å¼‚æ­¥çš„å¤„ç†æ•°æ®çš„æ–¹æ³•ï¼Œç®€å•çš„è¯´å°±æ˜¯å¼‚æ­¥æ“ä½œæ•°æ®ï¼ˆä½†æ˜¯è¿˜æ˜¯é€šè¿‡mutationæ¥æ“ä½œï¼Œå› ä¸ºåªæœ‰å®ƒèƒ½æ“ä½œï¼‰ å®šä¹‰actions1234567891011121314151617181920212223242526272829303132333435const store = new Vuex.Store(&#123;//åˆ›å»ºstoreå®ä¾‹ state: &#123; count: 0 &#125;, mutations: &#123; increment (state) &#123; state.count++ &#125;, sub(state)&#123; state.count--; &#125; &#125;, actions: &#123; //åªæ˜¯æäº¤`commit`äº†`mutations`é‡Œé¢çš„æ–¹æ³•ã€‚ increment (context) &#123; context.commit('increment') &#125;, subplus(&#123;commit&#125;)&#123; commit('sub'); &#125; &#125; &#125;) Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡ï¼Œå› æ­¤ä½ å¯ä»¥è°ƒç”¨ context.commit æäº¤ä¸€ä¸ª mutationï¼Œæˆ–è€…é€šè¿‡ context.state å’Œ context.getters æ¥è·å– state å’Œ gettersã€‚å½“æˆ‘ä»¬åœ¨ä¹‹åä»‹ç»åˆ° Modules æ—¶ï¼Œä½ å°±çŸ¥é“ context å¯¹è±¡ä¸ºä»€ä¹ˆä¸æ˜¯ store å®ä¾‹æœ¬èº«äº†ã€‚ ä¸€èˆ¬æˆ‘ä»¬ä¼šç®€å†™æˆè¿™æ · actions: &#123; increment (&#123; commit &#125;) &#123; commit('increment') &#125;,subplus(&#123;commit&#125;)&#123; commit('sub') &#125; &#125; åˆ†å‘ ActionAction é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼š store.dispatch(&#39;increment&#39;) ä¹ä¸€çœ¼çœ‹ä¸Šå»æ„Ÿè§‰å¤šæ­¤ä¸€ä¸¾ï¼Œæˆ‘ä»¬ç›´æ¥åˆ†å‘ mutation å²‚ä¸æ›´æ–¹ä¾¿ï¼Ÿå®é™…ä¸Šå¹¶éå¦‚æ­¤ï¼Œè¿˜è®°å¾— mutation å¿…é¡»åŒæ­¥æ‰§è¡Œè¿™ä¸ªé™åˆ¶ä¹ˆï¼ŸAction å°±ä¸å—çº¦æŸï¼æˆ‘ä»¬å¯ä»¥åœ¨ action å†…éƒ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼š 1234567actions: &#123; incrementAsync (&#123; commit &#125;) &#123; setTimeout(() =&gt; &#123; commit('increment') &#125;, 1000) &#125;&#125; Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼å’Œå¯¹è±¡æ–¹å¼è¿›è¡Œåˆ†å‘ï¼š 1234// ä»¥è½½è·å½¢å¼åˆ†å‘store.dispatch('incrementAsync', &#123; amount: 10&#125;) // ä»¥å¯¹è±¡å½¢å¼åˆ†å‘1234store.dispatch(&#123; type: 'incrementAsync', amount: 10&#125;) åœ¨ç»„ä»¶ä¸­åˆ†å‘ Actionä½ åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store.dispatch(â€˜xxxâ€™) åˆ†å‘ actionï¼Œæˆ–è€…ä½¿ç”¨ mapActions è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„ methods æ˜ å°„ä¸º store.dispatch è°ƒç”¨ï¼ˆéœ€è¦å…ˆåœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ï¼š1234567891011121314151617import &#123; mapActions &#125; from 'vuex'export default &#123; // ... methods: &#123; ...mapActions([ 'increment', // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch('increment')` // `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š 'incrementBy' // å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.dispatch('incrementBy', amount)` ]), ...mapActions(&#123; add: 'increment' // å°† `this.add()` æ˜ å°„ä¸º `this.$store.dispatch('increment')` &#125;) &#125;&#125; ModuleèƒŒæ™¯ï¼šåœ¨Vueä¸­Stateä½¿ç”¨æ˜¯å•ä¸€çŠ¶æ€æ ‘ç»“æ„ï¼Œåº”è¯¥çš„æ‰€æœ‰çš„çŠ¶æ€éƒ½æ”¾åœ¨stateé‡Œé¢ï¼Œå¦‚æœé¡¹ç›®æ¯”è¾ƒå¤æ‚ï¼Œé‚£stateæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å¯¹è±¡ï¼Œstoreå¯¹è±¡ä¹Ÿå°†å¯¹å˜å¾—éå¸¸å¤§ï¼Œéš¾äºç®¡ç†ã€‚ moduleï¼šå¯ä»¥è®©æ¯ä¸€ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€mutationã€actionã€getters,ä½¿å¾—ç»“æ„éå¸¸æ¸…æ™°ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚1234567891011121314151617181920212223const moduleA = &#123; state: &#123; ... &#125;, mutations: &#123; ... &#125;, actions: &#123; ... &#125;, getters: &#123; ... &#125;&#125;const moduleB = &#123; state: &#123; ... &#125;, mutations: &#123; ... &#125;, actions: &#123; ... &#125;&#125;const store = new Vuex.Store(&#123; modules: &#123; a: moduleA, b: moduleB &#125;&#125;)store.state.a // -&gt; moduleA çš„çŠ¶æ€store.state.b // -&gt; moduleB çš„çŠ¶æ€ æ¨¡å—çš„å±€éƒ¨çŠ¶æ€ å¯¹äºæ¨¡å—å†…éƒ¨çš„ mutation å’Œ getterï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡ã€‚ 123456789101112131415const moduleA = &#123; state: &#123; count: 0 &#125;, mutations: &#123; increment (state) &#123; // è¿™é‡Œçš„ `state` å¯¹è±¡æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€ state.count++ &#125; &#125;, getters: &#123; doubleCount (state) &#123; return state.count * 2 &#125; &#125;&#125; å¯¹äºæ¨¡å—å†…éƒ¨çš„ actionï¼Œå±€éƒ¨çŠ¶æ€é€šè¿‡ context.state æš´éœ²å‡ºæ¥ï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€åˆ™ä¸º context.rootState12345678910const moduleA = &#123; // ... actions: &#123; incrementIfOddOnRootSum (&#123; state, commit, rootState &#125;) &#123; if ((state.count + rootState.count) % 2 === 1) &#123; commit('increment') &#125; &#125; &#125;&#125; å¯¹äºæ¨¡å—å†…éƒ¨çš„ getterï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°æš´éœ²å‡ºæ¥ï¼š 12345678const moduleA = &#123; // ... getters: &#123; sumWithRootCount (state, getters, rootState) &#123; return state.count + rootState.count &#125; &#125;&#125; å‘½åç©ºé—´ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter æ˜¯æ³¨å†Œåœ¨å…¨å±€å‘½åç©ºé—´çš„â€”â€”è¿™æ ·ä½¿å¾—å¤šä¸ªæ¨¡å—èƒ½å¤Ÿå¯¹åŒä¸€ mutation æˆ– action ä½œå‡ºå“åº”ã€‚ å¦‚æœå¸Œæœ›ä½ çš„æ¨¡å—å…·æœ‰æ›´é«˜çš„å°è£…åº¦å’Œå¤ç”¨æ€§ï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ  namespaced: true çš„æ–¹å¼ä½¿å…¶æˆä¸ºå‘½åç©ºé—´æ¨¡å—ã€‚å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚ä¾‹å¦‚ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940const store = new Vuex.Store(&#123; modules: &#123; account: &#123; namespaced: true, // æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰ state: &#123; ... &#125;, // æ¨¡å—å†…çš„çŠ¶æ€å·²ç»æ˜¯åµŒå¥—çš„äº†ï¼Œä½¿ç”¨ `namespaced` å±æ€§ä¸ä¼šå¯¹å…¶äº§ç”Ÿå½±å“ getters: &#123; isAdmin () &#123; ... &#125; // -&gt; getters['account/isAdmin'] &#125;, actions: &#123; login () &#123; ... &#125; // -&gt; dispatch('account/login') &#125;, mutations: &#123; login () &#123; ... &#125; // -&gt; commit('account/login') &#125;, // åµŒå¥—æ¨¡å— modules: &#123; // ç»§æ‰¿çˆ¶æ¨¡å—çš„å‘½åç©ºé—´ myPage: &#123; state: &#123; ... &#125;, getters: &#123; profile () &#123; ... &#125; // -&gt; getters['account/profile'] &#125; &#125;, // è¿›ä¸€æ­¥åµŒå¥—å‘½åç©ºé—´ posts: &#123; namespaced: true, state: &#123; ... &#125;, getters: &#123; popular () &#123; ... &#125; // -&gt; getters['account/posts/popular'] &#125; &#125; &#125; &#125; &#125;&#125;) å¸¦å‘½åç©ºé—´çš„ç»‘å®šå‡½æ•° å½“ä½¿ç”¨ mapState, mapGetters, mapActions å’Œ mapMutations è¿™äº›å‡½æ•°æ¥ç»‘å®šå‘½åç©ºé—´æ¨¡å—æ—¶ï¼Œå†™èµ·æ¥å¯èƒ½æ¯”è¾ƒç¹çï¼š 123456789101112computed: &#123; ...mapState(&#123; a: state =&gt; state.some.nested.module.a, b: state =&gt; state.some.nested.module.b &#125;)&#125;,methods: &#123; ...mapActions([ 'some/nested/module/foo', 'some/nested/module/bar' ])&#125; å¯¹äºè¿™ç§æƒ…å†µï¼Œä½ å¯ä»¥å°†æ¨¡å—çš„ç©ºé—´åç§°å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸Šè¿°å‡½æ•°ï¼Œè¿™æ ·æ‰€æœ‰ç»‘å®šéƒ½ä¼šè‡ªåŠ¨å°†è¯¥æ¨¡å—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚äºæ˜¯ä¸Šé¢çš„ä¾‹å­å¯ä»¥ç®€åŒ–ä¸ºï¼š 123456789101112131415computed: &#123; ...mapState('some/nested/module', &#123; a: state =&gt; state.a, b: state =&gt; state.b &#125;)&#125;,methods: &#123; ...mapActions('some/nested/module', [ 'foo', 'bar' ])&#125;```è€Œä¸”ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ createNamespacedHelpers åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰æ–°çš„ç»‘å®šåœ¨ç»™å®šå‘½åç©ºé—´å€¼ä¸Šçš„ç»„ä»¶ç»‘å®šè¾…åŠ©å‡½æ•°ï¼š import { createNamespacedHelpers } from â€˜vuexâ€™ const { mapState, mapActions } = createNamespacedHelpers(â€˜some/nested/moduleâ€™) export default { computed: { // åœ¨ some/nested/module ä¸­æŸ¥æ‰¾ â€¦mapState({ a: state =&gt; state.a, b: state =&gt; state.b }) }, methods: { // åœ¨ some/nested/module ä¸­æŸ¥æ‰¾ â€¦mapActions([ â€˜fooâ€™, â€˜barâ€™ ]) }} ``` ä»¥ä¸Šä¾¿æ˜¯æˆ‘2å¤©æ¥å­¦ä¹ vuexçš„å¿ƒå¾—ï¼Œå¤§éƒ¨åˆ†å‚è€ƒçš„æ˜¯å®˜æ–¹çš„æ–‡æ¡£ï¼Œä¸å¾—ä¸è¯´vuexçš„æ–‡æ¡£æ¯”reduxæ–‡æ¡£å®¹æ˜“ç†è§£å¤šï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šæŠŠå®˜æ–¹çš„åˆ—å­è´­ç‰©è½¦ç©ä¸€ä¸‹ï¼Œç„¶åè‡ªå·±åœ¨å†™ä¸€ä¸ªtodo-list,vue2 è¿˜æ˜¯å¤§ç•¥çš„è¿‡äº†ä¸€éï¼Œè¿˜æ˜¯è¦å†™ä¸ªå°é¡¹ç›®ç†Ÿæ‚‰æ¡†æ¶ï¼Œä¸€ä¸ªQAåœ¨å‰ç«¯çš„è·¯é€”ä¸Šè¶Šèµ°è¶Šè¿œï¼Œå¸Œæœ›å­¦åˆ°å‰ç«¯çŸ¥è¯†èƒ½å¤Ÿå¸®æˆ‘åœ¨æµ‹è¯•å’Œè‡ªåŠ¨åŒ–çš„é“è·¯ä¸Šæœ‰æ‰€çªç ´ã€‚","categories":[],"tags":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"http://yoursite.com/tags/å¤§å‰ç«¯/"}],"keywords":[]},{"title":"2017å¹´qaåº”æŒæ¡çš„æŠ€èƒ½","slug":"devopsforqa","date":"2017-04-06T03:24:00.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2017/04/06/devopsforqa/","link":"","permalink":"http://yoursite.com/2017/04/06/devopsforqa/","excerpt":"","text":"DevOps &amp; æ•æ·æ–¹æ³•éšç€å¯¹äºåœ¨äº¤ä»˜æœŸé™å†…å®Œæˆé¡¹ç›®çš„è¿«åˆ‡éœ€æ±‚ï¼Œæµ‹è¯•äººå‘˜éœ€è¦å­¦ä¹ æ•æ·æ–¹æ³•å’ŒDevOpsï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥å¸®åŠ©ä¿ƒè¿›å›¢é˜Ÿä¹‹é—´çš„åä½œå’Œæ”¹è¿›è¿­ä»£é—´å·¥ä½œæ¨¡å¼ã€‚æ•æ·æ–¹æ³•ä¸ºæµ‹è¯•é¡¹ç›®æä¾›äº†é¡¹ç›®å¼€å‘æ‰€éœ€è¦é€Ÿåº¦ä¸æ•ˆç‡ï¼Œè€ŒDevOpså¯ä»¥ä»å¼€å‘ï¼Œåˆ†æå’Œè´¨é‡ä¿è¯æµç¨‹ä¸­ååŠ©è·¨èŒèƒ½çš„å›¢é˜Ÿåˆä½œï¼Œä»è€Œåœ¨æ›´çŸ­çš„æ—¶é—´å†…äº§ç”Ÿå‡ºé«˜è´¨é‡çš„äº§å“ã€‚æ­¤å¤–ï¼Œå­¦ä¹ è¿™äº›æ–¹æ³•æœ€ç»ˆæ¶ˆé™¤äº†è§’è‰²é—´åƒµåŒ–å’Œå­¤å²›ï¼Œè®©å›¢é˜Ÿå¯†åˆ‡å…³æ³¨å¼€å‘æµç¨‹å’ŒæŒç»­å‘å¸ƒã€‚å‘ä¸Šé¢devopså·¥ä½œæµä¸€æ ·ï¼Œdevops æ‰“é€šé¡¹ç›®æµç¨‹æ¯ä¸€ä¸ªç¯èŠ‚ï¼Œä»ä»£ç çš„ç®¡ç†ï¼Œåˆ°buildã€test åˆ°æœ€å¥½éƒ¨ç½²åˆ°prodç¯å¢ƒï¼Œå¯¹äºqaæ¥è¯´ï¼Œäº†è§£å…¶ä¸­çš„æµç¨‹ï¼Œå¯¹äºqaå·¥ä½œæœ‰éå¸¸çš„å¥½å¤„ï¼Œé€šè¿‡devopsä¸€äº›ç›‘æ§å·¥å…·ä¾‹å¦‚airbrakeæˆ‘ä»¬å¯ä»¥å®æ–½æŸ¥çœ‹ç³»ç»Ÿå‘ç”Ÿçš„é—®é¢˜ï¼Œä¸devä¸€èµ·åˆ†æé—®é¢˜å‘ç”Ÿçš„åŸå› ï¼Œé€šè¿‡GA newrelicè¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æç³»ç»Ÿç”¨æˆ·è¡Œä¸ºï¼Œç»™ç³»ç»Ÿæ€§èƒ½æµ‹è¯•ä¸åˆ†ææä¾›æ•°æ®ä¸Šçš„æ”¯æŒã€‚é€šè¿‡å¯¹äºäº†è§£devopså·¥ä½œæµï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æé¡¹ç›®ä¸­å­˜åœ¨é£é™©ï¼ŒåŠæ—¶æ”¹è¿›æµç¨‹ï¼Œé€šè¿‡dockerç­‰å®¹å™¨åŒ–çš„å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥å°†æµ‹è¯•æ”¾åˆ°å®¹å™¨ä¸­æ‰§è¡Œï¼Œé™ä½æµ‹è¯•å¯¹äºç¯å¢ƒçš„ä¾èµ–ï¼Œè¿›ä¸€æ­¥æ”¹è¿›è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ‰€ä»¥è¯´äº†è§£devopsçŸ¥è¯†å¯¹äºqaæ¥è¯´ç™¾åˆ©æ— ä¸€å®³ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ã€‚ è‡ªåŠ¨åŒ–é¢å¯¹åº”ç”¨ç¨‹åºæ—¥ç›Šå¢åŠ å¤æ‚æ€§å’Œç³»ç»Ÿé›†æˆï¼Œä¾é æ‰‹åŠ¨æµ‹è¯•å·²ç»æ— æ³•å®Œæˆå…¨éƒ¨æµ‹è¯•å·¥ä½œã€‚ä¸ºäº†æµ‹è¯•æµè§ˆå™¨å…¼å®¹æ€§ï¼Œæ€§èƒ½ï¼Œæ— å¤´ä»¥åŠæ•°æ®åº“å’Œé›†æˆå±‚é¢ï¼Œæµ‹è¯•äººå‘˜åº”è¯¥å­¦ä¹ è‡ªåŠ¨åŒ–ç›¸å…³çš„æŠ€èƒ½ï¼Œå› ä¸ºå®ƒå¯ä»¥æä¾›ä¸šåŠ¡é€»è¾‘å’ŒæŠ€æœ¯å±‚é¢æ›´é«˜æ›´å‡†ç¡®æ›´å¯é æ”¯æŒã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å‡ ç§è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ä¸“é—¨æ”¯æŒç‰¹å®šé¢†åŸŸçš„æµ‹è¯•ç±»å‹ï¼Œå¹¶å…·æœ‰å¿«é€Ÿé«˜æ•ˆåœ°å®Œæˆä»»åŠ¡çš„åŠŸèƒ½ã€‚å¦‚ä¸Šå›¾ï¼Œå¾ˆå¤šQAæˆ–è€…testeræœ‰ä¸€ä¸ªè¯¯åŒºï¼Œæåˆ°è‡ªåŠ¨åŒ–å¼ å˜´é—­å˜´éƒ½æ˜¯seleniumï¼Œç”šè‡³æœ‰çš„äººè¿webdriverä¸seleniumåŒºåˆ«éƒ½ä¸çŸ¥é“ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘è¦æ¾„æ¸…ï¼Œuiè‡ªåŠ¨åŒ–æµ‹è¯•åªæ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œè¿˜åŒ…æ‹¬apiï¼Œæ¥å£ï¼Œå•å…ƒæµ‹è¯•ï¼Œé›†æˆæµ‹è¯•ï¼Œç”šè‡³æ€§èƒ½æµ‹è¯•æˆ‘ä»¬éƒ½åº”è¯¥ç§°ä¸ºè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚ ç½‘ç»œä¸ç§»åŠ¨æŠ€æœ¯ æ¯ä¸ªæµ‹è¯•äººå‘˜è¿˜å¿…é¡»ç†Ÿæ‚‰webå’Œmobileç›¸å…³æŠ€æœ¯ï¼Œä»¥ä¾¿ä»–ä»¬èƒ½å¤Ÿæ›´å¥½äº†è§£åº”ç”¨ç¨‹åºçš„ç±»å‹ä¸æ¶æ„ï¼Œå¦‚ä½•æ„å»ºï¼Œä»¥åŠç›¸åº”çš„å¯æ‰©å±•æ€§ï¼Œå¹¶ä¸ºä»¥åæµ‹è¯•æä¾›ç›¸åº”èƒŒæ™¯çŸ¥è¯†ã€‚è¿™å¯¹äºæµ‹è¯•äººå‘˜éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒèƒ½å¤ŸæŒ‡å¯¼QAç†è§£é¡¹ç›®æ¶æ„ä¸æ‰€é¢ä¸´æŠ€æœ¯æŒ‘æˆ˜ï¼Œæä¾›æ›´æœ‰æ•ˆçš„QAè§£å†³æ–¹æ¡ˆã€‚è¿™é‡Œå­¦é—®æ›´å¤šï¼Œå®Œå…¨æ˜¯ä¸¤å¤§æ–¹å‘ï¼ŒçŸ¥è¯†é¢†åŸŸéƒ½éå¸¸çš„å¹¿å¤§ï¼Œä¾‹å¦‚webç«¯æˆ‘ä»¬å¯èƒ½è¦æµ‹è¯•ä¸åŒæµè§ˆå™¨å…¼å®¹æ€§ï¼Œå¯¹äºmobileæ¥è¯´ï¼Œå°¤å…¶æ˜¯androidè¿™ç§ç‰ˆæœ¬ç¢ç‰‡åŒ–ä»¥åŠå„ç§è‡ªå®šä¹‰ç³»ç»Ÿä»¥åŠuiæ”¹æ›´èƒ½ä¼šé€ æˆå„ç§ä¸ªæ ·çš„é—®é¢˜ï¼Œå¯¹äºmobileæˆ‘ä»¬ç”šè‡³è¦è€ƒè™‘æ›´å¤šåœºæ™¯ï¼Œä¾‹å¦‚appæ˜¯å¦å…·æœ‰å†…å­˜æ³„éœ²ï¼Œç”µé‡æ¶ˆè€—çš„å¿«æ…¢ï¼Œæ¨ªç«–å±çš„å½±å“ç­‰ç­‰ã€‚ä¸åŒæ„å»ºå·¥å…·ï¼Œå¼€å‘ç¯å¢ƒçš„åŒºåˆ«ç­‰å¯¹äºqaæ¥è¯´åˆè¦é¢å¯¹ä¸€å †æœªçŸ¥é¢†åŸŸï¼Œæ²¡äº‹ï¼Œç»§ç»­åŠ æ²¹ã€‚ SDLC è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼ˆSystems Development Life Cycleï¼‰ æµ‹è¯•äººå‘˜ä¹Ÿè¢«å»ºè®®å­¦ä¹ è½¯ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†æŠ€èƒ½ï¼Œè¿™å°†æœ‰åŠ©äºQAæ›´è½»æ¾äº†è§£åº”ç”¨ç¨‹åºå¼€å‘ä»»åŠ¡å’Œæµ‹è¯•è®¡åˆ’å‘¨æœŸã€‚å¯¹SDLCå‘¨æœŸçš„æ·±å…¥äº†è§£è¿˜æœ‰åŠ©äºé¢„æµ‹åº”ç”¨ç¨‹åºçš„å¤æ‚æ€§ï¼Œä»è€Œæå‰é‡‡å–æ­£ç¡®çš„æªæ–½ã€‚å› æ­¤ï¼Œæµ‹è¯•äººå‘˜è¿˜å¿…é¡»å­¦ä¹ é€‚ç”¨äºé¡¹ç›®å¼€å‘ç”Ÿå‘½å‘¨æœŸæµç¨‹çš„å‡ ç§å¼€å‘æ–¹æ³•ï¼Œå¦‚ç€‘å¸ƒï¼Œçœ‹æ¿ï¼ŒScrumï¼Œç²¾ç›Šç­‰ã€‚ä½œä¸ºä¸€ä¸ªqa,æˆ‘ä»¬åº”å…³æ³¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­çš„æ¯ä¸€æ­¥ï¼Œäº†è§£æ•æ·å¼€å‘è¿­ä»£ä¸­çš„å„ä¸ªç¯èŠ‚åŠæ—¶ä½œå‡ºåé¦ˆï¼Œæ‰€ä»¥æœ‰æ—¶qaä¹Ÿéœ€è¦æ‰¿æ‹…scrum masterçš„è´£ä»»ï¼Œä¾‹å¦‚æŸä¸ªstoryè¿›åº¦è¶…è¿‡é¢„å®šæœŸé™æœªå®Œæˆï¼Œæˆ‘ä»¬å°±åº”å½“äº†è§£åŸå› ï¼ŒåŠæ—¶ä¸å›¢é˜Ÿæˆå‘˜ä»¥åŠå®¢æˆ·æ²Ÿé€šã€‚ ç†æ€§åˆ†æä¸é€»è¾‘æ€ç»´ä¸ºäº†ä¿æŒç«äº‰åŠ›ï¼ŒQAè¿˜åº”è¯¥å­¦ä½¿ç”¨ç†æ€§ï¼Œåˆ†ææ€§å’Œé€»è¾‘æ€§æ€ç»´æ¥æ€è€ƒé—®é¢˜ï¼Œå› ä¸ºè¿™äº›æŠ€èƒ½åœ¨æµ‹è¯•åº”ç”¨æ—¶å¯ä»¥å¸®åŠ©QAè¯†åˆ«é”™è¯¯ï¼Œäº†è§£é—®é¢˜çš„å¤æ‚æ€§ï¼Œè¯„ä¼°åº”ç”¨ç¨‹åºçš„ä¸ç†Ÿæ‚‰çš„åŠŸèƒ½å¹¶ç›¸åº”åœ°è¿›è¡Œæµ‹è¯•ã€‚å…·æœ‰è‰¯å¥½çš„åˆ†æå’Œæ¨ç†èƒ½åŠ›æœ‰åŠ©äºæ ¹æ®åœ¨ä¸åŒåœºæ™¯ä¸‹éªŒè¯åº”ç”¨ç¨‹åºï¼Œå¹¶æ ¹æ®é¢„å…ˆå®šä¹‰çš„æ ‡å‡†æ¥è¯„ä¼°åº”ç”¨ç¨‹åºã€‚è¿™è¿›ä¸€æ­¥æœ‰åŠ©äºè¯„ä¼°ç›¸å…³ä¿¡æ¯ï¼Œæå‡ºæ˜ç¡®çš„é—®é¢˜ï¼Œç¡®å®šä¼˜åŠ¿å’Œå¼±ç‚¹ï¼Œè€Œä¸ä¼šæŒæœ‰åè§ï¼Œè¿™æœ‰åŠ©äºå®æ–½æ­£ç¡®çš„è¡ŒåŠ¨æ–¹æ¡ˆå’Œè§£å†³æ–¹æ¡ˆã€‚ ç¤¾äº¤ç½‘ç»œä»»ä½•è¡Œä¸šçš„ä»»ä½•ä¸“ä¸šäººå£«éƒ½éœ€è¦ç¤¾äº¤ç½‘ç»œæŠ€èƒ½ã€‚ç”±äºç¤¾äº¤ç½‘ç»œå¯ä»¥å³æ—¶è®¿é—®è®¨è®ºï¼Œèµ„æºå’Œå†…å®¹ï¼Œå› æ­¤åœ¨è¿™æ–¹é¢çš„æŠ€å·§æœ‰åŠ©äºä¸å…¶å®ƒQAè¿›è¡Œäº’åŠ¨ï¼Œå­¦ä¹ æ–°äº‹ç‰©å¹¶æ›´æ–°è‡ªå·±çš„çŸ¥è¯†ä½“ç³»çš„å¹¿åº¦ä¸æ·±åº¦ã€‚æ‹¥æœ‰ç¤¾äº¤ç½‘ç»œæŠ€èƒ½è¿˜å¯è®©æ‚¨ä¸å„ç§ä¸“å®¶è¿›è¡Œäº¤æµï¼Œäº¤æµç–‘é—®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å»ºç«‹é•¿æœŸçš„åˆä½œå…³ç³»ï¼Œå¸®åŠ©æ‚¨çš„ä¸“ä¸šæŠ€èƒ½å’Œä¼ä¸šè¾¾åˆ°æ‰€éœ€ç›®æ ‡ã€‚ æµ‹è¯•å·¥å…·å’ŒæŠ€æœ¯æ¯ä¸ªQAéƒ½å¿…é¡»äº†è§£ä¸åŒçš„æµ‹è¯•æŠ€æœ¯å’Œä½¿ç”¨å·¥å…·ã€‚æ— è®ºä½ çš„é¡¹ç›®å±äºé‚£ä¸ªé¢†åŸŸå’Œåº”ç”¨ç¨‹åºç±»å‹ï¼Œéƒ½åº”å…·æœ‰é»‘ç›’æµ‹è¯•ï¼Œæ¸—é€æµ‹è¯•ï¼Œå®‰å…¨æµ‹è¯•ï¼Œç³»ç»Ÿæµ‹è¯•ï¼Œå•å…ƒæµ‹è¯•ç­‰ï¼Œæµ‹è¯•äººå‘˜å…·æœ‰å¤šåŠŸèƒ½æ€§ï¼Œå¯ä»¥å¸®åŠ©ä»–ä»¬åœ¨ä»»ä½•ç±»å‹çš„é¡¹ç›®ä¸Šå·¥ä½œã€‚æ­¤å¤–ï¼Œéšç€å•†ä¸šåŒ–çš„ä¸“ä¸šæµ‹è¯•å·¥å…·æ•°é‡çš„å¢åŠ ï¼Œä¾‹å¦‚bugè·Ÿè¸ªå·¥å…·ï¼Œæµ‹è¯•ç®¡ç†å·¥å…·ï¼ŒGUIæµ‹è¯•å·¥å…·ï¼Œè‡ªåŠ¨åŒ–å·¥å…·ç­‰ï¼Œæµ‹è¯•äººå‘˜å¯ä»¥äº†è§£è¿™äº›å·¥å…·çš„ç‰¹ç‚¹ï¼Œé€‰æ‹©é€‚ç”¨äºæ‰€åœ¨é¡¹ç›®éœ€æ±‚å·¥å…·ï¼Œä»¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚å’Œå¤æ‚æ€§ã€‚ ç¼–ç¨‹ å½“æˆ‘ä»¬è°ˆè®ºç¼–ç¨‹æ—¶ï¼ŒQAå½“ç„¶ä¸ä¼šåƒå¼€å‘äººå‘˜ä¸€æ ·å·¥ä½œï¼Œä½†æ˜¯QAéœ€è¦ç†è§£åº”ç”¨ç¨‹åºçš„å®ç°åŸç†ä¸é¡¹ç›®æ¶æ„ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“çš„åˆ›å»ºæ‰€éœ€çš„æµ‹è¯•ã€‚ç¼–ç¨‹çŸ¥è¯†æœ‰åŠ©äºè¯†åˆ«åº”ç”¨ç¨‹åºä»£ç ä¸­çš„å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ï¼Œè¿™å°±è¿›ä¸€æ­¥é™ä½äº†åº”ç”¨ç¨‹åºå‘ç”Ÿé”™è¯¯çš„æ¦‚ç‡ã€‚æ‰€ä»¥å»ºè®®å­¦ä¹ è‡³å°‘ä¸¤ç§ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ ·çš„è¯æµ‹è¯•äººå‘˜å°±èƒ½å¤Ÿæ›´å¥½çš„äº†è§£åº”ç”¨ç¨‹åºçš„è§£å†³æ–¹æ¡ˆï¼Œä»¥ç¡®ä¿çš„åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„è´¨é‡ã€‚ æ²Ÿé€š - ä¹¦é¢å’Œå£å¤´ æ¯ä¸ªQAè¿˜åº”å…·å¤‡è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›ã€‚é€šè¿‡è‰¯å¥½çš„æ²Ÿé€šï¼Œå¯¹äºé¡¹ç›®çš„æ‰€æœ‰è§’è‰²æ¥è¯´ï¼ŒQAåº”è¯¥æ˜¯ä¸€ä¸ªå¥½çš„ä½œå®¶ï¼Œæ¼”è®²è€…ï¼Œå¬ä¼—å’Œè¯»è€…ï¼Œä¾‹å¦‚å°†é¡¹ç›®çš„çŠ¶æ€æ›´æ–°ç»™å®¢æˆ·ï¼Œå‘å›¢é˜Ÿé€šçŸ¥storyçš„éœ€æ±‚å˜æ›´ï¼Œä¸å¼€å‘äººå‘˜äº¤æµbugçš„ç»†èŠ‚ï¼Œå°†éœ€æ±‚æ–‡æ¡£è½¬åŒ–ä¸ºæµ‹è¯•ç”¨ä¾‹ï¼Œå‡†å¤‡æµ‹è¯•æŠ¥å‘Šç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè‰¯å¥½çš„æ²Ÿé€šæœ‰åŠ©äºè¡¨ç°å‡ºä¸ªäººé«˜åº¦çš„ç†è§£èƒ½åŠ›ï¼Œè¿›ä¸€æ­¥å¸®åŠ©QAåœ¨é€»è¾‘æ€ç»´å’Œç†æ€§åˆ†æåŸºç¡€ä¸Šå‘æŠ€æœ¯äººå‘˜å’ŒéæŠ€æœ¯äººå‘˜æä¾›åé¦ˆæ„è§ã€‚ æ™ºåŠ›ä¸åˆ›æ„è½¯ä»¶æµ‹è¯•å¹¶ä¸æ˜¯ä¸€ä¸ªç¨‹åºåŒ–æˆ–å¹³å‡¡çš„ä»»åŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªéœ€è¦åˆ›é€ åŠ›å’Œé€»è¾‘åˆ†æçš„è¿‡ç¨‹ã€‚æ™ºåŠ›å’Œåˆ›é€ åŠ›æ— æ³•æ”¹å˜ï¼Œä½†æ˜¯ï¼Œå¯ä»¥é€šè¿‡è´¨ç–‘åº”ç”¨ç¨‹åºè¡Œä¸ºå¹¶åˆ†æåº”ç”¨ç¨‹åºçš„ä¸åŒæ–¹é¢æ¥äº†è§£å…¶å·¥ä½œåŸç†ã€‚å¦å¤–ï¼Œé€šè¿‡è®¾è®¡ä¸€äº›åº”ç”¨åœºæ™¯ï¼Œæµ‹è¯•äººå‘˜å¯ä»¥å°è¯•æ¢ç´¢æ€§æµ‹è¯•ï¼Œæ¥è¯†åˆ«æ›´å¤šç¼ºé™·ï¼Œå¹¶å¯»æ±‚æä¾›æœ‰æ•ˆäº§å“è´¨é‡çš„å¯èƒ½è§£å†³æ–¹æ¡ˆã€‚ æµ‹è¯•è®¡åˆ’å’Œæ–‡æ¡£ æµ‹è¯•è®¡åˆ’å’Œæ–‡æ¡£å¯¹äºæ¯ä¸ªQAè‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒæœ‰åŠ©äºç¡®å®šæ­£ç¡®çš„éœ€æ±‚ä»¥åŠé‡‡å–åˆç†çš„æ­¥éª¤ã€‚æ­¤å¤–è¿˜å¯ä»¥å¸®åŠ©è·Ÿè¸ªéœ€æ±‚å˜åŒ–ï¼Œæ£€æŸ¥æµ‹è¯•è¿‡ç¨‹å’Œè·Ÿè¸ªåå·®ï¼Œå¹¶æœ‰åŠ©äºæŠ¥å‘Šå’Œè®°å½•å·¥ä½œã€‚ä¸€ä¸ªè®°å½•è‰¯å¥½çš„æµ‹è¯•è¿‡ç¨‹ä¹Ÿå¯ä»¥å¸®åŠ©ä¸ªåˆ«æµ‹è¯•è€…å’Œä¼ä¸šå°†æ­£ç¡®çš„é¢„ç®—å’Œèµ„æºåˆ†é…ç»™ä¸€ä¸ªé¡¹ç›®ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæµ‹è¯•è®¡åˆ’å’Œæ–‡æ¡£æŠ€èƒ½æ˜¯æ¯ä¸ªæµ‹è¯•äººå‘˜å¿…é¡»å­¦ä¹ çš„é‡è¦æŠ€èƒ½ä¹‹ä¸€ã€‚ é¡¹ç›®ç®¡ç†å­¦ä¹ é¡¹ç›®ç®¡ç†çš„æŠ€èƒ½ï¼Œå¸®åŠ©QAæé«˜å¯¹äºå¤„ç†é—®é¢˜çš„èƒ½åŠ›ã€‚ä¾‹å¦‚é¡¹ç›®ä¸­æŸä¸ªç¯èŠ‚å‘ç”Ÿé—®é¢˜ï¼Œé€šè¿‡é¡¹ç›®ç®¡ç†æŠ€èƒ½ï¼Œèƒ½å¤ŸåŠæ—¶çš„åˆ†æé—®é¢˜å½±å“å¹¿åº¦ï¼ŒåŠæ—¶å¯»æ‰¾ç›¸å…³äººå‘˜åä½œå¤„ç†é—®é¢˜ï¼Œé¡¹ç›®ç®¡ç†æŠ€èƒ½æœ‰åŠ©äºQAäº†è§£é¡¹ç›®æµç¨‹ä¸­æ‰€å­˜åœ¨çš„é—®é¢˜ï¼Œæ¥å¸®åŠ©æ›´å¥½æ”¹è¿›æ•´ä¸ªæµ‹è¯•è¿‡ç¨‹ã€‚ å®¢æˆ·æ”¯æŒ ä¸è¿‡å»é¡¹ç›®æœ‰æ‰€ä¸åŒï¼Œç°ä»£æµ‹è¯•é¡¹ç›®è¦æ±‚QAæä¾›å®¢æˆ·æ”¯æŒå¹¶ä»ä»–ä»¬çš„è§’åº¦æ€è€ƒã€‚ä½œä¸ºQAå¹¶ä¸æ„å‘³ç€æˆ‘åªæ˜¯å…³å¿ƒåŠŸèƒ½æ˜¯å¦æ­£ç¡®ï¼Œå› ä¸ºæµ‹è¯•é¡¹ç›®çš„æˆåŠŸæˆ–å¤±è´¥å› ç´ å¾ˆå¤šï¼Œè€Œä¸ä»…ä»…åªæ˜¯å±€é™äºåŠŸèƒ½å±‚é¢ï¼Œå› æ­¤QAåº”åŠæ—¶åº”å¯¹å’Œæ”¯æŒå®¢æˆ·æå‡ºçš„éœ€æ±‚ï¼Œå¹¶æ‰€ä»–ä»¬è§’åº¦æ€è€ƒå“ªäº›æ–¹é¢ä»ç„¶éœ€è¦æ”¹å–„ã€‚ æŠ¥å‘Šä¼˜ç§€çš„QAå¿…é¡»æ‹¥æœ‰è‰¯å¥½æŠ¥å‘ŠæŠ€èƒ½ï¼Œæ‰èƒ½å‘é¡¹ç›®çš„æˆå‘˜ä¸å®¢æˆ·æä¾›æµ‹è¯•é¡¹ç›®å’Œè¢«æµ‹è¯•åº”ç”¨çš„ç¡®åˆ‡çŠ¶æ€ã€‚è¿™ç§æŠ¥å‘Šå®è·µå¯ä»¥æ›´å¥½åœ°åè°ƒæ•´ä¸ªæµ‹è¯•é¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿä¸ºé«˜å±‚ç®¡ç†äººå‘˜æä¾›æ‰§è¡Œè¯¦ç»†çš„æ•°æ®ï¼Œä¾‹å¦‚æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡ï¼Œbugçš„æ•°é‡ï¼Œå‘å¸ƒæ—¶é—´è¡¨ç­‰ï¼Œæœ€ç»ˆæœ‰åŠ©äºå…¶åšå‡ºæ­£ç¡®çš„å†³ç­–ã€‚ ç‹¬ç«‹å·¥ä½œæœ€åï¼ŒQAåº”è¯¥å­¦ä¹ å¦‚ä½•ç‹¬ç«‹å·¥ä½œçš„æŠ€èƒ½ã€‚è¿™å°†æé«˜ä»–ä»¬ä»éœ€æ±‚ç†è§£ï¼ˆæŠ€æœ¯å’Œä¸šåŠ¡éœ€æ±‚ï¼‰åˆ°äº§å‡ºçš„æœ€ç»ˆäº¤ä»˜å·¥ä½œçš„èƒ½åŠ›ï¼Œé‡‡å–æ­£ç¡®çš„æ­¥éª¤ï¼Œåœ¨æ²¡æœ‰ä»–äººçš„å¸®åŠ©æˆ–ç»ç†çš„ç›‘ç£ã€‚å­¦ä¹ ç‹¬ç«‹å·¥ä½œå°†ä¼šå¢åŠ å¯¹ä»–ä»¬çš„ä¿¡å¿ƒã€‚ æ— è®ºç»éªŒå¤šå°‘ï¼ŒQAéƒ½åº”åŠªåŠ›ä¸æ–­å­¦ä¹ å’Œæé«˜è½¯ä»¶æµ‹è¯•æŠ€èƒ½å’ŒçŸ¥è¯†ã€‚æ— è®ºæ˜¯è‡ªå­¦ä¹ è¿˜æ˜¯å‚ä¸åŸ¹è®­è®¡åˆ’ï¼Œæµ‹è¯•äººå‘˜åº”ä¸æ–­å­¦ä¹ æ–°çš„æ–¹æ³•ï¼Œä»¥æé«˜æµ‹è¯•å·¥ä½œä¸­çš„æ•ˆç‡ï¼Œå¹¶ç»§ç»­åº”ç”¨æ–°æŠ€èƒ½å’Œå­¦ä¹ ï¼Œä½¿è‡ªå·±å¤„äºé¢†å…ˆåœ°ä½ã€‚","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"http://yoursite.com/tags/devops/"}],"keywords":[]},{"title":"","slug":"code-coverage","date":"2017-02-16T02:32:59.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2017/02/16/code-coverage/","link":"","permalink":"http://yoursite.com/2017/02/16/code-coverage/","excerpt":"","text":"title: 100% code coverage != 100% testdate: 2017-02-16 10:32:59tags: - QA100% code coverage != 100% testå¼•è¨€ å¾ˆå¤šäººçœ‹åˆ°è¿™ä¸ªæ ‡é¢˜æ—¶ï¼Œå°±åœ¨æƒ³ä½ éƒ½100%ä»£ç è¦†ç›–äº†ï¼Œæ€ä¹ˆè¿˜ä¼šæœ‰é—®é¢˜å‘¢ï¼Ÿ è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸‹ä»£ç æ —å­ï¼š Code example 123456789public class TestCalculator &#123;public Double add(Double a, Double b) &#123;return a + b;&#125;&#125; å†è®©æˆ‘ä»¬çœ‹çœ‹ç”¨junitå†™å‡ºçš„æµ‹è¯•ä»£ç ï¼š @Test public void testAdd() { Double a = new Double(1); Double b = new Double(2); Double c = new Double(3); assertEquals(c, testCalculator.add(a, b)); }å½“æˆ‘ä»¬åœ¨Eclipseä½¿ç”¨ EclEmme Code Coverage æ’ä»¶æµ‹è¯•æ—¶ï¼Œ å¯¹äºè¿™ä¸ªç±»æˆ‘ä»¬å°†å¾—åˆ° 100% Line-Coverage. ä¸€åˆ‡çœ‹èµ·æ¥éƒ½é‚£ä¹ˆçš„å®Œç¾ï¼ŒçœŸæ˜¯è¿™æ ·çš„å—ï¼Ÿ å¥½å§ï¼Œè®©æˆ‘ä»¬æ¥æ¥çœ‹çœ‹å¦ä¸€ä¸ªæµ‹è¯•ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸ºnullæ—¶ï¼Œè¿”å›å€¼å°†ä¼šæ€æ ·ï¼Ÿ 12345678910111213@Testpublic void testAddNullPointerException() &#123;Double a = new Double(1);Double b = null;Double c = new Double(3);assertEquals(c, testCalculator.add(a, b));&#125; å¥½äº†ï¼Œä½ ä¼šå‘ç°å°½ç®¡ä½ çš„è¦†ç›–ç‡ä¸º100%ï¼Œä½†ç¨‹åºå´æŠ›å‡ºäº†NullPointerExceptionå¼‚å¸¸ã€‚ å¯¹äºå¾ˆå¤šPMæ¥è¯´ä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªæµ‹è¯•ä»£ç ,å› ä¸º100%çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡æ€»æ¯”50%çš„æµ‹è¯•ä»£ç è¦æ›´å¥½! ä½†æ˜¯è¿™æœ‰ç”¨ä¹ˆï¼Ÿæˆ‘ä»¬å¯èƒ½å¿½ç•¥äº†æ›´é‡è¦çš„ä¸šåŠ¡åœºæ™¯æµ‹è¯•ã€‚ å“ˆå“ˆï¼Œå°å°çš„å˜²è®½äº†éƒ¨åˆ†PMã€‚ æˆ‘ä»¬åº”å½“è½¬æ¢ä¸‹æ€ç»´ï¼Œæ€è€ƒä»¥ä¸‹é—®é¢˜ã€‚ 100%çš„è¦†ç›–ç‡å¹¶ä¸æ„å‘³ä½ çš„æµ‹è¯•ä»£ç è´¨é‡å¾ˆé«˜ï¼Œä¸Šé¢é‚£ä¸ªåˆ—å­å°±æ˜¯å…¸å‹ã€‚ 100%çš„è¦†ç›–ç‡å¹¶ä¸æ„å‘³ç€æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯éƒ½è¢«è¦†ç›–ã€‚ å¯¹äºé¡¹ç›®æˆ‘ä»¬æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•ï¼Ÿ è¿™é‡Œçš„æµ‹è¯•ä¸ä»…ä»…åŒ…æ‹¬ä»£ç çº§åˆ«çš„å•å…ƒæµ‹è¯•ï¼Œè¿˜è¦é›†æˆæµ‹è¯•ï¼Œæ¥å£æµ‹è¯•ï¼Œé»‘ç›’æµ‹è¯•ï¼Œå¯ç”¨æ€§æµ‹è¯•ç­‰ç­‰ã€‚åªæœ‰å…¨éƒ¨å¾—æµ‹è¯•é€šè¿‡åï¼Œæ‰èƒ½è¯´æ˜åŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œä»…ä»…å•ä¸€çš„å•å…ƒæµ‹è¯•ï¼Œå¯¹äºæ•´ä¸ªé¡¹ç›®æ¥è¯´ï¼ŒåŸºæœ¬æ²¡ç”¨ã€‚ æ‰€ä»¥100%çš„ä»£ç è¦†ç›–ç‡å€¼å¾—è¿½æ±‚å—? æ˜¯çš„ï¼Œè¿™åº”è¯¥æ˜¯æ¯ä¸ªç¨‹åºçŒ¿æ¯•ç”Ÿè¿½æ±‚çš„ä¹‹ä¸€ï¼Œä½†æ˜¯å¦‚æœä»é¡¹ç›®è§’åº¦è€ƒè™‘ï¼ŒROI(æŠ•å…¥äº§å‡ºæ¯”)ï¼Œå¦‚æœä½ çš„é¡¹ç›®æ˜¯ä¸€ä¸ªçŸ­æœŸé¡¹ç›®ï¼Œéœ€è¦å¿«é€Ÿä¸Šçº¿ï¼Œé‚£ä¹ˆè¿™æ—¶å€™ä½ éœ€è¦æ³¨é‡çš„æ˜¯æµ‹è¯•åº”è¦†ç›–æ ¸å¿ƒåŠŸèƒ½ä»£ç ã€‚å¦‚æœä½ çš„é¡¹ç›®æ˜¯ä¸€ä¸ªé•¿æœŸé¡¹ç›®ï¼Œé‚£ä¹ˆé«˜è¦†ç›–ç‡æ˜¯éè¦æœ‰å¿…è¦çš„ï¼Œå®ƒæ„å‘³ç€å¯ç»´æŠ¤æ€§ï¼Œä»¥åŠæ›´å°‘çš„bugã€‚(å‰ææ˜¯ä½ çš„æµ‹è¯•é‡‡ç”¨TDD/BDDæ–¹å¼ç¼–å†™ï¼Œæˆ‘è§è¿‡å°†æµ‹è¯•ä»£ç å†™çš„ä¸€å›¢ç³Ÿçš„äººï¼Œçœ‹ç€ä»–çš„ä»£ç ï¼Œæˆ‘å®æ„¿é‡æ–°ä¸€é) é‚£ä¹ˆå¯¹äºä¸€ä¸ªé¡¹ç›®æ¥è¯´è¦†ç›–ç‡åº”è¯¥è¾¾åˆ°å¤šå°‘ï¼Ÿ å…¶å®æ²¡æœ‰å…·ä½“æ•°å€¼èƒ½å¤Ÿè¦†ç›–åˆ°æ‰€æœ‰çš„é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½åº”æœ‰è‡ªå·±çš„é˜ˆå€¼ï¼Œä½†å…±æ€§æ˜¯ï¼Œå¿…é¡»æµ‹è¯•å¿…é¡»è¦†ç›–ä¸»è¦ä¸šåŠ¡åœºæ™¯ï¼Œä»£ç çš„é€»è¾‘åˆ†æ”¯ä¹Ÿå¿…é¡»è¦†ç›–ã€‚ å¦‚ä½•æ”¹è¿›ä½ çš„é¡¹ç›®ä»£ç è¦†ç›–ç‡ï¼Ÿ é˜…è¯»å’Œç†è§£é¡¹ç›®ä»£ç ï¼Œæ‰¾å‡ºå…¶ä¸­éœ€è¦æµ‹è¯•å¹¶ä¸”ä¸ä¸šåŠ¡å¼ºç›¸å…³çš„ä»£ç ã€‚ å°†ä¹‹å‰å¯è¯»æ€§å·®æµ‹è¯•ä»£ç ï¼Œé‡‡ç”¨TDDä¸BDDæ–¹å¼è¿›è¡Œé‡å†™ï¼Œæé«˜é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ä¸å¯è¯»æ€§ã€‚ ä»£ç è¦†ç›–ç‡éå¸¸é‡è¦çš„æ„ä¹‰åœ¨äºï¼š åˆ†ææœªè¦†ç›–éƒ¨åˆ†çš„ä»£ç ï¼Œä»è€Œåæ¨åœ¨å‰æœŸé»‘ç›’æµ‹è¯•è®¾è®¡æ˜¯å¦å……åˆ†ï¼Œæ²¡æœ‰è¦†ç›–åˆ°çš„ä»£ç æ˜¯å¦æ˜¯æµ‹è¯•è®¾è®¡çš„ç›²ç‚¹ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰è€ƒè™‘åˆ°ï¼Ÿæ˜¯éœ€æ±‚/è®¾è®¡ä¸å¤Ÿæ¸…æ™°ï¼Œè¿˜æ˜¯æµ‹è¯•è®¾è®¡çš„ç†è§£æœ‰è¯¯ã€‚ æ£€æµ‹å‡ºç¨‹åºä¸­çš„åºŸä»£ç ï¼Œå¯ä»¥é€†å‘åæ¨åœ¨ä»£ç è®¾è®¡ä¸­ä¸åˆç†çš„åœ°æ–¹ï¼Œæé†’è®¾è®¡/å¼€å‘äººå‘˜ç†æ¸…ä»£ç é€»è¾‘å…³ç³»ï¼Œæå‡ä»£ç è´¨é‡ã€‚ ä»£ç è¦†ç›–ç‡é«˜ä¸èƒ½è¯´æ˜ä»£ç è´¨é‡é«˜ï¼Œä½†æ˜¯åè¿‡æ¥çœ‹ï¼Œä»£ç è¦†ç›–ç‡ä½ï¼Œä»£ç è´¨é‡ç»å¯¹ä¸ä¼šé«˜åˆ°å“ªé‡Œå»ï¼Œå¯ä»¥ä½œä¸ºæµ‹è¯•è‡ªæˆ‘å®¡è§†çš„é‡è¦å·¥å…·ä¹‹ä¸€ã€‚","categories":[],"tags":[],"keywords":[]},{"title":"espresso-apiä¹‹Matchersæ¢ç©¶","slug":"espresso4","date":"2016-12-25T13:00:09.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/12/25/espresso4/","link":"","permalink":"http://yoursite.com/2016/12/25/espresso4/","excerpt":"","text":"é€šè¿‡å‰3ç¯‡æ–‡ç« ï¼Œå¤§å®¶åº”è¯¥å¯¹espressoæœ‰äº†å¤§ä½“ä¸Šçš„äº†è§£ï¼Œé‚£ä¹ˆä»Šå¤©æˆ‘ä»¬è¦æ·±å…¥äº†è§£å®ƒçš„APIï¼Œçœ‹çœ‹espressoçš„æ•´ä½“æ¶æ„ã€‚è¿˜æ˜¯é€šè¿‡espresso cheat sheetæ¥è¿›å…¥æœ¬æ¬¡è¯é¢˜ã€‚ Espressoå¤‡å¿˜å•æ˜¯æ‚¨åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨çš„å¿«é€Ÿå‚è€ƒã€‚ è¿™ä¸ªå¤‡å¿˜å•åŒ…å«å¤§å¤šæ•°å¯ç”¨çš„Matchersï¼ŒViewActionså’ŒViewAsertionsã€‚è®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Matchers éƒ½æœ‰å“ªäº›APIå¯ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚1234567891011android.support.test.espresso.matcherClassesBoundedMatcher&lt;T, S extends T&gt; Some matcher sugar that lets you create a matcher for a given type but only process items of a specific subtype of that matcher.CursorMatchers A collection of Hamcrest matchers that matches a data row in a Cursor.CursorMatchers.CursorMatcher A Matcher that matches Cursors based on values in their columns.LayoutMatchers A collection of hamcrest matches to detect typical layout issues.PreferenceMatchers A collection of hamcrest matchers that match Preferences.RootMatchers A collection of matchers for Root objects.ViewMatchers A collection of hamcrest matchers that match Views.EnumsViewMatchers.Visibility Enumerates the possible list of values for View.getVisibility(). 7ä¸ªç±»ï¼Œ1ä¸ªEumsã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€ä¸ªä¸ªæ¬£èµè°·æ­Œå¤§ç¥çš„æ°ä½œã€‚ BoundedMatcher&lt;T, S extends T&gt;ä¸€äº›åŒ¹é…è¯­æ³•ç³–ï¼Œå…è®¸æ‚¨ä¸ºç»™å®šç±»å‹åˆ›å»ºåŒ¹é…å™¨ï¼Œä½†åªèƒ½å¤„ç†è¯¥åŒ¹é…å™¨çš„ç‰¹å®šå­ç±»å‹é¡¹ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯èƒ½å¤Ÿè‡ªå®šä¹‰ä¸€äº›åŒ¹é…å™¨ã€‚ä¸¾ä¸ªæ —å­ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰é”™è¯¯æ–‡æœ¬åŒ¹é…å™¨12345678910111213141516171819202122232425public final class ErrorTextMatchers &#123; /** * Returns a matcher that matches &#123;@link TextView&#125;s based on text property value. * * @param stringMatcher &#123;@link Matcher&#125; of &#123;@link String&#125; with text to match */ @NonNull public static Matcher&lt;View&gt; withErrorText(final Matcher&lt;String&gt; stringMatcher) &#123; return new BoundedMatcher&lt;View, TextView&gt;(TextView.class) &#123; @Override public void describeTo(final Description description) &#123; description.appendText(\"with error text: \"); stringMatcher.describeTo(description); &#125; @Override public boolean matchesSafely(final TextView textView) &#123; return stringMatcher.matches(textView.getError().toString()); &#125; &#125;; &#125;&#125; å®ç°çš„ä¸»è¦ç»†èŠ‚å¦‚ä¸‹ã€‚ æˆ‘ä»¬é€šè¿‡ä»withErrorText()è¿”å›ä¸€ä¸ªBoundedMatcheræ¥ç¡®ä¿åŒ¹é…å™¨åªåŒ¹é…TextViewç±»çš„å­ç±»ã€‚ è¿™ä½¿å¾—å¾ˆå®¹æ˜“åœ¨BoundedMatcher.matchesSafely()ä¸­å®ç°åŒ¹é…é€»è¾‘æœ¬èº«ï¼šåªéœ€ä»TextViewä¸­è·å–getError()æ–¹æ³•å¹¶å°†å…¶é€å…¥ä¸‹ä¸€ä¸ªåŒ¹é…å™¨ã€‚ æœ€åï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„describeTo()æ–¹æ³•çš„å®ç°ï¼Œå®ƒåªç”¨äºç”Ÿæˆè°ƒè¯•è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚CursorMatchersHamcrestçš„é›†åˆåŒ¹é…å™¨ï¼Œåœ¨CursoråŒ¹é…ç›¸åº”çš„æ•°æ®è¡Œã€‚æºç å¦‚ä¸‹12345678910/** * Returns a matcher that matches a &#123;@link String&#125; value at a given column index * in a &#123;@link Cursor&#125;s data row. * &lt;br&gt; * @param columnIndex int column index * @param value a &#123;@link String&#125; value to match */ public static CursorMatcher withRowString(int columnIndex, String value) &#123; return withRowString(columnIndex, is(value)); &#125; å¤§éƒ¨åˆ†çš„åœºæ™¯ï¼Œå¤§å¤šå‘ç”Ÿäºè¡¨å•æˆ–è€…æ»šåŠ¨menuæ—¶ã€‚1234onData( is(instanceOf(Cursor.class)), CursorMatchers.withRowString(\"job_title\", is(\"Barista\"))); LayoutMatchers hamcrestçš„é›†åˆåŒ¹é…ä»¥æ£€æµ‹å…¸å‹çš„å¸ƒå±€é—®é¢˜ã€‚ ä¾‹å¦‚åŒ¹é…å…·æœ‰æ¤­åœ†å½¢æ–‡æœ¬çš„TextViewå…ƒç´ ã€‚ å¦‚æœæ–‡æœ¬å¤ªé•¿ï¼Œæ— æ³•é€‚åº”TextViewï¼Œ å®ƒå¯ä»¥æ˜¯æ¤­åœ†å½¢ï¼ˆâ€™Too longâ€™æ˜¾ç¤ºä¸ºâ€™Too l â€¦â€™æˆ–â€™â€¦ longâ€™ï¼‰æˆ–åˆ‡æ–­ï¼ˆâ€™Too longâ€œæ˜¾ç¤ºä¸ºâ€Too lâ€œï¼‰ã€‚ è™½ç„¶åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥æ¥å—ï¼Œä½†é€šå¸¸è¡¨ç¤ºä¸å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ PreferenceMatchers hamcreståŒ¹é…å™¨æ¥åŒ¹é…ä¸€ç»„åå¥½ã€‚Preferenceç»„ä»¶å…¶å®å°±æ˜¯Androidå¸¸è§UIç»„ä»¶ä¸SharePreferencesçš„ç»„åˆå°è£…å®ç°ã€‚onData(Matchers.&lt;Object&gt;allOf(PreferenceMatchers.withKey(&quot;setting-name&quot;))).perform(click());PreferenceMatchersè¿˜æœ‰ä»¥ä¸‹æ–¹æ³•å¯ä»¥åº”ç”¨åˆ°å…¶ä»–åœºæ™¯1234567withSummary(final int resourceId)withSummaryText(String summary)withSummaryText(final Matcher&lt;String&gt; summaryMatcher)withTitle(final int resourceId)withTitleText(String title)withTitleText(final Matcher&lt;String&gt; titleMatcher)isEnabled() RootMatchers Rootå¯¹è±¡çš„åŒ¹é…å™¨é›†åˆã€‚åŒ¹é…rootè£…é¥°è§†å›¾åŒ¹é…ç»™å®šçš„è§†å›¾åŒ¹é…å™¨ã€‚123onView(withText(\"Text\")) .inRoot(withDecorView(not(is(getActivity().getWindow().getDecorView())))) .perform(click()); RootMatchersè¿˜æœ‰ä»¥ä¸‹æ–¹æ³•å¯ä»¥åº”ç”¨åˆ°å…¶ä»–åœºæ™¯ Public methods static Matcher isDialog()Matches Roots that are dialogs (i.e.) static Matcher isFocusable()Matches Roots that can take window focus. static Matcher isPlatformPopup()Matches Roots that are popups - like autocomplete suggestions or the actionbar spinner. static Matcher isTouchable()Matches Roots that can receive touch events. static Matcher withDecorView(Matcher decorViewMatcher)Matches Roots with decor views that match the given view matcher. ViewMatchers æœ€é‡è¦ä¹Ÿæ˜¯åº”ç”¨æœ€å¹¿çš„åŒ¹é…å™¨ï¼Œé€šè¿‡ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¥å®šä½å±‚çº§é‡Œé¢çš„æ§ä»¶ã€‚ Public methods static void assertThat(String message, T actual, Matcher matcher) A replacement for MatcherAssert.assertThat that renders View objects nicely. static void assertThat(T actual, Matcher matcher) A replacement for MatcherAssert.assertThat that renders View objects nicely. static Matcher hasContentDescription() Returns an Matcher that matches Views with any content description. static Matcher hasDescendant(Matcher descendantMatcher) Returns a matcher that matches Views based on the presence of a descendant in its view hierarchy. static Matcher hasErrorText(String expectedError) Returns a matcher that matches EditText based on edit text error string value. static Matcher hasErrorText(Matcher stringMatcher) Returns a matcher that matches EditText based on edit text error string value. static Matcher hasFocus() Returns a matcher that matches Views currently have focus. static Matcher hasImeAction(int imeAction) Returns a matcher that matches views that support input methods (e.g. static Matcher hasImeAction(Matcher imeActionMatcher) Returns a matcher that matches views that support input methods (e.g. static Matcher hasLinks() Returns a matcher that matches TextViews that have links. static Matcher hasSibling(Matcher siblingMatcher) Returns an Matcher that matches Views based on their siblings. static Matcher isAssignableFrom(Class&lt;? extends View&gt; clazz) Returns a matcher that matches Views which are an instance of or subclass of the provided class. static Matcher isChecked() Returns a matcher that accepts if and only if the view is a CompoundButton (or subtype of) and is in checked state. static Matcher isClickable() Returns a matcher that matches Views that are clickable. static Matcher isCompletelyDisplayed() Returns a matcher which only accepts a view whose height and width fit perfectly within the currently displayed region of this view. static Matcher isDescendantOfA(Matcher ancestorMatcher) Returns a matcher that matches Views based on the given ancestor type. static Matcher isDisplayed() Returns a matcher that matches Views that are currently displayed on the screen to the user. static Matcher isDisplayingAtLeast(int areaPercentage) Returns a matcher which accepts a view so long as a given percentage of that viewâ€™s area is not obscured by any other view and is thus visible to the user. static Matcher isEnabled() Returns a matcher that matches Views that are enabled. static Matcher isFocusable() Returns a matcher that matches Views that are focusable. static Matcher isJavascriptEnabled() Returns a matcher that matches WebView if they are evaluating Javascript. static Matcher isNotChecked() Returns a matcher that accepts if and only if the view is a CompoundButton (or subtype of) and is not in checked state. static Matcher isRoot() Returns a matcher that matches root View. static Matcher isSelected() Returns a matcher that matches Views that are selected. static Matcher supportsInputMethods() Returns a matcher that matches views that support input methods. static Matcher withChild(Matcher childMatcher) A matcher that returns true if and only if the viewâ€™s child is accepted by the provided matcher. static Matcher withClassName(Matcher classNameMatcher) Returns a matcher that matches Views with class name matching the given matcher. static Matcher withContentDescription(int resourceId) Returns a Matcher that matches Views based on content description property value. static Matcher withContentDescription(String text) Returns an Matcher that matches Views based on content description property value. static Matcher withContentDescription(Matcher&lt;? extends CharSequence&gt; charSequenceMatcher) Returns an Matcher that matches Views based on content description property value. static Matcher withEffectiveVisibility(ViewMatchers.Visibility visibility) Returns a matcher that matches Views that have â€œeffectiveâ€ visibility set to the given value. static Matcher withHint(Matcher stringMatcher) Returns a matcher that matches TextViews based on hint property value. static Matcher withHint(int resourceId) Returns a matcher that matches a descendant of TextView that is displaying the hint associated with the given resource id. static Matcher withHint(String hintText) Returns a matcher that matches TextView based on itâ€™s hint property value. static Matcher withId(Matcher integerMatcher) Returns a matcher that matches Views based on resource ids. static Matcher withId(int id) Same as withId(is(int)), but attempts to look up resource name of the given id and use an R.id.myView style description with describeTo. static Matcher withInputType(int inputType) Returns a matcher that matches InputType. static Matcher withParent(Matcher parentMatcher) A matcher that accepts a view if and only if the viewâ€™s parent is accepted by the provided matcher. static Matcher withResourceName(String name) Returns a matcher that matches Views based on resource id names, (for instance, channel_avatar). static Matcher withResourceName(Matcher stringMatcher) Returns a matcher that matches Views based on resource id names, (for instance, channel_avatar). static Matcher withSpinnerText(int resourceId) Returns a matcher that matches a descendant of Spinner that is displaying the string of the selected item associated with the given resource id. static Matcher withSpinnerText(String text) Returns a matcher that matches Spinner based on itâ€™s selected itemâ€™s toString value. static Matcher withSpinnerText(Matcher stringMatcher) Returns a matcher that matches Spinners based on toString value of the selected item. static Matcher withTagKey(int key) Returns a matcher that matches View based on tag keys. static Matcher withTagKey(int key, Matcher objectMatcher) Returns a matcher that matches Views based on tag keys. static Matcher withTagValue(Matcher tagValueMatcher) Returns a matcher that matches Views based on tag property values. static Matcher withText(Matcher stringMatcher) Returns a matcher that matches TextViews based on text property value. static Matcher withText(String text) Returns a matcher that matches TextView based on its text property value. static Matcher withText(int resourceId) Returns a matcher that matches a descendant of TextView that is displaying the string associated with the given resource id. ok è¿™æ¬¡ä¸»è¦ä»‹ç»Matchersçš„API æ›´å¤šçš„å†…å®¹ å¤§å®¶è¿˜æ˜¯è¦æŸ¥çœ‹å®˜æ–¹APIå»å­¦ä¹ ã€‚ä»¥ä¸‹æ˜¯android espresso matchersçš„åœ°å€espresso matchers","categories":[],"tags":[{"name":"androidè‡ªåŠ¨åŒ–","slug":"androidè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/androidè‡ªåŠ¨åŒ–/"}],"keywords":[]},{"title":"QAè¯·å‹¿å¿˜åˆå¿ƒ","slug":"qa-heart","date":"2016-12-13T13:42:54.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/12/13/qa-heart/","link":"","permalink":"http://yoursite.com/2016/12/13/qa-heart/","excerpt":"","text":"é¦–å…ˆè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹QAä¸QCçš„åŒºåˆ«ï¼šQuality Assurance :The planned and systematic activities implemented in a quality system so that quality requirements for a product or service will be fulfilled.Quality Control :The observation techniques and activities used to fulfill requirements for quality. QAçš„å·¥ä½œæ¶‰åŠè½¯ä»¶ç ”å‘æµç¨‹çš„å„ä¸ªç¯èŠ‚ï¼Œä¸”æ¶‰åŠåˆ°æ¯ä¸€ä½å‚ä¸ç ”å‘çš„äººå‘˜ï¼Œä½†è´¨é‡ä¿è¯å·¥ä½œåˆä¸æ¶‰åŠå…·ä½“çš„è½¯ä»¶ç ”å‘ç»†èŠ‚ï¼Œä¾§é‡äºæ•´ä¸ªæµç¨‹ã€‚ QCåˆ™ä¾§é‡äºç‚¹ï¼Œåˆ©ç”¨å„ç§æ–¹æ³•å»æ£€æŸ¥æŸä¸ªåŠŸèƒ½æ˜¯å¦æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚ thoughtworks çš„QAåˆ™æ˜¯è¿™ä¸¤è€…çš„æ··åˆä½“ï¼Œä½ æ—¢è¦ä¿è¯å¼€å‘æµç¨‹çš„è´¨é‡ï¼Œåˆè¦ä¿è¯storyçš„åŠŸèƒ½çš„æ˜¯å¦æ­£ç¡®ã€‚ æ¥thoughtworkså·²ç»2å¹´äº†ï¼Œå½“è¿‡bqconfè®²å¸ˆä¸ä¸»æŒï¼Œå‚åŠ è¿‡å…¬å¸å†…å„ç±»æµ‹è¯•ç›¸å…³æ´»åŠ¨ï¼Œä¹Ÿé˜…è¯»è¿‡gé‚®ä»¶ä¸­åˆ†äº«çš„å…³äºtestçš„è¯é¢˜ï¼Œå¤§éƒ¨åˆ†äººå…³æ³¨ç‚¹éƒ½ç¦»ä¸å¼€è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œé¢è¯•çš„QAä¹Ÿè¯´æƒ³åˆ°thoughtworksæ¥å­¦ä¹ é«˜æ·±çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»¿ä½›è‡ªåŠ¨åŒ–æµ‹è¯•ä»£è¡¨äº†æ•´ä¸ªQAç•Œï¼Œæˆ‘åå¯¹ç›²ç›®çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œç¡®åˆ‡çš„è¯´åå¯¹ç›²ç›®çš„UIè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚å¾ˆå¤šQAåœ¨è‡ªåŠ¨åŒ–æµ‹è¯•æµ·æ´‹é‡Œè¿·å¤±äº†è‡ªå·±ã€‚æˆ‘è¦å¼ºè°ƒè‡ªåŠ¨åŒ–æµ‹è¯•: çœŸçš„æ²¡æœ‰é“¶å¼¹ã€‚ QAçš„æœ€ç»ˆä»·å€¼ä½“ç°Faster Delivery Of Quality Software From Idea To Consumer ç¡®ä¿é¡¹ç›®çš„æ­£ç¡®æ€§æ‰€ä»¥è‡ªåŠ¨åŒ–æµ‹è¯•åªæ˜¯å…¶ä¸­çš„ä¸€å°éƒ¨åˆ†ã€‚å¦‚ä¸Šå›¾é¡¶éƒ¨å’Œåº•éƒ¨çš„æ–‡å­—æ˜¯å¯¹ä¸€ä¸ªQAæ‰€èƒ½å¸¦ç»™é¡¹ç›®çš„æ€»ç»“ï¼šâ€œæˆ‘ä»¬åœ¨å¼€å‘æ­£ç¡®çš„äº§å“å—ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¼€å‘çš„äº§å“æ­£ç¡®å—ï¼Ÿâ€æ‰€ä»¥QAé¦–å…ˆéœ€è¦åœ¨æ•´ä¸ªä¸ªé¡¹ç›®è¿‡ç¨‹ä¸­ä¸æ–­è¯¢é—®çš„æ‰€æœ‰æˆå‘˜ä¸Šè¿°é—®é¢˜ï¼Œç¡®ä¿å›¢é˜Ÿæ˜¯åœ¨å¼€å‘å®¢æˆ·æ‰€éœ€çš„äº§å“ï¼Œè€Œä¸æ˜¯è‡ªå·±YYå‡ºæ¥çš„äº§å“ã€‚ ç¡®ä¿æµç¨‹çš„æ­£ç¡®æ€§Quality is not just in the software but also in the process è´¨é‡ä»æ¥éƒ½ä¸åªæ˜¯QAçš„èŒè´£ï¼Œè€Œæ˜¯æ•´ä¸ªå›¢é˜Ÿçš„èŒè´£ã€‚ä½†QAå¦‚æœè‡ªå·±éƒ½ä¸æ³¨é‡ï¼Œä¸ç£ä¿ƒç»„å†…æˆå‘˜æ”¹è¿›è´¨é‡ï¼Œå†å°†è´£ä»»å¼ºåŠ äºæ•´ä¸ªå›¢é˜Ÿï¼Œé‚£ä¹ˆäº§å“è´¨é‡åˆä½•è°ˆæå‡ä¸ä¿è¯ã€‚ä¸­é—´çš„å›¾ç‰‡ä»ä¸€ä¸ªQAçš„è§’åº¦è¡¨æ˜äº†ä¸€ä¸ªç”¨æˆ·æ•…äº‹çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠQAå¦‚ä½•å‚ä¸å…¶ä¸­æ¯ä¸ªç¯èŠ‚ã€‚ é¦–å…ˆBAå’Œå®¢æˆ·å°†è¦å¼€å‘çš„storyåˆ—å‡ºä¹‹åï¼ŒBAä¸QAå¯ä»¥ä¸€èµ·pairç¼–å†™å…·ä½“storyçš„å†…å®¹ï¼Œåœºæ™¯ä¸éªŒæ”¶æ¡ä»¶,åˆ©ç”¨è‡ªå·±å¯¹ä¸šåŠ¡ä»¥åŠç³»ç»Ÿçš„ç†Ÿæ‚‰åº¦ï¼Œå°½é‡çš„é…åˆBAå°†storyä¸­å‘å°½é‡æ’é™¤æ‰ã€‚ æ‰€æœ‰å‚ä¸kick off è§’è‰²ï¼Œéƒ½åº”è¯¥æå‰äº†è§£storyå†…å®¹ã€‚åœ¨kick offè¿‡ç¨‹ä¸­ï¼Œæå‡ºè‡ªå·±å¯¹storyç–‘é—®ã€‚å°½é‡å°†ä¸šåŠ¡éœ€æ±‚ä¸Šé—®é¢˜åœ¨è¿™ä¸ªé˜¶æ®µè§£å†³ã€‚åœ¨å®Œæˆkick offåï¼ŒQAå¯ä»¥å’Œdevä¸€èµ·pairå®Œæˆç¼–å†™unit test ä»¥åŠAutomated Acceptance Testsï¼Œèº«ä¸ºä¸€ä¸ªæ•æ·QAï¼Œæˆ‘ä»¬èµ·ç è¦äº†è§£å›¢é˜Ÿé€‰ç”¨çš„å•å…ƒæµ‹è¯•å·¥å…·ï¼Œç†Ÿæ‚‰é¡¹ç›®çš„æŠ€æœ¯æ¶æ„ï¼Œè¿™æ ·æ›´å¥½çš„ä¾¿äºæˆ‘ä»¬å¯¹æ•´ä¸ªé¡¹ç›®è´¨é‡æŠŠæ§ï¼Œåœ¨ä¸dev pairçš„è¿‡ç¨‹ä¸­ï¼Œå³å¸®åŠ©devåˆ†æä¸šåŠ¡åœºæ™¯çš„åˆ†æ”¯ï¼Œæ¥ç¡®ä¿å•å…ƒæµ‹è¯•è¦†ç›–çš„æ˜¯æ­£ç¡®çš„åœºæ™¯ï¼Œè€Œä¸æ˜¯ä¸ºäº†äº¤ä»£ä¸Šçº§éšä¾¿ä¹±å†™çš„å•å…ƒæµ‹è¯•ï¼Œä¹Ÿå¸®åŠ©QAç†Ÿæ‚‰ä»£ç ï¼Œæé«˜ç¼–ç èƒ½åŠ›ã€‚å½“DEVå®Œæˆç¼–ç å·¥ä½œåï¼Œè¿™æ—¶QA UX BA DEVä¸€èµ·æ£€æŸ¥storyï¼Œæ˜¯å¦æŒ‰ç…§story ACæ¥æ£€æŸ¥æ˜¯å¦å®Œæˆå¯¹åº”çš„åŠŸèƒ½ã€‚UXä¹Ÿå¯å‘è¡¨å¯¹story UIä»¥åŠäº¤äº’ä¸€äº›çœ‹æ³•ï¼Œæœ‰ä»»ä½•é—®é¢˜åŠæ—¶è®¨è®ºåï¼Œå°†é—®é¢˜å°½æ—©çš„åé¦ˆç»™å®¢æˆ·ã€‚å½“å¼€å‘äº¤ä»˜ä¸€éƒ¨åˆ†åŠŸèƒ½ä¹‹åï¼ŒQAå°±å¯ä»¥åšå¸¸è§„çš„ç”¨æˆ·æ•…äº‹æµ‹è¯•ï¼Œå‡ ä¸ªè¿­ä»£ä¹‹åï¼ŒQAå¼€å§‹è¿›è¡Œè·¨åŠŸèƒ½éœ€æ±‚æµ‹è¯•å’Œæ¢ç´¢æ€§æµ‹è¯•ç­‰ã€‚æ ¹æ®æ¢ç´¢æ€§æµ‹è¯•çš„ç»“æœï¼ŒQAå¯èƒ½ä¼šè°ƒæ•´æµ‹è¯•ç­–ç•¥ï¼Œè°ƒæ•´æµ‹è¯•ä¼˜å…ˆçº§ï¼Œå®Œå–„æµ‹è¯•ç”¨ä¾‹ç­‰ç­‰ã€‚ä¸Šé¢è¿™äº›QAå®è·µè²Œä¼¼å·²ç»å¾ˆå®Œç¾,å…¶å®è¿˜å·®æœ€é‡è¦çš„ä¸€ç¯ quality analysis ã€‚æ¯æ¬¡releaseåï¼Œæˆ‘ä»¬æ€»ä»¥ä¸ºæˆ‘ä»¬å‘å¸ƒä¸€ä¸ªå®Œç¾çš„äº§å“ï¼Œä½†å´æ€»èƒ½åœ¨æ–°è¿­ä»£å¼€å‘è¿‡ç¨‹ä¸­å‘ç°ä¹‹å‰é—®é¢˜ï¼Œå†å²æ€»æ˜¯æƒŠäººçš„ç›¸ä¼¼ï¼Œä¸ºä»€ä¹ˆï¼Œæ²¡æœ‰åˆ†ææ€»ç»“é—®é¢˜ï¼Œä»¥åŠç›¸åº”çš„é¢„é˜²æ‰‹æ®µ,é‚£ä¹ˆåŒæ ·çš„é—®é¢˜åªä¼šé‡ç°ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿè¦å›é¡¾ä¸‹è‡ªå·±åœ¨å·¥ä½œä¸­çœŸçš„å°†è¿™äº›æ•æ·å®è·µéƒ½åº”ç”¨åˆ°å·¥ä½œä¸­å—ï¼Œæˆ‘æƒ³æˆ–å¤šæˆ–å°‘çš„éƒ½æœ‰æ‰€æ¬ ç¼ºã€‚å¯¹äºä¸€ä¸ªQAæ¥è¯´ï¼Œä¸åº”å¾ªè§„è¹ˆçŸ©ç…§æ¬æ•æ·å®è·µã€‚ä¾‹å¦‚ï¼Œåœ¨kickoffä¸­ï¼Œå‘ç°devï¼ŒUXå¯¹storyæ¶‰åŠçš„åœºæ™¯ä»¥åŠå†…å®¹äº†è§£ä¸æ¸…æ¥šï¼ŒQAä¹Ÿå¯èƒ½æ¼æ‰ä¸€äº›æµ‹è¯•åœºæ™¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨kickoffä¹‹å‰ï¼ŒåŠ å…¥ä¸€ä¸ªpre- kick offçš„å®è·µï¼Œç•™å‡ºæ—¶é—´ï¼Œè®©æ¯ä¸ªè§’è‰²éƒ½èƒ½å¤Ÿå®Œæ•´äº†è§£storyã€‚åœ¨kick offä¹‹ä¸­ï¼Œuxæ²¡æœ‰åŠæ³•å®Œæ•´çš„ç¡®è®¤é¡µé¢çš„å­—ä½“å¤§å°æˆ–è€…é¢œè‰²ç­‰æ˜¯å¦æ­£ç¡®ï¼Œé‚£ä¹ˆåœ¨sign offä¹‹åï¼Œæˆ‘ä»¬ä¹ŸåŠ å…¥ä¸€ä¸ªUX-testå®è·µï¼Œå¸®åŠ©UXèƒ½å¤Ÿæ›´å¥½è§£å†³è¿™äº›é—®é¢˜ã€‚æ‰€ä»¥æ¯ä¸ªé¡¹ç›®ä¹Ÿéƒ½æœ‰åº”é€‚åˆè‡ªå·±é¡¹ç›®çš„æ•æ·å®è·µï¼Œå‘ç°é¡¹ç›®å­˜åœ¨çš„é—®é¢˜ï¼ŒæŒç»­æ”¹è¿›æ‰æ˜¯æœ€ä½³å®è·µã€‚ å†æ¥è°ˆè°ˆè‡ªåŠ¨åŒ–æµ‹è¯•å§ã€‚ä¸Šé¢çš„æµ‹è¯•é‡‘å­—å¡”å¯¹äºå¤§å®¶æ¥è¯´å†ç†Ÿæ‚‰ä¸è¿‡äº†ï¼Œå¯¹äºè‡ªåŠ¨åŒ–æµ‹è¯•æ¥è¯´æœ€æœ‰ä»·å€¼çš„ä»ç„¶æ˜¯å•å…ƒæµ‹è¯•ï¼Œä½†å¯¹äºQAæ¥è¯´æ— ç–‘æœ€å¤æ‚çš„ã€‚å¤§éƒ¨åˆ†QAæˆ–è€…testerï¼Œä»ç„¶ä»¥UIè‡ªåŠ¨åŒ–ä¸ºé‡å¿ƒã€‚ä¹‹æ‰€ä»¥åå¯¹ç›²ç›®çš„UIè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå› ä¸ºå˜åŒ–é¢‘ç¹çš„UIè®¾è®¡ï¼Œæä½æŠ•å…¥äº§ç”Ÿæ¯”ï¼Œéƒ½åº”è¯¥è®©æˆ‘ä»¬é‡æ–°æ€è€ƒä¸‹UIè‡ªåŠ¨åŒ–çš„ä»·å€¼ã€‚ æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®æ–½UIè‡ªåŠ¨åŒ–æ­£ç¡®çš„æ–¹å¼ï¼š èƒ½ä¸ç”¨UIè‡ªåŠ¨åŒ–æµ‹è¯•å°±ä¸ç”¨ï¼Œæ¢³ç†ä¸šåŠ¡ä¸»çº¿ï¼Œåªä¿ç•™ç”¨æˆ·æ“ä½œæœ€é¢‘ç¹ï¼Œäº¤äº’æœ€å¤šçš„åœºæ™¯ã€‚ æ ¹æ®é¢å‘å¯¹è±¡è®¾è®¡çš„åŸåˆ™ï¼Œæ„å»ºé€‚åˆé¡¹ç›®çš„UIè‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œæ— è®ºè‡ªå·±ç¼–å†™æ¡†æ¶ï¼Œè¿˜æ˜¯é‡‡ç”¨å¼€æºæ¡†æ¶ã€‚ å°½é‡é‡‡ç”¨ç‹¬ç«‹æµ‹è¯•æ•°æ®ï¼Œç¡®ä¿è¿è¡Œæµ‹è¯•ä¸å—å½±å“ã€‚ä¾‹å¦‚é‡‡ç”¨mockæ•°æ®åº“æˆ–è€…æ¯æ¬¡è¿è¡Œæ—¶è¿˜åŸæµ‹è¯•æ•°æ®åº“ã€‚å›åˆ°æ­£é¢˜ï¼Œé¢å¯¹è‡ªåŠ¨åŒ–æµ‹è¯•çš„å¤§æ½®ï¼ŒQAåº”è¯¥å…³æ³¨ä»€ä¹ˆï¼Ÿ ç¼–ç è§„èŒƒï¼ŒçœŸå®ä¾‹å­ï¼Œdevå¯¹äºç±»åå‘½åæ²¡æœ‰ç”¨Camel-Caseï¼Œé€ æˆåœ¨linuxç³»ç»Ÿä¸­éƒ¨ç½²ä¸æˆåŠŸï¼Œpythonä¸­ä¹±ä½¿ç”¨ç¼©è¿›ç­‰ã€‚ å…¶å®éƒ½å¯ä»¥é¿å…åˆ°ï¼Œä¾‹å¦‚å¼€å‘å·¥å…·åŠ å…¥è‡ªåŠ¨æ£€æŸ¥ï¼Œæˆ–è€…åœ¨CIä¸ŠåŠ å…¥æ ¡éªŒç¼–ç è§„èŒƒçš„æ­¥éª¤ï¼Œé‡‡ç”¨ä¸€äº›å·¥å…·å°±å¯ä»¥è¾¾åˆ°ç›®çš„ï¼Œjshintï¼ŒRuboCopç­‰ã€‚ pairå®Œæˆå•å…ƒæµ‹è¯•æˆ–APIæµ‹è¯•ç­‰ï¼Œä¸€æ–¹é¢å¯ä»¥æé«˜QAçš„ç¼–ç èƒ½åŠ›ï¼Œå¦ä¸€é¢å¯ä»¥ç»™å‡ºdevä¸€äº›å»ºè®®ï¼Œå°†å•å…ƒæµ‹è¯•è¦†ç›–åˆ°æ›´å¤šçš„åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä»¬é¡¹ç›®é‡‡ç”¨reactä½œä¸ºå‰ç«¯æ¡†æ¶ï¼Œå¦‚æœä½ ä¸èƒ½ç†è§£react virtual dom ä¸jsxï¼Œå½“æˆ‘ä»¬åœ¨å†™UIè‡ªåŠ¨åŒ–è„šæœ¬æ—¶ï¼Œä½ ä¼šå‘ç°æ ¹æœ¬æ— æ³•è¿›è¡Œä¸‹å»ï¼Œæ—¥å¸¸ä¸­æˆ‘ä»¬å®šä½å…ƒç´ å…¨æ˜¯è¿™ç§1234567&lt;div class=\"styles__formField___1fyGy\"&gt;&lt;input type=\"text\" placeholder=\"Email\"&gt;&lt;svg class=\"styles__formIcon___37VGd\" viewBox=\"0 0 24 24\" style=\"display: inline-block; fill: rgba(0, 0, 0, 0.870588); height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\"&gt;&lt;path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt; ,æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯jsæ¸²æŸ“å‡ºæ¥çš„ï¼Œå¦‚æœä½ æ‡‚jsxï¼Œå°±çŸ¥é“åªéœ€è¦åœ¨å¯¹äºçš„Component renderæ–¹æ³•ä¸­æ›´æ”¹åŠ å…¥idç­‰å…ƒç´ å°±å¯ä»¥æå®š1234567render() &#123; return ( &lt;div&gt; &lt;input type=\"text\" placeholder=\"Email\" id=\"Email\"&gt; &lt;/div&gt; )&#125; æ§åˆ¶å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼Œ100%çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡å½“ç„¶æ˜¯æœ€å¥½çš„ï¼Œä½†å¦‚æœäº¤ä»˜å‹åŠ›å¤§ï¼Œå’Œå®¢æˆ·å•†é‡åï¼Œæˆ‘ä»¬å¯ä»¥å°½é‡è¦†ç›–ä¸šåŠ¡ä¸»çº¿ï¼Œè€Œä¸æ˜¯ä¸ºäº†è¾¾åˆ°è¦†ç›–ç‡å»¶è¯¯äº†äº¤ä»˜å‘¨æœŸã€‚ å†æ¥è°ˆè°ˆè´¨é‡åˆ†æã€‚ä½œä¸ºä¸€ä¸ªQAï¼Œæˆ‘ä»¬ä¸ä»…è¦æ£€æµ‹é¡¹ç›®ä¸­å­˜åœ¨é—®é¢˜ï¼Œä¹Ÿè¦æ”¹è¿›å›¢é˜Ÿçš„å®è·µæ´»åŠ¨ï¼Œæ›´é‡è¦çš„æ˜¯é¢„é˜²é—®é¢˜çš„å‘ç”Ÿã€‚ æ¯æ¬¡bugbashæˆ–ç›¸åº”è¿­ä»£å®Œæˆåï¼Œè¦åˆ†æç»Ÿè®¡ï¼Œæ‰¾å‡ºäº§ç”Ÿç¼ºé™·çš„ç¯èŠ‚ï¼Œå¹¶é‡‡å–æªæ–½é˜²æ­¢é—®é¢˜å†ç°ã€‚ä¾‹å¦‚æ¯æ¬¡releaseæˆ–è€…bug bashä¹‹å,æˆ‘å¯ä»¥æŒ‰ç…§åŠŸèƒ½æ¨¡å—ä¸bugç±»å‹è¿›è¡Œç»Ÿè®¡åˆ’åˆ†ï¼Œåˆ†æç»Ÿè®¡bugçš„æˆå› ï¼Œä¾‹å¦‚æŸæ¬¡è¿­ä»£æˆ‘ä»¬bugæ•°é‡æ¿€å¢ï¼Œç»è°ƒæŸ¥ï¼Œå‘ç°æˆ‘ä»¬å¯¹æŸäº›æ¨¡å—çš„å‰ç«¯ä»£ç è¿›è¡Œäº†é‡æ„ï¼Œä½†ç¼ºä¹ç›¸åº”çš„å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•ï¼Œé€ æˆäº†æˆ‘ä»¬æ²¡æœ‰åŠæ—¶å‘ç°bugã€‚ä¹‹åæˆ‘ä»¬å°±å¯¹åº”çš„é‡‡å–æªæ–½é˜²æ­¢é—®é¢˜å†ç°ã€‚ æ€»ç»“åˆ†ææŠ¥å‘Šï¼ŒåŠæ—¶åé¦ˆè¿™äº›ä¿¡æ¯ç»™å›¢é˜Ÿã€‚æ€»ç»“åˆ†ææ˜¯ä¸€ä¸ªé•¿æœŸçš„ä»»åŠ¡ï¼Œæ¯æ¬¡bugæ•°é‡çš„å˜åŠ¨ï¼Œéƒ½ä¼šç›´æ¥ä½“ç°æ•´ä¸ªå›¢é˜Ÿä¸Šæ¬¡è¿­ä»£çš„å¼€å‘è´¨é‡ï¼Œä¾‹å¦‚bugæ•°é‡å‡å°‘äº†ï¼Œå¯ä»¥é¼“åŠ±æˆå‘˜å†æ¥å†å‰ã€‚æˆ–è€…æŸå‡ æ¬¡è¿­ä»£æŸäº›æ¨¡å—bugæˆä¸Šå‡è¶‹åŠ¿ï¼Œé‚£ä¹ˆå°±éœ€è¦ç»„ç»‡å›¢é˜Ÿä¸€èµ·è®¨è®ºé—®é¢˜æ ¹æºï¼Œé‡‡å–æªæ–½é˜²æ­¢é—®é¢˜é‡ç°ã€‚ åˆ©ç”¨ä»£ç è´¨é‡åˆ†æå·¥å…·å¸®åŠ©æˆ‘ä»¬å°½æ—©é¢„é˜²é—®é¢˜çš„å‘ç”Ÿã€‚ä¾‹å¦‚sonarä»£ç è´¨é‡ç®¡ç†å¹³å°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»ä»£ç å¤æ‚åº¦ï¼Œé‡å¤ä»£ç ï¼Œå•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼Œç¼–ç è§„èŒƒç­‰çº¬åº¦æ¥åˆ†ææˆ‘ä»¬ä»£ç æ‰€å­˜åœ¨çš„é—®é¢˜ã€‚å½“ç„¶ä¹Ÿæœ‰å…¶ä»–çš„å¼€æºå·¥å…·ï¼ŒåƒRubyCriticï¼Œ/platoä¸åŒçš„è¯­è¨€éƒ½ä¼šæœ‰ç›¸åº”çš„å·¥å…·ã€‚ åœ¨çº¿ç›‘æ§ï¼Œåˆ©ç”¨åƒnewrelicï¼Œairbnbç­‰ç›‘æ§å·¥å…·å¯¹éƒ¨ç½²åœ¨æœ¬åœ°æˆ–åœ¨äº‘ä¸­çš„webåº”ç”¨ç¨‹åºè¿›è¡Œç›‘æ§ã€æ•…éšœä¿®å¤ã€è¯Šæ–­ã€çº¿ç¨‹åˆ†æä»¥åŠå®¹é‡è®¡åˆ’ã€‚è¿™æ ·å°±ç®—ä»¬äº§å“ç¯å¢ƒæœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä»¬éƒ½ä¼šåŠæ—¶å“åº”ï¼Œå°½æ—©ä¿®å¤ï¼Œå‡ä½æŸå¤±ã€‚ æœ€åè®©æˆ‘ä»¬åœ¨çœ‹çœ‹QAåº”å…·æœ‰é‚£äº›èƒ½åŠ›ä¸æŠ€èƒ½. è½¯æŠ€èƒ½æ–¹é¢åŒ…æ‹¬é£é™©æ§åˆ¶ï¼Œè¾…å¯¼ä»–äººï¼Œæ²Ÿé€šèƒ½åŠ›ï¼Œåˆ†æå®šä½ç­‰ã€‚æŠ€èƒ½æ–¹é¢åˆ™åŒ…æ‹¬ç¼ºé™·ç®¡ç†ï¼Œæµç¨‹æ”¹è¿›ï¼Œæµ‹è¯•åˆ†æï¼Œå¯ç”¨æ€§æµ‹è¯•ï¼Œæ€§èƒ½æµ‹è¯•ï¼Œå®‰å…¨æµ‹è¯•ç­‰ã€‚ å†™åœ¨æœ€åå›é¡¾ä¸Šé¢è¿™äº›å®è·µï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥åšçš„æ›´å¥½ï¼Œè€Œä¸æ˜¯æŠŠå›¢é˜Ÿçš„è´¨é‡å…¨éƒ½äº¤ç»™è‡ªåŠ¨åŒ–ï¼Œå›å½’QAçš„åº”æœ‰çš„åˆå¿ƒï¼Œè®©æˆ‘ä»¬ä»å„ä¸ªæ–¹é¢æ”¹è¿›è´¨é‡ï¼Œå¸¦ç»™å›¢é˜Ÿæ›´å¥½çš„æœªæ¥ã€‚","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]},{"title":"espressoç³»åˆ—3--æµ‹è¯•å®è·µ","slug":"espresso3","date":"2016-12-08T14:30:17.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/12/08/espresso3/","link":"","permalink":"http://yoursite.com/2016/12/08/espresso3/","excerpt":"","text":"å‰è¨€å‰2ç¯‡æˆ‘ä»¬å·²ç»è¯¦ç»†ä»‹ç»äº†espressoçš„æ¶æ„ä»¥åŠç›¸åº”çš„APIï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿæœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œç†è®ºè®²çš„å†å¤šï¼Œè¿˜æ˜¯ä¸å¦‚æ‰‹ä¸Šè‡ªå·±æ•²ä¸€éä»£ç ã€‚è¿˜æ˜¯æ·±å…¥æµ…å‡ºç³»åˆ—çš„å¥—è·¯ï¼Œè®©æˆ‘è¿™ä¸ªå°å¸æœºå¸¦å¤§å®¶ä¸€æ­¥ä¸€æ­¥è¿›å…¥espressoçš„ä¸–ç•Œå§ã€‚ ç¯å¢ƒå‡†å¤‡githubï¼Œå¦‚æœä½ è¿˜ç”¨svnçš„è¯ï¼Œè¯·æ”¾å¼ƒé˜…è¯»æœ¬ç³»åˆ—æ–‡ç« ï¼Œå¤ªlowäº†ï¼Œè€Œä¸”æœ¬ç³»åˆ—çš„codeéƒ½æ˜¯é‡‡ç”¨googleå®˜æ–¹çš„espressoçš„demoï¼Œéƒ½æ¥æºäºgithubã€‚android studio,è¿™ä¸ªä¸ç”¨è¯´ï¼Œç›®å‰androidå¼€å‘è€…æœ€å¥½çš„å·¥å…·ï¼Œå¹¶ä¸”ä»–æœ‰å¾ˆå¤šå¸®åŠ©espressoæµ‹è¯•çš„æ’ä»¶æˆ–åŠŸèƒ½ï¼Œæ¯”å¦‚å½•åˆ¶åŠŸèƒ½ç­‰ã€‚android sdkï¼Œè¿™ä¸ªæ›´ä¸ç”¨è¯´ï¼Œå¦‚æœä½ è¿è¿™ä¸ªéƒ½æ²¡ï¼Œè¿˜å­¦ä»€ä¹ˆandroidã€‚genymotion,androidç›®å‰æ¥è¯´æœ€å¥½çš„æ¨¡æ‹Ÿå™¨ï¼Œè™½ç„¶åŸç”Ÿçš„ä¹Ÿå¾ˆä¸é”™ï¼Œä½†æ˜¯å¼€å‘è€…é¦–å…ˆå¾—è¿˜æ˜¯genymotion é¦–å…ˆä½¿ç”¨android studioåˆ›å»ºé¡¹ç›®æœ€å¥½ä½ å·²ç»æ‹¥æœ‰äº†é¡¹ç›®æºç ï¼Œespressoå¹¶ä¸æ˜¯å•çº¯çš„é»‘ç›’uiæµ‹è¯•å·¥å…·ï¼Œå®ƒèƒ½å¹²å¾—äº‹æƒ…å¾ˆå¤šï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ï¼Œé›†æˆæµ‹è¯•ï¼Œç”šè‡³åœ¨mockæœåŠ¡ï¼Œä»¥åŠå°†ä½ éœ€è¦çš„å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­ï¼Œæ‰€ä»¥æˆ‘æŠŠç§°ä¸ºç°ç›’å·¥å…·ã€‚å¦‚æœä¹‹å‰æ²¡æœ‰åšä¸ªandroidé¡¹ç›®çš„è¯ï¼Œä¹Ÿå¯ä»¥åœ¨githubä¸Šæ‰¾ä¸€äº›å¼€æºçš„android app ç»ƒæ‰‹ã€‚ä¸è¿‡å»ºè®®å¤§å®¶ä»espresso demoåº“å…¥æ‰‹ã€‚ åˆ›å»ºé¡¹ç›® å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºæ–°çš„é¡¹ç›®ï¼Œå¯¼å…¥å·²ç»å­˜åœ¨androidé¡¹ç›®ï¼Œä»ç‰ˆæœ¬ç®¡ç†è½¯ä»¶ä¸­å¯¼å…¥ï¼Œä»gradleç­‰å…¶ä»–å·¥å…·ä¸­å¯¼å…¥ï¼Œä»¥åŠè·å–androidä»£ç æ ·ä¾‹å¯¼å…¥ã€‚google android æ‰€æœ‰çš„æµ‹è¯•demoéƒ½åœ¨ä»¥ä¸‹githubåœ°å€ https://github.com/googlesamples/android-testing.gitä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬è¿›å…¥espressoç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°espressoçš„demoè¿˜æ˜¯å¾ˆä¸°å¯Œçš„ã€‚1234567891011121314151617# lqi @ CNlqi-3 in ~/work/test/android/android-testing on git:master x [0:19:24]$ cd ui/espresso# lqi @ CNlqi-3 in ~/work/test/android/android-testing/ui/espresso on git:master x [0:19:31]$ lsBasicSample CustomMatcherSample EspressoSpoonDemo IntentsAdvancedSample MultiWindowSample WebBasicSampleBasicSampleBundled DataAdapterSample IdlingResourceSample IntentsBasicSample RecyclerViewSample spoon-gradle-plugin# lqi @ CNlqi-3 in ~/work/test/android/android-testing/ui/espresso on git:master x [0:19:37]$ cd BasicSample# lqi @ CNlqi-3 in ~/work/test/android/android-testing/ui/espresso/BasicSample on git:master x [0:19:40]$ pwd/Users/lqi/work/test/android/android-testing/ui/espresso/BasicSample# lqi @ CNlqi-3 in ~/work/test/android/android-testing/ui/espresso/BasicSample on git:master x [0:20:42]$ å¯¼å…¥é¡¹ç›®é€‰æ‹©BasicSampleå¯¼å…¥æˆ–è€…ç›´æ¥å‘½ä»¤è¡Œstudio .æ‰“å¼€è¯¥é¡¹ç›®ã€‚Â·å¤–å±‚çš„build.gradleæ–‡ä»¶è®¾ç½®çš„æ˜¯æ•´ä¸ªé¡¹ç›®çš„ä¸€äº›é…ç½®,ä¾‹å¦‚ä¾èµ–çš„ç±»åº“ï¼Œè¿œç¨‹çš„ä»“åº“repositoriesã€‚ç¼–è¯‘å™¨çš„ç‰ˆæœ¬ï¼Œespressoçš„ç‰ˆæœ¬ç­‰ã€‚ 123456789101112131415161718192021222324252627// Top-level build file where you can add configuration options common to all sub-projects/modules.buildscript &#123; repositories &#123; jcenter() &#125; dependencies &#123; classpath 'com.android.tools.build:gradle:2.1.2' // NOTE: Do not place your application dependencies here; they belong // in the individual module build.gradle files &#125;&#125;allprojects &#123; repositories &#123; jcenter() &#125;&#125;ext &#123; buildToolsVersion = \"24.0.1\" supportLibVersion = \"24.2.0\" runnerVersion = \"0.5\" rulesVersion = \"0.5\" espressoVersion = \"2.2.2\"&#125; ç›®å½•ç»“æ„appç›®å½•ä¸ºé¡¹ç›®ä¸»ç›®å½•åŒ…å«é¡¹ç›®æºä»£ç ä»¥åŠæµ‹è¯•ä»£ç appé‡Œé¢ä¹ŸåŒ…å«build.gradleæ–‡ä»¶ï¼Œæœ‰æ—¶å€™é¡¹ç›®å¯èƒ½åŒ…å«å‡ ä¸ªä¸»ç›®å½•ï¼Œé‚£ä¹ˆå„ä¸ªç›®å½•çš„ä¸‹çš„build.gradleæ–‡ä»¶éƒ½ç»§æ‰¿è‡ªé¡¶å±‚çš„build.gradleæ–‡ä»¶ã€‚appä¸‹çš„build.gradleæ–‡ä»¶é…ç½®äº†androidçš„é…ç½®ä¿¡æ¯ï¼Œä»¥åŠä¼šç”¨åˆ°çš„ä¾èµ–ã€‚ 12345678910111213141516171819202122232425262728293031apply plugin: 'com.android.application'android &#123; compileSdkVersion 24 buildToolsVersion rootProject.buildToolsVersion defaultConfig &#123; applicationId \"com.example.android.testing.espresso.BasicSample\" minSdkVersion 10 targetSdkVersion 24 versionCode 1 versionName \"1.0\" testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\" &#125; lintOptions &#123; abortOnError false &#125; productFlavors &#123; &#125;&#125;dependencies &#123; // App dependencies compile 'com.android.support:support-annotations:' + rootProject.supportLibVersion; compile 'com.google.guava:guava:18.0' // Testing-only dependencies // Force usage of support annotations in the test app, since it is internally used by the runner module. androidTestCompile 'com.android.support:support-annotations:' + rootProject.supportLibVersion; androidTestCompile 'com.android.support.test:runner:' + rootProject.runnerVersion; androidTestCompile 'com.android.support.test:rules:' + rootProject.rulesVersion; androidTestCompile 'com.android.support.test.espresso:espresso-core:' + rootProject.espressoVersion;&#125; BasicSample APPå°±é•¿æ ·å­ã€‚ å¯åŠ¨æ¨¡æ‹Ÿå™¨é¦–å…ˆå¯åŠ¨android emulator/genymotion,ä¹‹åç›´æ¥ç‚¹å‡»runæŒ‰é’®å°±èƒ½éƒ¨ç½²appåˆ°æ¨¡æ‹Ÿå™¨ä¸Šã€‚logå¦‚ä¸‹.123456789101112131415161718192021Testing started at 2:32 PM ...12/09 14:32:04: Launching ChangeTextBehaviorTe...$ adb push /Users/lqi/work/test/android/android-testing/ui/espresso/BasicSample/app/build/outputs/apk/app-debug.apk /data/local/tmp/com.example.android.testing.espresso.BasicSample$ adb shell pm install -r \"/data/local/tmp/com.example.android.testing.espresso.BasicSample\" pkg: /data/local/tmp/com.example.android.testing.espresso.BasicSampleSuccess$ adb push /Users/lqi/work/test/android/android-testing/ui/espresso/BasicSample/app/build/outputs/apk/app-debug-androidTest-unaligned.apk /data/local/tmp/com.example.android.testing.espresso.BasicSample.test$ adb shell pm install -r \"/data/local/tmp/com.example.android.testing.espresso.BasicSample.test\" pkg: /data/local/tmp/com.example.android.testing.espresso.BasicSample.testSuccessRunning tests$ adb shell am instrument -w -r -e debug false -e class com.example.android.testing.espresso.BasicSample.ChangeTextBehaviorTest com.example.android.testing.espresso.BasicSample.test/android.support.test.runner.AndroidJUnitRunnerClient not ready yet..Started running testsTests ran to completion. ç¼–å†™æµ‹è¯•æ­¤å®ä¾‹BasicSampleåŒ…å«1ä¸ªtextView,1ä¸ªEditTextå’Œ2ä¸ªbuttonï¼Œå½“ç‚¹å‡»change text æŒ‰é’®æ—¶ï¼Œä¼šå°†edittextçš„å€¼å¡«å…¥textviewä¸­ã€‚å½“ç‚¹å‡»open activity and change text æŒ‰é’®æ—¶ï¼Œå°†æ‰“å¼€ä¸€ä¸ªæ–°çš„é¡µé¢ï¼ˆå§‘ä¸”å«è¿™æ ·å§ï¼‰å¹¶å°†edittextå†…å®¹æ˜¾ç¤ºåœ¨è¿™ä¸ªé¡µé¢ã€‚@RunWith(AndroidJUnit4.class)é‡‡ç”¨äº†JUnit 4é£æ ¼è¿›è¡Œç¼–å†™ é¦–å…ˆæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªæµ‹è¯•ç±»ã€‚ChangeTextBehaviorTest 12public class ChangeTextBehaviorTest &#123; &#125; é¦–å…ˆåˆ›å»ºä¸€ä¸ª@Rule,ActivityTestRuleç”¨æ¥æŒ‡æ˜è¢«æµ‹è¯•çš„Activity;@Rule: ç®€å•æ¥è¯´ï¼Œæ˜¯ä¸ºå„ä¸ªæµ‹è¯•æ–¹æ³•æä¾›ä¸€äº›æ”¯æŒã€‚å…·ä½“æ¥è¯´ï¼Œæ¯”å¦‚æˆ‘éœ€è¦æµ‹è¯•ä¸€ä¸ªActivityï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥åœ¨@Ruleæ³¨è§£ä¸‹é¢é‡‡ç”¨ä¸€ä¸ªActivityTestRuleï¼Œè¯¥ç±»æä¾›äº†å¯¹ç›¸åº”Activityçš„åŠŸèƒ½æµ‹è¯•çš„æ”¯æŒã€‚è¯¥ç±»å¯ä»¥åœ¨@Beforeå’Œ@Testæ ‡è¯†çš„æ–¹æ³•æ‰§è¡Œä¹‹å‰ç¡®ä¿å°†Activityè¿è¡Œèµ·æ¥ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰@Testå’Œ@Afteræ–¹æ³•æ‰§è¡Œç»“æŸä¹‹åå°†Activityæ€æ­»ã€‚åœ¨æ•´ä¸ªæµ‹è¯•æœŸé—´ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥å¯¹ç›¸åº”Activityè¿›è¡Œä¿®æ”¹å’Œè®¿é—®ã€‚ 123@Rule public ActivityTestRule&lt;MainActivity&gt; mActivityRule = new ActivityTestRule&lt;&gt;( MainActivity.class); æ ‡è¯†ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ã€‚ä¸€ä¸ªæµ‹è¯•ç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªæµ‹è¯•æ–¹æ³•ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•éœ€è¦ç”¨ä¸€ä¸ª@Testæ³¨è§£æ¥æ ‡è¯†ã€‚ä»¥ä¸‹ä»£ç æ‰¾åˆ°editTextUserInputè¾“å…¥â€˜Espressoâ€™ï¼Œå…³é—­é”®ç›˜ã€‚ç‚¹å‡»changeTextBtæŒ‰é’®ã€‚æ£€æŸ¥textToBeChangedçš„å€¼æ˜¯å¦ä¸ºâ€˜Espressoâ€™ã€‚12345678910@Testpublic void changeText_sameActivity() &#123; // Type text and then press the button. onView(withId(R.id.editTextUserInput)) .perform(typeText(STRING_TO_BE_TYPED), closeSoftKeyboard()); onView(withId(R.id.changeTextBt)).perform(click()); // Check that the text was changed. onView(withId(R.id.textToBeChanged)).check(matches(withText(STRING_TO_BE_TYPED)));&#125; é¡ºä¾¿è¯´è¯´å…¶ä»–junit4æ³¨è§£çš„ç”¨æ³• @Before: æ ‡è¯†åœ¨è¿è¡Œæµ‹è¯•æ–¹æ³•ä¹‹å‰è¿è¡Œçš„ä»£ç ã€‚å¯ä»¥æ”¯æŒåŒä¸€ä¸ªClassä¸­æœ‰å¤šä¸ª@Beforeï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•çš„æ‰§è¡Œé¡ºåºæ˜¯éšæœºçš„ã€‚è¯¥æ³¨è§£æ›¿ä»£äº†JUnit 3ä¸­çš„setUp()æ–¹æ³•ã€‚ @After: æ ‡è¯†åœ¨è¿è¡Œæµ‹è¯•æ–¹æ³•ç»“æŸä¹‹åè¿è¡Œçš„ä»£ç ã€‚å¯ä»¥åœ¨å…¶ä¸­åšä¸€äº›é‡Šæ”¾èµ„æºçš„æ“ä½œã€‚è¯¥æ³¨è§£æ›¿ä»£äº†JUnit 3ä¸­çš„tearDown()æ–¹æ³•ã€‚ @BeforeClass: ä¸ºæµ‹è¯•ç±»æ ‡è¯†ä¸€ä¸ªstaticæ–¹æ³•ï¼Œåœ¨æµ‹è¯•ä¹‹å‰åªæ‰§è¡Œä¸€æ¬¡ã€‚ @AfterClass: ä¸ºæµ‹è¯•ç±»æ ‡è¯†ä¸€ä¸ªstaticæ–¹æ³•ï¼Œåœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ç»“æŸä¹‹ååªæ‰§è¡Œä¸€æ¬¡ã€‚ @Test(timeout=&lt;milliseconds&gt;): ä¸ºæµ‹è¯•æ–¹æ³•è®¾å®šè¶…æ—¶æ—¶é—´ã€‚ åˆ°äº†è¿™é‡Œæˆ‘ä»¬è¦è¯´ä¸‹æ€ä¹ˆå®šä½æ‰€éœ€çš„å…ƒç´ ï¼Œå…¶å®å’Œwebå·®ä¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨layout inspectorä¸android device monitorå·¥å…·ã€‚åœ¨å†™ä¸€ä¸ªæµ‹è¯•ï¼Œåœ¨editTextUserInputè¾“å…¥â€˜Espressoâ€™ï¼Œä¹‹åå…³é—­é”®ç›˜ã€‚ç‚¹å‡»activityChangeTextBtnæŒ‰é’®ï¼ŒæŸ¥çœ‹show_text_viewçš„å€¼æ˜¯å¦ä¸ºâ€˜Espressoâ€™ã€‚12345678910@Test public void changeText_newActivity() &#123; // Type text and then press the button. onView(withId(R.id.editTextUserInput)).perform(typeText(STRING_TO_BE_TYPED), closeSoftKeyboard()); onView(withId(R.id.activityChangeTextBtn)).perform(click()); // This view is in a different Activity, no need to tell Espresso. onView(withId(R.id.show_text_view)).check(matches(withText(STRING_TO_BE_TYPED))); &#125; ä»¥ä¸Šæ˜¯espressoæœ€å¸¸è§çš„æµ‹è¯•ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿå¥½å¥½ç†è§£ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹espressoå¦‚ä½•å¯¹AdapterViewæ§åˆ¶å™¨æµ‹è¯•ã€‚â€‹AdapterViewâ€‹ æ˜¯ä¸€ä¸ªä»é€‚é…å™¨ä¸­åŠ¨æ€åŠ è½½æ•°æ®çš„ç‰¹æ®Šæ§ä»¶ã€‚æœ€å¸¸è§çš„ â€‹AdapterViewâ€‹ æ˜¯ ListViewâ€‹ã€‚ä¸åƒ â€‹LinearLayoutâ€‹ è¿™æ ·çš„é™æ€æ§ä»¶ç›¸åï¼Œåœ¨å½“å‰è§†å›¾ç»“æ„ä¸­ï¼Œå¯èƒ½åªåŠ è½½äº† â€‹AdapterViewâ€‹ å­æ§ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œ ç®€å•çš„ â€‹onview()â€‹ å¯èƒ½ä¼šæ‰¾ä¸åˆ°å½“å‰æ²¡æœ‰è¢«åŠ è½½çš„è§†å›¾ã€‚Espresso é€šè¿‡æä¾›å•ç‹¬çš„ onData()â€‹æ–¹æ³•æ¥åˆ‡å…¥ç‚¹å¤„ç†æ­¤é—®é¢˜ï¼Œå®ƒå¯ä»¥åœ¨æ“ä½œé€‚é…å™¨ä¸­æœ‰è¯¥é—®é¢˜çš„æ¡ç›®æˆ–è¯¥æ¡ç›®çš„å­é¡¹ä¹‹å‰å°†å…¶åŠ è½½ï¼ˆä½¿å…¶è·å–ç„¦ç‚¹ï¼‰ã€‚å¯¼å…¥espresso demoä¸­çš„MultiWindowSampleé¡¹ç›®è¯¥æµ‹è¯•æ˜¯ä»ArrayAdapterç±»å‹çš„dropdown_itemæ§ä»¶ä¸­é€‰å‡ºéœ€è¦çš„å€¼ï¼Œç±»ä¼¼æˆ‘ä»¬ç”¨æœç´¢å¼•æ“æ—¶ï¼Œæ˜¾ç¤ºçš„listã€‚1234567891011121314151617@Test public void autoCompleteTextView_onDataClickAndCheck() &#123; // NB: The autocompletion box is implemented with a ListView, so the preferred way // to interact with it is onData(). We can use inRoot here too! onView(withId(R.id.auto_complete_text_view)) .perform(typeText(\"S\"), closeSoftKeyboard()); // This is useful because some of the completions may not be part of the View Hierarchy // unless you scroll around the list. onData(allOf(instanceOf(String.class), is(\"Baltic Sea\"))) .inRoot(withDecorView(not(is(mActivity.getWindow().getDecorView())))) .perform(click()); // The text should be filled in. onView(withId(R.id.auto_complete_text_view)) .check(matches(withText(\"Baltic Sea\"))); &#125; ï¼ŒAutoCompleteTextçš„é€‰æ‹©ç­‰ã€‚ è¿™äº›æµ‹è¯•é¡¹éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ã€‚å³ä¸åœ¨ä¸»UIå¸ƒå±€çš„ç»“æ„(layout,åŠå…¶includeçš„layout)ä¹‹ä¸­ï¼Œæ˜¯ä¸èƒ½ç›´æ¥å®šä½çš„ã€‚ æ‰€ä»¥è¿™é‡Œå°±éœ€è¦ä½¿ç”¨inRoot( ) äº†ã€‚onData(allOf(instanceOf(String.class), is(&quot;Baltic Sea&quot;))) .inRoot(withDecorView(not(is(mActivity.getWindow().getDecorView())))) .perform(click());ä»¥ä¸Šä»£ç å°±è§£å†³äº†ä¹‹å‰UiAutomatorä¸æ”¯æŒToastçš„éªŒè¯çš„é—®é¢˜ã€‚ è¿è¡Œæµ‹è¯•è¿è¡Œæµ‹è¯•çš„æ–¹æ³•å¾ˆå¤šï¼Œç¬¬ä¸€ç§å‘½ä»¤è¡Œæ‰§è¡Œã€‚åˆ‡æ¢åˆ°å½“å‰é¡¹ç›®ç›®å½•ï¼Œç»ˆç«¯è¿è¡Œ./gradlew cATå…¶ä¸­ï¼ŒcATæ„ä¸ºconnectedAndroidTestã€‚ å¦ä¸€ç§æ–¹å¼æ˜¯åœ¨android studioä¸­ï¼Œç‚¹å‡»runæŒ‰é’®ï¼Œæˆ–è€…å³é”®æ‰§è¡Œå•ä¸€æµ‹è¯•ã€‚ è¿™ä¸€ç« è¿˜æ˜¯ä»¥åŸºç¡€çš„å®è·µä¸ºä¸»ï¼Œä¹‹åæˆ‘ä»¬å°†æ·±å…¥æ¶æ„ï¼Œæ¥çœ‹çœ‹espressoçš„API æ–¹æ³•ï¼Œå¸®åŠ©å¤§å®¶ç†è§£API æ›´å¥½æ›´å¿«çš„ç¼–å†™æµ‹è¯•ã€‚","categories":[],"tags":[{"name":"androidè‡ªåŠ¨åŒ–","slug":"androidè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/androidè‡ªåŠ¨åŒ–/"}],"keywords":[]},{"title":"espressoåŸºç¡€æ¶æ„ä¸APIåˆ†æ","slug":"espresso2","date":"2016-12-02T03:57:43.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/12/02/espresso2/","link":"","permalink":"http://yoursite.com/2016/12/02/espresso2/","excerpt":"","text":"espressoåŸºç¡€æ¶æ„ä¸APIåˆ†æEspressoæµ‹è¯•æ¡†æ¶æä¾›äº†ä¸€ç»„APIæ¥æ„å»ºUIæµ‹è¯•ï¼Œä»¥æµ‹è¯•åº”ç”¨ç¨‹åºå†…çš„ç”¨æˆ·æµã€‚ è¿™äº›APIè®©æ‚¨èƒ½å¤Ÿç¼–å†™ç®€æ´ï¼Œè¿è¡Œå¯é çš„è‡ªåŠ¨åŒ–UIæµ‹è¯•ã€‚ Espressoéå¸¸é€‚åˆç¼–å†™ç™½ç›’å¼è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå…¶ä¸­æµ‹è¯•ä»£ç ä½¿ç”¨æ¥è‡ªæ‰€æµ‹è¯•çš„åº”ç”¨ç¨‹åºçš„å®ç°ä»£ç ç»†èŠ‚ã€‚ Espressoæµ‹è¯•æ¡†æ¶çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š ç”¨äºåœ¨ç›®æ ‡åº”ç”¨ç¨‹åºä¸­æŸ¥çœ‹å’Œé€‚é…å™¨åŒ¹é…çš„çµæ´»APIã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…View matchingã€‚ä¸€ç»„å¹¿æ³›çš„æ“ä½œAPIï¼Œç”¨äºè‡ªåŠ¨åŒ–UIäº¤äº’ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… Action APIsã€‚UIçº¿ç¨‹åŒæ­¥æé«˜æµ‹è¯•çš„å¯é æ€§ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… UI thread synchronizationã€‚å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥ â€‹ViewInteraction.check()â€‹æ–¹æ³•ä¸­çš„ ViewAssertion çš„é›†åˆã€‚é€šå¸¸ï¼Œä½ ä¼šä½¿ç”¨å¸¦æœ‰è§†å›¾åŒ¹é…å™¨çš„åŒ¹é…æ–­è¨€æ¥åˆ¤æ–­å½“å‰è¢«é€‰ä¸­è§†å›¾çš„çŠ¶æ€ï¼Œè¯·å‚é˜…ViewAssertionséœ€è¦Android 2.2ï¼ˆAPIçº§åˆ«8ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ View matchingonView()Espresso.onView()æ–¹æ³•å…è®¸æ‚¨è®¿é—®ç›®æ ‡åº”ç”¨ç¨‹åºä¸­çš„UIç»„ä»¶å¹¶ä¸å…¶è¿›è¡Œäº¤äº’ã€‚ è¯¥æ–¹æ³•æ¥å—Matcherå‚æ•°å¹¶æœç´¢è§†å›¾å±‚æ¬¡ä»¥å®šä½æ»¡è¶³æŸäº›ç»™å®šæ ‡å‡†çš„å¯¹åº”Viewå®ä¾‹ã€‚ æ‚¨å¯ä»¥é€šè¿‡æŒ‡å®šä»¥ä¸‹æ¡ä»¶æ¥ä¼˜åŒ–æœç´¢ï¼š è§†å›¾çš„ç±»å è§†å›¾çš„å†…å®¹æè¿° è§†å›¾çš„R.id è§†å›¾ä¸­æ˜¾ç¤ºçš„æ–‡æœ¬ä¾‹å¦‚ï¼Œè¦å®šä½IDå€¼ä¸ºmy_buttonçš„æŒ‰é’®ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ¹é…å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š onViewï¼ˆwithIdï¼ˆR.id.my_buttonï¼‰ï¼‰;å¦‚æœæœç´¢æˆåŠŸï¼ŒonView()æ–¹æ³•è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œè¯¥å¼•ç”¨å…è®¸æ‚¨å¯¹ç›®æ ‡è§†å›¾æ‰§è¡Œç”¨æˆ·æ“ä½œå’Œæµ‹è¯•æ–­è¨€ã€‚ 123public static ViewInteraction onView(final Matcher&lt;View&gt; viewMatcher) &#123; return BASE.plus(new ViewInteractionModule(viewMatcher)).viewInteraction(); &#125; ViewMatchersonViewæ–¹æ³•éœ€è¦ä¼ å…¥ç±»å‹ä¸ºMatcheræ³›å‹viewMatcherå¯¹è±¡. ViewMatchersç±»ä¸­æ–¹æ³•æœ‰1isAssignableFromï¼ŒwithClassNameï¼ŒisDisplayedï¼ŒisCompletelyDisplayedï¼ŒisDisplayingAtLeastï¼ŒisEnabledï¼ŒisFocusableï¼ŒhasFocusï¼ŒisSelectedï¼ŒhasSiblingï¼ŒwithContentDescriptionï¼ŒwithContentDescriptionï¼ŒwithContentDescriptionï¼ŒwithIdï¼ŒwithResourceNameï¼ŒwithTagKeyï¼ŒwithTagValueï¼ŒwithTextï¼ŒwithCharSequenceï¼ŒwithHintï¼ŒisCheckedï¼ŒisNotCheckedï¼ŒwithCheckBoxStateï¼ŒhasContentDescriptionï¼ŒhasDescendantï¼ŒisClickableï¼ŒisDescendantOfAï¼ŒwithEffectiveVisibilityï¼ŒwithParentï¼ŒwithChildï¼ŒisRootï¼ŒsupportsInputMethodsï¼ŒhasImeActionï¼ŒhasImeActionï¼ŒhasLinksï¼ŒassertThatï¼ŒwithSpinnerTextï¼ŒisJavascriptEnabledï¼ŒhasErrorTextï¼ŒwithInputTypeã€‚ è¿™äº›æ–¹æ³•èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½åˆ°ç‰¹å®šçš„è§†å›¾ã€‚ æˆ‘ä»¬æ¥çœ‹çœ‹å¸¸ç”¨çš„å‡ ä¸ªæ–¹æ³• withId è¿”å›åŸºäºèµ„æºidsåŒ¹é…è§†å›¾çš„åŒ¹é…å™¨ã€‚ withText è¿”å›åŸºäºTextViewçš„æ–‡æœ¬å±æ€§å€¼åŒ¹é…TextViewçš„åŒ¹é…å™¨ã€‚onView(allOf(withId(R.id.my_view), withText(&quot;Hello!&quot;))) isDisplayed è¿”å›ä¸å½“å‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„è§†å›¾åŒ¹é…çš„åŒ¹é…å™¨ç»™ç”¨æˆ·ã€‚ å¦‚ä¸‹ Espresso.onView(ViewMatchers.withId(R.id.mpu_summary_send_receipt_button)) .check(ViewAssertions.matches(ViewMatchers.isDisplayed()));å…¶ä»–APIæ–¹æ³•å¯ä»¥åœ¨ä»¥ä¸‹æ–‡æ¡£ä¸­æ‰¾åˆ°å…·ä½“ç”¨æ³•å’Œè§£é‡Šï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦è®°ä½æ¯ä¸ªæ–¹æ³•ï¼Œé‡åˆ°å…·ä½“çš„åœºæ™¯çš„æ—¶å€™å†è¿‡æ¥æŸ¥è¯¢ä¹Ÿæ¥å¾—åŠviewmatchers-API ViewMatchersä¸hamcreståŒ¹é…å™¨é…åˆä½¿ç”¨ä»€ä¹ˆæ˜¯hamcrestï¼Ÿ Hamcrestæ¡†æ¶æ˜¯junit4æ¡†æ¶æ–°å¼•å…¥çš„æ–­è¨€æ¡†æ¶ï¼ŒHamcestæä¾›äº†ä¸€å¥—åŒ¹é…ç¬¦Matcherï¼Œè¿™äº›åŒ¹é…ç¬¦æ›´æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œå¯è¯»æ€§é«˜ï¼Œæ›´åŠ çµæ´»ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å„ç§viewmatchersä¸Hamcrestç»„åˆåŒ¹é…å™¨æ¥ç¼©å°æœç´¢çš„èŒƒå›´ã€‚å¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š onView(allOf(withId(R.id.button_signin), withText(&quot;Sign-in&quot;))); ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ â€‹notâ€‹ åè½¬åŒ¹é…ï¼š onView(allOf(withId(R.id.button_signin), not(withText(&quot;Sign-out&quot;))));æ³¨æ„ï¼šä¸€ä¸ªå·¥ç¨‹åŒ–çš„åº”ç”¨ä¸­ï¼Œæ‰€æœ‰ç”¨æˆ·å¯ä¸ä¹‹äº¤äº’çš„è§†å›¾éƒ½åº”è¯¥åŒ…å«è¯´æ˜æ–‡å­—æˆ–æœ‰ä¸€ä¸ªå†…å®¹æè¿°ï¼ˆå‚è€ƒ Android å¯è®¿é—®æ€§æŒ‡å¯¼ï¼‰ã€‚å¦‚æœä½ ä¸èƒ½é€šè¿‡ä½¿ç”¨ â€˜withTextâ€™ æˆ– â€˜withContentDescripitonâ€™ æ¥ç¼©å°onViewçš„æœç´¢èŒƒå›´ï¼Œå¯ä»¥è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå¯è®¿é—®æ€§çš„ bugã€‚ è¯·ä½¿ç”¨æœ€å°‘çš„åŒ¹é…å™¨æ¥å®šä½è§†å›¾ã€‚ä¸è¦è¿‡æŒ‡å®šï¼Œå› ä¸ºè¿™å°†å¼ºåˆ¶æ¡†æ¶åšæ— ç”¨åŠŸã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªè§†å›¾å¯ä»¥é€šè¿‡å®ƒçš„æ–‡å­—å”¯ä¸€ç¡®å®šï¼Œä½ ä¸éœ€è¦è¯´æ˜è¯¥è§†å›¾ä¹Ÿå¯ä»¥é€šè¿‡ â€‹TextViewâ€‹ æŒ‡å®šã€‚å¯¹è®¸å¤šè§†å›¾è€Œè¨€ï¼Œä½¿ç”¨å®ƒçš„â€‹R.idâ€‹å€¼å°±è¶³å¤Ÿäº†ã€‚ æ›´å¤šçš„hamcrest apiè¯·æŸ¥çœ‹hamcrest api ###onDataå½“espressoåœ¨AdapterViewä¸­æŸ¥æ‰¾è§†å›¾æ—¶éœ€è¦ç”¨onDataæ–¹æ³•ï¼Œä¾‹å¦‚åœ¨AdapterViewå°éƒ¨ä»¶ä¸­ï¼Œè§†å›¾åœ¨è¿è¡Œæ—¶åŠ¨æ€å¡«å……å­è§†å›¾ã€‚å¦‚æœè¦æµ‹è¯•çš„ç›®æ ‡è§†å›¾ä½äºAdapterViewï¼ˆä¾‹å¦‚ListViewï¼ŒGridViewæˆ–Spinnerï¼‰ä¸­ï¼Œåˆ™onView()æ–¹æ³•å¯èƒ½æ— æ³•å·¥ä½œï¼Œå› ä¸ºåªæœ‰ä¸€éƒ¨åˆ†è§†å›¾å¯èƒ½ä¼šåŠ è½½åˆ°å½“å‰è§†å›¾å±‚æ¬¡ç»“æ„ä¸­ã€‚ ç›¸åï¼Œè°ƒç”¨onData()æ–¹æ³•å¯è·å–DataInteractionå¯¹è±¡ä»¥è®¿é—®ç›®æ ‡è§†å›¾å…ƒç´ ã€‚ Espressoå¤„ç†å°†ç›®æ ‡è§†å›¾å…ƒç´ åŠ è½½åˆ°å½“å‰è§†å›¾å±‚æ¬¡ç»“æ„ä¸­ã€‚ Espressoè¿˜è´Ÿè´£æ»šåŠ¨åˆ°ç›®æ ‡å…ƒç´ ï¼Œå¹¶å°†æ”¾åœ¨ç„¦ç‚¹å…ƒç´ ã€‚ æ³¨æ„ï¼šonData()æ–¹æ³•ä¸æ£€æŸ¥æ‚¨æŒ‡å®šçš„é¡¹ç›®æ˜¯å¦ä¸è§†å›¾å¯¹åº”ã€‚ Espressoä»…æœç´¢å½“å‰è§†å›¾å±‚æ¬¡ç»“æ„ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œè¯¥æ–¹æ³•å°†æŠ›å‡ºNoMatchingViewExceptionå¼‚å¸¸ã€‚ ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨onData()æ–¹æ³•å’ŒHamcreståŒ¹é…æ¥æœç´¢åŒ…å«ç»™å®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ä¸­çš„ç‰¹å®šè¡Œã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒLongListActivityç±»åŒ…å«é€šè¿‡SimpleAdapterå…¬å¼€çš„å­—ç¬¦ä¸²åˆ—è¡¨ã€‚ 12onData(allOf(is(instanceOf(Map.class)), hasEntry(equalTo(LongListActivity.ROW_TEXT), is(\"test input\"))); Performing Actionsè°ƒç”¨ViewInteraction.perform()æˆ–DataInteraction.perform()æ–¹æ³•æ¥æ¨¡æ‹ŸUIç»„ä»¶ä¸Šçš„ç”¨æˆ·äº¤äº’ã€‚æ‚¨å¿…é¡»ä¼ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªViewActionå¯¹è±¡ä½œä¸ºå‚æ•°ã€‚EspressoæŒ‰ç…§ç»™å®šçš„é¡ºåºä¾æ¬¡è§¦å‘æ¯ä¸ªåŠ¨ä½œï¼Œå¹¶åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œå®ƒä»¬ã€‚ViewActionsç±»æä¾›äº†æŒ‡å®šå¸¸ç”¨æ“ä½œçš„å¸®åŠ©æ–¹æ³•åˆ—è¡¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•ä½œä¸ºæ–¹ä¾¿çš„å¿«æ·æ–¹å¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºå’Œé…ç½®å•ä¸ªViewActionå¯¹è±¡ã€‚æ‚¨å¯ä»¥æŒ‡å®šä»¥ä¸‹æ“ä½œï¼š ViewActions.click()ï¼šç‚¹å‡»è§†å›¾ã€‚ ViewActions.typeText()ï¼šç‚¹å‡»è§†å›¾å¹¶è¾“å…¥æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚ ViewActions.scrollTo()ï¼šæ»šåŠ¨åˆ°è§†å›¾ã€‚ç›®æ ‡è§†å›¾å¿…é¡»æ˜¯æ¥è‡ªScrollViewçš„å­ç±»ï¼Œå®ƒçš„androidï¼švisibilityå±æ€§çš„å€¼å¿…é¡»æ˜¯VISIBLEã€‚å¯¹äºæ‰©å±•AdapterViewï¼ˆä¾‹å¦‚ï¼ŒListViewï¼‰çš„è§†å›¾ï¼ŒonData()æ–¹æ³•ä¸ºæ‚¨å¤„ç†æ»šåŠ¨ã€‚ ViewActions.pressKey()ï¼šä½¿ç”¨æŒ‡å®šçš„é”®ç æ‰§è¡Œé”®æŒ‰ä¸‹ã€‚ ViewActions.clearText()ï¼šæ¸…é™¤ç›®æ ‡è§†å›¾ä¸­çš„æ–‡æœ¬ã€‚å¦‚æœç›®æ ‡è§†å›¾ä½äºScrollViewå†…éƒ¨ï¼Œè¯·å…ˆæ‰§è¡ŒViewActions.scrollTo()æ“ä½œï¼Œä»¥åœ¨å…¶ä»–æ“ä½œè¿›è¡Œä¹‹å‰åœ¨å±å¹•ä¸­æ˜¾ç¤ºè§†å›¾ã€‚å¦‚æœè§†å›¾å·²æ˜¾ç¤ºï¼ŒViewActions.scrollTo()æ“ä½œå°†ä¸èµ·ä½œç”¨ã€‚ ä¾‹å¦‚ï¼Œè¦æ¨¡æ‹Ÿè¾“å…¥å­—ç¬¦ä¸²å€¼å¹¶æŒ‰æŒ‰é’®æäº¤å€¼ï¼Œæ‚¨å¯ä»¥ç¼–å†™ç±»ä¼¼è¿™æ ·çš„è‡ªåŠ¨æµ‹è¯•è„šæœ¬ã€‚ ViewInteraction.perform()å’ŒDataInteraction.perform()æ–¹æ³•é‡‡ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªViewActionå‚æ•°ï¼Œå¹¶æŒ‰æä¾›çš„é¡ºåºè¿è¡Œæ“ä½œã€‚ //å°†æ–‡æœ¬é”®å…¥EditTextè§†å›¾ï¼Œç„¶åå…³é—­è½¯é”®ç›˜12onView(withId(R.id.editTextUserInput)ï¼‰ .perform(typeText(STRING_TO_BE_TYPED),closeSoftKeyboard()ï¼‰; //æŒ‰æŒ‰é’®æäº¤æ–‡æœ¬æ›´æ”¹onView(withId(R.id.changeTextBt)).perform(click()); å…¶ä»–action api è¯·æŸ¥çœ‹https://developer.android.com/reference/android/support/test/espresso/action/package-summary.html Verifying Resultsè°ƒç”¨ViewInteraction.check()æˆ–DataInteraction.check()æ–¹æ³•æ¥æ–­è¨€UIä¸­çš„è§†å›¾åŒ¹é…ä¸€äº›é¢„æœŸçŠ¶æ€ã€‚ æ‚¨å¿…é¡»ä¼ é€’ä¸€ä¸ªViewAssertionå¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ å¦‚æœæ–­è¨€å¤±è´¥ï¼ŒEspressoä¼šæŠ›å‡ºä¸€ä¸ªAssertionFailedErrorã€‚ViewAssertionsç±»æä¾›äº†ç”¨äºæŒ‡å®šå…¬å…±æ–­è¨€çš„å¸®åŠ©ç¨‹åºæ–¹æ³•çš„åˆ—è¡¨ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨çš„æ–­è¨€åŒ…æ‹¬ï¼šdoesNotExistï¼šæ–­è¨€æ²¡æœ‰ä¸å½“å‰è§†å›¾å±‚æ¬¡ç»“æ„ä¸­æŒ‡å®šçš„æ¡ä»¶åŒ¹é…çš„è§†å›¾ã€‚matchesï¼šæ–­è¨€æŒ‡å®šè§†å›¾å­˜åœ¨äºå½“å‰è§†å›¾å±‚æ¬¡ç»“æ„ä¸­ï¼Œå¹¶ä¸”å…¶çŠ¶æ€ä¸æŸä¸ªç»™å®šçš„HamcreståŒ¹é…å™¨åŒ¹é…ã€‚selectedDescendentsMatchï¼šå­˜åœ¨æŒ‡å®šçš„å­©å­ä¸ºçˆ¶è§†å›¾æŸ¥çœ‹çš„å£°æ˜ï¼Œå®ƒä»¬çš„çŠ¶æ€ä¸æŸä¸ªç»™å®šçš„HamcreståŒ¹é…å™¨åŒ¹é…ã€‚ ä»¥ä¸‹ä»£ç æ®µæ˜¾ç¤ºäº†å¦‚ä½•æ£€æŸ¥UIä¸­æ˜¾ç¤ºçš„æ–‡æœ¬çš„å€¼ä¸ä¹‹å‰åœ¨EditTextå­—æ®µä¸­è¾“å…¥çš„æ–‡æœ¬çš„å€¼ç›¸åŒã€‚123456789public void testChangeText_sameActivity() &#123; // Type text and then press the button. ... onView(withText(R.string.item_1_text)) .check(doesNotExist()); // Check that the text was changed. onView(withId(R.id.textToBeChanged)) .check(matches(withText(STRING_TO_BE_TYPED)));&#125; ViewMatchers, ViewActions, ViewAssertions ç»„æˆäº†espressoçš„åŸºç¡€æ¶æ„ï¼Œæ‰€ä»¥è¦çœŸæ­£çš„æŒæ¡espressoå¿…é¡»å°†è¿™3éƒ¨åˆ†åŸºç¡€ç†Ÿæ‚‰ã€‚ä¸Šä¸€èŠ‚espressoåŸºç¡€","categories":[],"tags":[{"name":"androidè‡ªåŠ¨åŒ–","slug":"androidè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/androidè‡ªåŠ¨åŒ–/"}],"keywords":[]},{"title":"espressoç³»åˆ—ä¸€ç®€ä»‹","slug":"expresso","date":"2016-11-30T08:59:53.000Z","updated":"2017-09-21T07:42:27.000Z","comments":true,"path":"2016/11/30/expresso/","link":"","permalink":"http://yoursite.com/2016/11/30/expresso/","excerpt":"","text":"espressoæ˜¯ä»€ä¹ˆï¼Ÿ Espresso æµ‹è¯•æ¡†æ¶æä¾›äº†ä¸€ç³»åˆ—çš„APIç”¨äºæ„å»ºUIæµ‹è¯•æ¥æµ‹è¯•appå†…ç”¨æˆ·æµæ“ä½œã€‚è¿™äº›APIè®©ä½ å¯ä»¥ç¼–å†™ç®€æ´å¯é çš„è‡ªåŠ¨åŒ–UIæµ‹è¯•ã€‚Espressoéå¸¸é€‚åˆç”¨æ¥ç¼–å†™ç™½ç›’æµ‹è¯•ï¼Œå…¶ä¸­æµ‹è¯•ä»£ç çš„ç¼–å†™æ˜¯åˆ©ç”¨äº†è¢«æµ‹è¯•appä¸­ç¨‹åºä»£ç å®ç°ç»†èŠ‚ã€‚ Espressoæµ‹è¯•å¯è¿è¡Œandroid 2.3.3(API 10 level)ä»¥åŠæ›´é«˜ç‰ˆæœ¬çš„è®¾å¤‡ä¸Šã€‚ä½¿ç”¨Espressoçš„ä¸»è¦å¥½å¤„æ˜¯,å½“ä½ è¿è¡Œæµ‹è¯•æ—¶å®ƒæä¾›äº†è‡ªåŠ¨çš„åŒæ­¥æµ‹è¯•åŠ¨ä½œä¸åº”ç”¨ç¨‹åºUIã€‚Espressoä¼šæ£€æµ‹ä½ çš„ä¸»çº¿ç¨‹æ˜¯å¦ä¸ºç©ºé—²çŠ¶æ€,å¦‚æœä½ çš„æ²¡æœ‰è¢«åˆ©ç”¨,è¿™æ—¶å€™ä»–å°±ä¼šæŠ¢å ä¸»çº¿ç¨‹è¿è¡Œæµ‹è¯•ï¼Œæ‰€ä»¥å®ƒèƒ½å¤Ÿåœ¨æ°å½“çš„æ—¶é—´è¿è¡Œæ‚¨çš„æµ‹è¯•å‘½ä»¤,æé«˜æµ‹è¯•çš„å¯é æ€§ã€‚è¿™ç§èƒ½åŠ›ä¹Ÿä½¿æ‚¨æ— é¡»æ·»åŠ ä»»ä½•é¢å¤–çš„æªæ–½,ä¾‹å¦‚åœ¨æµ‹è¯•ä»£ç ä¸­åŠ å…¥thread.sleep()ã€‚ Espressoæµ‹è¯•æ¡†æ¶åŸºäº instrumentation-based API å¹¶ä¸”ä½¿ç”¨ AndroidJUnitRunneræµ‹è¯•é©±åŠ¨è¿è¡Œæµ‹è¯•ã€‚ Espressoæµ‹è¯•æ¡†æ¶çš„å…³é”®ç‰¹æ€§åŒ…æ‹¬ï¼š [ ] æä¾›äº†çµæ´»çš„APIç”¨äºåŒ¹é…ç›®æ ‡appä¸­viewå’Œadapterã€‚æ›´å¤šçš„ä¿¡æ¯ï¼Œè§ViewåŒ¹é… [ ] å¤§è€Œå…¨çš„ è¡Œä¸º apiï¼ˆaction APIsï¼‰ ç”¨äºè‡ªåŠ¨åŒ–UIäº¤äº’ã€‚æ›´å¤šçš„ä¿¡æ¯ï¼Œè§è¡Œä¸ºAPIs [ ] UIçº¿ç¨‹åŒæ­¥æ¥æé«˜æµ‹è¯•å¯é æ€§ã€‚æ›´å¤šä¿¡æ¯ï¼Œè§UIçº¿ç¨‹åŒæ­¥ ç‰ˆæœ¬å…¼å®¹Espresso æ”¯æŒå¦‚ä¸‹ APIï¼š ä»£å· API Froyo 8 Gingerbread 10 Ice Cream Sandwich 15 Jelly Bean 16, 17 ,18 KitKat 19 Lollipop 21 æ³¨æ„ï¼šåˆ‡è®° espresso æœ‰ç‰ˆæœ¬æ–­å±‚ï¼Œå¹¶ä¸æ˜¯å…¨ç‰ˆæœ¬æ”¯æŒï¼Œè¯·æ³¨æ„ä½ è®¾å¤‡androidç³»ç»Ÿçš„ç‰ˆæœ¬ï¼Œä»¥å…é€ æˆä¸å¿…è¦çš„å…è´¹ã€‚ä¸è¿‡æœ€æ–°çš„androidç³»ç»Ÿç‰ˆæœ¬ espressoéƒ½æ˜¯æ”¯æŒçš„ã€‚ é…ç½®espressoå®˜æ–¹æ–‡æ¡£å»ºè®®æˆ‘ä»¬åœ¨å¼€å§‹é…ç½®ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹å¦‚ä½•å¼€å§‹æµ‹è¯•ï¼Œæˆ‘è§‰å¾—éå¸¸æœ‰å¿…è¦ï¼Œå¾ˆå¤šæ–°æ‰‹ä¸Šæ¥å°±æ‹¿ç€ä¸çŸ¥é“é‚£æ‰¾æ¥çš„ä¾‹å­è¿è¡Œä¸‹ï¼Œå°±ä»¥ä¸ºè‡ªå·±çœŸçš„ä»€ä¹ˆéƒ½ä¼šã€‚è¿™æ ·çš„çœŸçš„å¾ˆä¸å¥½ï¼Œå®˜æ–¹æ–‡æ¡£æ‰æ˜¯æœ€å¥½çš„è€å¸ˆï¼Œè®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ…¢æ…¢æ¥ã€‚ androidæ˜¯åŸºäºJUnitæµ‹è¯•æ¡†æ¶,å•å…ƒæµ‹è¯•,æ‚¨å¯ä»¥è¿è¡Œä»»æ„æœ¬åœ°çš„å•å…ƒæµ‹è¯•åœ¨JVMæˆ–instrumented testsåœ¨Androidè®¾å¤‡ä¸Šã€‚ æµ‹è¯•ç±»å‹å½“ä½¿ç”¨Android studio ç¼–å†™ä»»ä½•ä½ çš„æµ‹è¯•æ—¶,ä½ çš„æµ‹è¯•ä»£ç å¿…é¡»è¿›å…¥ä¸¤ä¸ªä¸åŒçš„ä»£ç ç›®å½•(æºé›†)ã€‚æ¯ä¸ªæ¨¡å—åœ¨æ‚¨çš„é¡¹ç›®ä¸­,Android Studioéƒ½åŒ…æ‹¬æºé›†,å¯¹åº”äºä»¥ä¸‹æµ‹è¯•ç±»å‹: æœ¬åœ°å•å…ƒæµ‹è¯•ä½äº module-name/src/test/java/. è¿™äº›æµ‹è¯•è¿è¡Œåœ¨æœ¬åœ°JVMå¹¶æ²¡æœ‰è®¿é—®Androidæ¡†æ¶apiåŠŸèƒ½çš„æƒé™ã€‚è®©æˆ‘ä»¬é¦–å…ˆå¼€å§‹å¦‚ä½•æ„å»ºæœ¬åœ°å•å…ƒæµ‹è¯•ã€‚ æ„å»ºæœ¬åœ°å•å…ƒæµ‹è¯•å¦‚æœæ‚¨çš„å•å…ƒæµ‹è¯•æ²¡æœ‰ä¾èµ–æˆ–åªæœ‰ç®€å•çš„ä¾èµ–Androidç³»ç»Ÿ,ä½ åº”è¯¥åœ¨æœ¬åœ°å¼€å‘æœºå™¨ä¸Šè¿è¡Œæ‚¨çš„æµ‹è¯•ã€‚è¿™ç§æµ‹è¯•æ–¹æ³•æ˜¯æœ‰æ•ˆçš„,å› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä½ é¿å…åŠ è½½ç›®æ ‡åº”ç”¨ç¨‹åºæ—¶çš„å¼€é”€ä»¥åŠå•å…ƒæµ‹è¯•éœ€è¦åœ¨ä¸€ä¸ªç‰©ç†è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨è¿è¡Œã€‚å› æ­¤,è¿è¡Œå•å…ƒæµ‹è¯•çš„æ—¶é—´å°†å¤§å¤§çš„å‡å°‘ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•,æ‚¨é€šå¸¸ä½¿ç”¨mocking æ¡†æ¶,åˆ—å¦‚Mockitoã€è¿™å¯ä»¥å¸®åŠ©æˆ‘ä»¬mockæµ‹è¯•éœ€è¦çš„ä¾èµ–ã€‚ è®¾ç½®æµ‹è¯•ç¯å¢ƒåœ¨ä½ çš„Android Studioé¡¹ç›®æ—¶,æ‚¨å¿…é¡»ä¸ºæœ¬åœ°å•å…ƒæµ‹è¯•å­˜å‚¨æºæ–‡ä»¶åœ¨ module-name/src/test/java/ã€‚å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œè¿™ä¸ªç›®å½•å°±å·²ç»å­˜åœ¨ã€‚æ‚¨è¿˜éœ€è¦ä¸ºæ‚¨çš„é¡¹ç›®é…ç½®æµ‹è¯•ä¾èµ–,å› ä¸ºéœ€è¦ä½¿ç”¨JUnit 4çš„æ¡†æ¶æä¾›æ ‡å‡†çš„apiã€‚å¦‚æœæ‚¨çš„æµ‹è¯•éœ€è¦ä¸Androidä¾èµ–å…³ç³»,åŒ…æ‹¬ä½¿ç”¨Mockitoæ¥ç®€åŒ–ä½ çš„å•å…ƒæµ‹è¯•ã€‚æ›´å¤šåœ°ä½¿ç”¨ mock objectsåœ¨æœ¬åœ°çš„å•å…ƒæµ‹è¯•ä¸­,è¯·æŸ¥çœ‹Mocking Androidä¾èµ–å…³ç³»ã€‚åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„é¡¶å±‚ç›®å½•çš„build.gradleæ–‡ä»¶é‡Œ,æ‚¨éœ€è¦æŒ‡å®šè¿™äº›åº“çš„ä¾èµ–å…³ç³»: 123456dependencies &#123; // Required -- JUnit 4 framework testCompile 'junit:junit:4.12' // Optional -- Mockito framework testCompile 'org.mockito:mockito-core:1.10.19'&#125; åˆ›å»ºæœ¬åœ°å•å…ƒæµ‹è¯•ç±»ä½ å½“åœ°çš„å•å…ƒæµ‹è¯•ç±»åº”è¯¥å†™æˆä¸€ä¸ªJUnit 4æµ‹è¯•ç±»ã€‚JUnitæ˜¯æœ€å—æ¬¢è¿å’Œå¹¿æ³›ä½¿ç”¨ä¸ºJavaå•å…ƒæµ‹è¯•æ¡†æ¶ã€‚è¿™ä¸ªæ¡†æ¶çš„æœ€æ–°ç‰ˆæœ¬,JUnit4,å…è®¸æ‚¨åœ¨ä¸€ä¸ªæ¯”ä¹‹å‰çš„ç‰ˆæ›´æ¸…æ´å’Œæ›´çµæ´»çš„æ–¹æ³•ä¸­ç¼–å†™æµ‹è¯•ã€‚ä¹‹å‰çš„Androidå•å…ƒæµ‹è¯•åŸºäºJUnit3æ¡†æ¶,ä½¿ç”¨JUnit4,æ‚¨ä¸éœ€è¦æ‰©å±•junit.frameworkã€‚TestCaseç±»ã€‚ä½ ä¹Ÿä¸éœ€è¦åœ¨æµ‹è¯•æ–¹æ³•åç§°åŒ…å«â€œtestâ€å…³é”®å­—,æˆ–è€…ä½¿ç”¨junitçš„ä»»ä½•ç±»åœ¨junit.frameworkæˆ–junit.extensionsåŒ…ã€‚ åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„JUnit 4æµ‹è¯•ç±»,é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªJavaç±»,å®ƒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæµ‹è¯•æ–¹æ³•ã€‚ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ä»¥@Test annotationæ ‡æ³¨å¹¶ä¸”åŒ…å«ä»£ç çš„å®ç°å’ŒéªŒè¯çš„ä»£ç ä¸­åŒ…å«æ‚¨æƒ³è¦æµ‹è¯•çš„ä¸€ä¸ªåŠŸèƒ½ç»„ä»¶ã€‚ ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å®ç°ä¸€ä¸ªæœ¬åœ°çš„å•å…ƒæµ‹è¯•ç±»ã€‚æµ‹è¯•æ–¹æ³•emailValidator_CorrectEmailSimple_ReturnsTrueéªŒè¯isValidEmail()æ–¹æ³•ï¼Œåº”ç”¨ç¨‹åºè¿”å›æ­£ç¡®çš„ç»“æœã€‚12345678910111213import org.junit.Test;import java.util.regex.Pattern;import static org.junit.Assert.assertFalse;import static org.junit.Assert.assertTrue;public class EmailValidatorTest &#123; @Test public void emailValidator_CorrectEmailSimple_ReturnsTrue() &#123; assertThat(EmailValidator.isValidEmail(\"name@email.com\"), is(true)); &#125; ...&#125; æµ‹è¯•ç»„ä»¶åœ¨åº”ç”¨ç¨‹åºè¿”å›é¢„æœŸçš„ç»“æœ,ä½¿ç”¨junit.Assertæ–¹æ³•æ¥æ‰§è¡ŒéªŒè¯æ£€æŸ¥(æˆ–æ–­è¨€)æ¥å¯¹æ¯”æµ‹è¯•ç»„ä»¶çš„çŠ¶æ€å’Œä¸€äº›æœŸæœ›å€¼ã€‚ä¸ºäº†ä½¿æµ‹è¯•å…·æœ‰æ›´å¥½çš„å¯è¯»çš„,æ‚¨å¯ä»¥ä½¿ç”¨Hamcrest matchers(å¦‚ is()å’ŒequalTo()æ–¹æ³•)æ¥åŒ¹é…è¿”å›çš„ç»“æœä¸é¢„æœŸçš„ç»“æœã€‚ Mock Androidä¾èµ–å…³ç³»é»˜è®¤æƒ…å†µä¸‹,Androidæ’ä»¶Gradleæ‰§è¡Œæœ¬åœ°çš„å•å…ƒæµ‹è¯•ä¸ä¿®æ”¹åçš„ç‰ˆæœ¬çš„Android.jaråº“,å®ƒä¸åŒ…å«ä»»ä½•å®é™…çš„ä»£ç ã€‚ç›¸å,ä»ä½ çš„å•å…ƒæµ‹è¯•æ–¹æ³•è°ƒç”¨å®‰å“ç±»æŠ›å‡ºå¼‚å¸¸ã€‚è¿™ç¡®ä¿ä½ çš„æµ‹è¯•ä»£ç å’Œä¸ä¾èµ–äºä»»ä½•ç‰¹å®šçš„è¡Œä¸ºçš„Androidå¹³å°(ä½ æ²¡æœ‰æ˜¾å¼åœ°mock)ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ¨¡æ‹Ÿæ¡†æ¶åœ¨ä»£ç ä¸­å­˜æ ¹å¤–éƒ¨ä¾èµ–å…³ç³»ï¼Œä»¥ä¾¿è½»æ¾æµ‹è¯•æ‚¨çš„ç»„ä»¶æ˜¯å¦æŒ‰ç…§é¢„æœŸçš„æ–¹å¼ä¸ä¾èµ–å…³ç³»äº¤äº’ã€‚ é€šè¿‡ç”¨æ¨¡æ‹Ÿå¯¹è±¡æ›¿æ¢Androidä¾èµ–é¡¹ï¼Œæ‚¨å¯ä»¥å°†å•å…ƒæµ‹è¯•ä¸Androidç³»ç»Ÿçš„å…¶ä½™éƒ¨åˆ†éš”ç¦»ï¼ŒåŒæ—¶éªŒè¯è¿™äº›ä¾èµ–å…³ç³»ä¸­çš„æ­£ç¡®æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨ã€‚ Javaçš„Mockito mockingæ¡†æ¶ï¼ˆ1.9.5åŠæ›´é«˜ç‰ˆæœ¬ï¼‰æä¾›äº†ä¸Androidå•å…ƒæµ‹è¯•çš„å…¼å®¹æ€§ã€‚ ä½¿ç”¨Mockitoï¼Œæ‚¨å¯ä»¥é…ç½®æ¨¡æ‹Ÿå¯¹è±¡ä»¥åœ¨è°ƒç”¨æ—¶è¿”å›ä¸€äº›ç‰¹å®šå€¼ã€‚ è¦ä½¿ç”¨æ­¤æ¡†æ¶å°†mockå¯¹è±¡æ·»åŠ åˆ°æœ¬åœ°å•å…ƒæµ‹è¯•ï¼Œè¯·éµå¾ªä»¥ä¸‹ç¼–ç¨‹æ¨¡å‹ï¼š åœ¨build.gradleæ–‡ä»¶ä¸­åŒ…å«Mockitoåº“ä¾èµ–å…³ç³»ï¼Œå¦‚è®¾ç½®æµ‹è¯•ç¯å¢ƒä¸­æ‰€è¿°ã€‚ åœ¨å•å…ƒæµ‹è¯•ç±»å®šä¹‰çš„å¼€å§‹ï¼Œæ·»åŠ @RunWithï¼ˆMockitoJUnitRunner.classï¼‰æ³¨é‡Šã€‚ è¿™ä¸ªæ³¨é‡Šå‘Šè¯‰Mockitoæµ‹è¯•è¿è¡Œå™¨éªŒè¯ä½ çš„æ¡†æ¶çš„ä½¿ç”¨æ˜¯æ­£ç¡®çš„ï¼Œå¹¶ç®€åŒ–äº†ä½ çš„æ¨¡æ‹Ÿå¯¹è±¡çš„åˆå§‹åŒ–ã€‚ è¦ä¸ºAndroidä¾èµ–é¡¹åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ï¼Œè¯·åœ¨å­—æ®µå£°æ˜ä¹‹å‰æ·»åŠ @Mockæ³¨é‡Šã€‚ è¦å­˜æ ¹ä¾èµ–å…³ç³»çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨whenï¼ˆï¼‰å’ŒthenReturnï¼ˆï¼‰æ–¹æ³•æŒ‡å®šæ¡ä»¶å¹¶è¿”å›å€¼ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•åˆ›å»ºä½¿ç”¨mockä¸Šä¸‹æ–‡å¯¹è±¡çš„å•å…ƒæµ‹è¯•ã€‚12345678910111213141516171819202122232425262728293031import static org.hamcrest.MatcherAssert.assertThat;import static org.hamcrest.CoreMatchers.*;import static org.mockito.Mockito.*;import org.junit.Test;import org.junit.runner.RunWith;import org.mockito.Mock;import org.mockito.runners.MockitoJUnitRunner;import android.content.SharedPreferences;@RunWith(MockitoJUnitRunner.class)public class UnitTestSample &#123; private static final String FAKE_STRING = \"HELLO WORLD\"; @Mock Context mMockContext; @Test public void readStringFromContext_LocalizedString() &#123; // Given a mocked Context injected into the object under test... when(mMockContext.getString(R.string.hello_word)) .thenReturn(FAKE_STRING); ClassUnderTest myObjectUnderTest = new ClassUnderTest(mMockContext); // ...when the string is returned from the object under test... String result = myObjectUnderTest.getHelloWorldString(); // ...then the result should be the expected one. assertThat(result, is(FAKE_STRING)); &#125;&#125; è¦äº†è§£æœ‰å…³ä½¿ç”¨Mockitoæ¡†æ¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ç¤ºä¾‹ä»£ç ä¸­çš„Mockito APIå‚è€ƒå’ŒSharedPreferencesHelperTestç±»ã€‚å¦‚æœAndroid.jarä¸­çš„Android APIæŠ›å‡ºçš„å¼‚å¸¸å¯¹äºæµ‹è¯•æœ‰é—®é¢˜ï¼Œæ‚¨å¯ä»¥æ›´æ”¹è¡Œä¸ºï¼Œä»¥ä½¿æ–¹æ³•é€šè¿‡åœ¨é¡¹ç›®çš„é¡¶çº§build.gradleæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®æ¥è¿”å›nullæˆ–é›¶ï¼šandroid { ... testOptions { unitTests.returnDefaultValues = true } } è­¦å‘Šï¼šå°†returnDefaultValueså±æ€§è®¾ç½®ä¸ºtrueåº”è¯¥å°å¿ƒã€‚ null/zero è¿”å›å€¼å¯ä»¥åœ¨æµ‹è¯•ä¸­å¼•å…¥å›å½’ï¼Œè¿™éš¾ä»¥è°ƒè¯•ï¼Œå¹¶ä¸”å¯èƒ½å…è®¸å¤±è´¥çš„æµ‹è¯•é€šè¿‡ã€‚ åªèƒ½ä½¿ç”¨å®ƒä½œä¸ºæœ€åçš„æ‰‹æ®µã€‚ è¿è¡Œæœ¬åœ°æµ‹è¯•è¦è¿è¡Œæœ¬åœ°å•å…ƒæµ‹è¯•ï¼Œè¯·æŒ‰ç…§ä¸‹åˆ—æ­¥éª¤æ“ä½œï¼š é€šè¿‡å•å‡»å·¥å…·æ ä¸­çš„ Sync Projectï¼Œç¡®ä¿æ‚¨çš„é¡¹ç›®ä¸GradleåŒæ­¥ã€‚ ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€è¿è¡Œæµ‹è¯•ï¼š è¦è¿è¡Œå•ä¸ªæµ‹è¯•ï¼Œè¯·æ‰“å¼€â€œProjectâ€çª—å£ï¼Œç„¶åå³é”®å•å‡»æµ‹è¯•ï¼Œç„¶åå•å‡»RUNã€‚ è¦æµ‹è¯•ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œè¯·å³é”®å•å‡»æµ‹è¯•æ–‡ä»¶ä¸­çš„ç±»æˆ–æ–¹æ³•ï¼Œç„¶åå•å‡»Runã€‚ è¦åœ¨ç›®å½•ä¸­è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼Œè¯·å³é”®å•å‡»ç›®å½•å¹¶é€‰æ‹©Run testã€‚Gradleçš„Androidæ’ä»¶ç¼–è¯‘ä½äºé»˜è®¤ç›®å½•ï¼ˆsrc / test / java /ï¼‰ä¸­çš„æœ¬åœ°å•å…ƒæµ‹è¯•ä»£ç ï¼Œæ„å»ºä¸€ä¸ªæµ‹è¯•åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨é»˜è®¤çš„æµ‹è¯•è¿è¡Œå™¨ç±»åœ¨æœ¬åœ°æ‰§è¡Œå®ƒã€‚ ç„¶åï¼ŒAndroid Studioå°†åœ¨â€œè¿è¡Œâ€çª—å£ä¸­æ˜¾ç¤ºç»“æœã€‚ Instrumented testsä½äºmodule-name/src/androidTest/java/ã€‚è¿™äº›éƒ½æ˜¯å¿…é¡»åœ¨Androidç¡¬ä»¶è®¾å¤‡æˆ–Androidæ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œçš„æµ‹è¯•ã€‚ ä»ªè¡¨åŒ–æµ‹è¯•å†…ç½®äºåœ¨æµ‹è¯•ä¸‹çš„åº”ç”¨æ—è¾¹çš„è®¾å¤‡ä¸Šè¿è¡Œçš„APKã€‚ ç³»ç»Ÿåœ¨åŒä¸€ä¸ªè¿‡ç¨‹ä¸­è¿è¡Œæµ‹è¯•APKå’Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå› æ­¤æ‚¨çš„æµ‹è¯•å¯ä»¥è°ƒç”¨æ–¹æ³•å’Œä¿®æ”¹åº”ç”¨ç¨‹åºä¸­çš„å­—æ®µï¼Œå¹¶è‡ªåŠ¨åŒ–ç”¨æˆ·ä¸æ‚¨çš„åº”ç”¨ç¨‹åºçš„äº’åŠ¨ã€‚ æœ‰å…³å¦‚ä½•åˆ›å»ºæ£€æµ‹æµ‹è¯•çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…ä»¥ä¸‹ä¸»é¢˜ï¼š æ„å»ºæµ‹è¯•å•å…ƒæµ‹è¯•ï¼šä½¿ç”¨Androidä¾èµ–é¡¹æ„å»ºå¤æ‚çš„å•å…ƒæµ‹è¯•ï¼Œè¿™äº›æµ‹è¯•ä¸èƒ½æ»¡è¶³æ¨¡æ‹Ÿå¯¹è±¡ã€‚è‡ªåŠ¨åŒ–ç”¨æˆ·ç•Œé¢æµ‹è¯•ï¼šåˆ›å»ºæµ‹è¯•ä»¥éªŒè¯ç”¨æˆ·ç•Œé¢åœ¨å•ä¸ªåº”ç”¨ç¨‹åºå†…çš„ç”¨æˆ·äº¤äº’æˆ–å¤šä¸ªåº”ç”¨ç¨‹åºä¹‹é—´çš„äº¤äº’æ“ä½œæ­£ç¡®ã€‚æµ‹è¯•åº”ç”¨ç¨‹åºç»„ä»¶é›†æˆï¼šéªŒè¯ç”¨æˆ·ä¸ç›´æ¥ä¸ä¹‹äº¤äº’çš„ç»„ä»¶ï¼ˆä¾‹å¦‚æœåŠ¡æˆ–å†…å®¹æä¾›è€…ï¼‰çš„è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œä¸Šè¿°çš„æœ¬åœ°å•å…ƒæµ‹è¯•å’Œinstrumented testsåªæ˜¯ç”¨äºåŒºåˆ†åœ¨æœ¬åœ°JVMä¸Šè¿è¡Œçš„æµ‹è¯•å’Œåœ¨Androidå¹³å°ï¼ˆåœ¨ç¡¬ä»¶è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šï¼‰è¿è¡Œçš„æµ‹è¯•ä¹‹é—´çš„æœ¯è¯­ã€‚ åœ¨æ„å»ºå®Œæ•´æµ‹è¯•å¥—ä»¶æ—¶åº”è¯¥ç†è§£çš„çœŸå®æµ‹è¯•ç±»å‹åœ¨ä¸‹è¡¨ä¸­æè¿°ã€‚ Type å­ç±»å‹ æè¿° Unit tests Local Unit Tests æœ¬åœ°å•å…ƒæµ‹è¯•åœ¨Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸Šæœ¬åœ°è¿è¡Œçš„å•å…ƒæµ‹è¯•ã€‚å½“æ‚¨çš„æµ‹è¯•æ²¡æœ‰Androidæ¡†æ¶ä¾èµ–é¡¹æˆ–è€…å¯ä»¥æ¨¡æ‹ŸAndroidæ¡†æ¶ä¾èµ–é¡¹æ—¶ï¼Œä½¿ç”¨è¿™äº›æµ‹è¯•æ¥æœ€å°åŒ–æ‰§è¡Œæ—¶é—´ã€‚ Unit tests Instrumented unit tests æµ‹è¯•å•å…ƒæµ‹è¯•åœ¨Androidè®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œçš„å•å…ƒæµ‹è¯•ã€‚è¿™äº›æµ‹è¯•å¯ä»¥è®¿é—®Instrumentationä¿¡æ¯ï¼Œä¾‹å¦‚æ‚¨è¦æµ‹è¯•çš„åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡ã€‚å½“ä½ çš„æµ‹è¯•æœ‰Androidä¾èµ–ï¼Œæ¨¡æ‹Ÿå¯¹è±¡ä¸èƒ½æ»¡è¶³æ—¶ï¼Œä½¿ç”¨è¿™äº›æµ‹è¯•ã€‚ Integration Tests Components within your app only æ‚¨çš„åº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶ä»…å½“ç”¨æˆ·æ‰§è¡Œç‰¹å®šæ“ä½œæˆ–åœ¨å…¶æ´»åŠ¨ä¸­è¾“å…¥ç‰¹å®šè¾“å…¥æ—¶ï¼Œæ­¤ç±»å‹çš„æµ‹è¯•éªŒè¯ç›®æ ‡åº”ç”¨ç¨‹åºçš„è¡Œä¸ºå¦‚é¢„æœŸã€‚ä¾‹å¦‚ï¼Œå®ƒå…è®¸æ‚¨æ£€æŸ¥ç›®æ ‡åº”ç”¨ç¨‹åºè¿”å›æ­£ç¡®çš„UIè¾“å‡ºï¼Œä»¥å“åº”ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºæ´»åŠ¨ä¸­çš„äº’åŠ¨ã€‚ Espressoç­‰UIæµ‹è¯•æ¡†æ¶å…è®¸æ‚¨ä»¥ç¼–ç¨‹æ–¹å¼æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œå¹¶æµ‹è¯•å¤æ‚çš„åº”ç”¨å†…ç”¨æˆ·äº¤äº’ã€‚ Integration Tests Cross-app Components è·¨åº”ç”¨ç¨‹åºç»„ä»¶æ­¤ç±»å‹çš„æµ‹è¯•éªŒè¯ä¸åŒç”¨æˆ·åº”ç”¨ç¨‹åºä¹‹é—´æˆ–ç”¨æˆ·åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿåº”ç”¨ç¨‹åºä¹‹é—´çš„äº¤äº’çš„æ­£ç¡®è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·åœ¨Androidè®¾ç½®èœå•ä¸­æ‰§è¡Œæ“ä½œæ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦æµ‹è¯•æ‚¨çš„åº”ç”¨æ˜¯å¦æ­£ç¡®è¿è¡Œã€‚æ”¯æŒè·¨åº”ç”¨ç¨‹åºäº¤äº’çš„UIæµ‹è¯•æ¡†æ¶ï¼ˆå¦‚UI Automatorï¼‰å…è®¸æ‚¨ä¸ºè¿™äº›åœºæ™¯åˆ›å»ºæµ‹è¯•ã€‚ Test APIsä»¥ä¸‹æ˜¯ç”¨äºåœ¨Androidä¸Šæµ‹è¯•åº”ç”¨çš„å¸¸è§APIã€‚JUnitæ‚¨åº”è¯¥å°†æ‚¨çš„å•å…ƒæˆ–é›†æˆæµ‹è¯•ç±»å†™ä¸ºJUnit 4æµ‹è¯•ç±»ã€‚ è¯¥æ¡†æ¶æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥åœ¨æµ‹è¯•ä¸­æ‰§è¡Œå¸¸è§çš„setup, teardown, and assertionæ“ä½œã€‚ åŸºæœ¬çš„JUnit 4æµ‹è¯•ç±»æ˜¯åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæµ‹è¯•æ–¹æ³•çš„Javaç±»ã€‚ æµ‹è¯•æ–¹æ³•ä»¥@Testæ³¨é‡Šå¼€å§‹ï¼ŒåŒ…å«ç»ƒä¹ å’ŒéªŒè¯è¦æµ‹è¯•çš„ç»„ä»¶ä¸­çš„å•ä¸ªåŠŸèƒ½ï¼ˆå³é€»è¾‘å•å…ƒï¼‰çš„ä»£ç ã€‚ ä»¥ä¸‹ä»£ç æ®µæ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹JUnit 4é›†æˆæµ‹è¯•ï¼Œå®ƒä½¿ç”¨Espresso APIå¯¹UIå…ƒç´ æ‰§è¡Œå•å‡»æ“ä½œï¼Œç„¶åæ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºé¢„æœŸçš„å­—ç¬¦ä¸²ã€‚123456789101112131415@RunWith(AndroidJUnit4.class)@LargeTestpublic class MainActivityInstrumentationTest &#123; @Rule public ActivityTestRule mActivityRule = new ActivityTestRule&lt;&gt;( MainActivity.class); @Test public void sayHello()&#123; onView(withText(\"Say hello!\")).perform(click()); onView(withId(R.id.textView)).check(matches(withText(\"Hello, World!\"))); &#125;&#125; åœ¨æ‚¨çš„JUnit 4æµ‹è¯•ç±»ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹æ³¨é‡Šè°ƒç”¨æµ‹è¯•ä»£ç ä¸­çš„éƒ¨åˆ†è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼š @Beforeï¼šä½¿ç”¨æ­¤æ³¨é‡Šæ¥æŒ‡å®šåŒ…å«æµ‹è¯•è®¾ç½®æ“ä½œçš„ä»£ç å—ã€‚æµ‹è¯•ç±»åœ¨æ¯æ¬¡æµ‹è¯•ä¹‹å‰è°ƒç”¨æ­¤ä»£ç å—ã€‚ä½ å¯ä»¥æœ‰å¤šä¸ª@Beforeæ–¹æ³•ï¼Œä½†æ˜¯æµ‹è¯•ç±»è°ƒç”¨è¿™äº›æ–¹æ³•çš„é¡ºåºä¸èƒ½ä¿è¯ã€‚ @Afterï¼šæ­¤æ³¨é‡ŠæŒ‡å®šä¸€ä¸ªåŒ…å«æµ‹è¯•æ‹†åˆ†æ“ä½œçš„ä»£ç å—ã€‚æµ‹è¯•ç±»åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¹‹åè°ƒç”¨è¿™ä¸ªä»£ç å—ã€‚æ‚¨å¯ä»¥åœ¨æµ‹è¯•ä»£ç ä¸­å®šä¹‰å¤šä¸ª@Afteræ“ä½œã€‚ä½¿ç”¨æ­¤æ³¨é‡Šä»å†…å­˜é‡Šæ”¾ä»»ä½•èµ„æºã€‚ @Testï¼šä½¿ç”¨æ­¤æ³¨é‡Šæ ‡è®°æµ‹è¯•æ–¹æ³•ã€‚å•ä¸ªæµ‹è¯•ç±»å¯ä»¥åŒ…å«å¤šä¸ªæµ‹è¯•æ–¹æ³•ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½ä»¥æ­¤æ³¨é‡Šä½œä¸ºå‰ç¼€ã€‚ @Ruleï¼šè§„åˆ™å…è®¸æ‚¨ä»¥å¯é‡ç”¨çš„æ–¹å¼çµæ´»åœ°æ·»åŠ æˆ–é‡æ–°å®šä¹‰æ¯ä¸ªæµ‹è¯•æ–¹æ³•çš„è¡Œä¸ºã€‚åœ¨Androidæµ‹è¯•ä¸­ï¼Œå°†æ­¤æ³¨é‡Šä¸Androidæµ‹è¯•æ”¯æŒåº“æä¾›çš„æµ‹è¯•è§„åˆ™ç±»ä¹‹ä¸€ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ActivityTestRuleæˆ–ServiceTestRuleã€‚ @BeforeClassï¼šä½¿ç”¨æ­¤æ³¨é‡Šä¸ºæ¯ä¸ªæµ‹è¯•ç±»æŒ‡å®šä»…è°ƒç”¨ä¸€æ¬¡çš„é™æ€æ–¹æ³•ã€‚æ­¤æµ‹è¯•æ­¥éª¤å¯¹äºæ¶ˆè€—å¤§çš„æ“ä½œï¼ˆä¾‹å¦‚è¿æ¥åˆ°æ•°æ®åº“ï¼‰å¾ˆæœ‰ç”¨ã€‚ @AfterClassï¼šä½¿ç”¨æ­¤æ³¨é‡Šä¸ºæµ‹è¯•ç±»æŒ‡å®šé™æ€æ–¹æ³•ï¼Œä»…åœ¨ç±»ä¸­çš„æ‰€æœ‰æµ‹è¯•è¿è¡Œåè°ƒç”¨ã€‚ è¿™ä¸ªæµ‹è¯•æ­¥éª¤å¯¹é‡Šæ”¾åœ¨@BeforeClasså—ä¸­åˆ†é…çš„ä»»ä½•èµ„æºå¾ˆæœ‰ç”¨ã€‚ @Testï¼ˆtimeout =ï¼‰ï¼šä¸€äº›æ³¨é‡Šæ”¯æŒä¼ é€’å…ƒç´ çš„èƒ½åŠ›ï¼Œæ‚¨å¯ä»¥ä¸ºå…¶è®¾ç½®å€¼ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä¸ºæµ‹è¯•æŒ‡å®šè¶…æ—¶æœŸé™ã€‚ å¦‚æœæµ‹è¯•å¼€å§‹ï¼Œä½†æ²¡æœ‰åœ¨ç»™å®šçš„è¶…æ—¶æœŸé—´å†…å®Œæˆï¼Œå®ƒä¼šè‡ªåŠ¨å¤±è´¥ã€‚ æ‚¨å¿…é¡»ä»¥æ¯«ç§’ä¸ºå•ä½æŒ‡å®šè¶…æ—¶æœŸé™ï¼Œä¾‹å¦‚ï¼š@Testï¼ˆtimeout = 5000ï¼‰ã€‚ä½¿ç”¨JUnit Assertç±»æ¥éªŒè¯å¯¹è±¡çŠ¶æ€çš„æ­£ç¡®æ€§ã€‚ assertæ–¹æ³•å°†æ‚¨ä»æµ‹è¯•æ‰€æœŸæœ›çš„å€¼ä¸å®é™…ç»“æœè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ¯”è¾ƒå¤±è´¥ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ æ–­è¨€ç±»æ›´è¯¦ç»†åœ°æè¿°è¿™äº›æ–¹æ³•ã€‚Androidæµ‹è¯•æ”¯æŒåº“Androidæµ‹è¯•æ”¯æŒåº“æä¾›äº†ä¸€ç»„APIï¼Œå…è®¸æ‚¨å¿«é€Ÿæ„å»ºå’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„æµ‹è¯•ä»£ç ï¼ŒåŒ…æ‹¬JUnit 4å’ŒåŠŸèƒ½UIæµ‹è¯•ã€‚ åº“åŒ…æ‹¬ä»¥ä¸‹åŸºäºå·¥å…·çš„APIï¼Œå½“æ‚¨æƒ³è¦è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ï¼Œè¿™äº›APIæ˜¯æœ‰ç”¨çš„ï¼š AndroidJUnitRunneré€‚ç”¨äºAndroidçš„JUnit 4å…¼å®¹æµ‹è¯•è¿è¡Œå™¨ã€‚espressoä¸€ä¸ªUIæµ‹è¯•æ¡†æ¶; é€‚ç”¨äºåœ¨åº”ç”¨ç¨‹åºå†…çš„åŠŸèƒ½UIæµ‹è¯•ã€‚UI automatoré€‚ç”¨äºç³»ç»Ÿå’Œå·²å®‰è£…åº”ç”¨ç¨‹åºä¹‹é—´è·¨åº”ç”¨ç¨‹åºåŠŸèƒ½UIæµ‹è¯•çš„UIæµ‹è¯•æ¡†æ¶ã€‚ æ–­è¨€ç±»ç”±äºAndroidæµ‹è¯•æ”¯æŒåº“APIæ‰©å±•JUnitï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ–­è¨€æ–¹æ³•æ˜¾ç¤ºæµ‹è¯•ç»“æœã€‚æ–­è¨€æ–¹æ³•å°†æµ‹è¯•è¿”å›çš„å®é™…å€¼ä¸é¢„æœŸå€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ¯”è¾ƒæµ‹è¯•å¤±è´¥ï¼Œåˆ™æŠ›å‡ºAssertionExceptionå¼‚å¸¸ã€‚ä½¿ç”¨æ–­è¨€æ¯”è®°å½•æ›´æ–¹ä¾¿ï¼Œå¹¶æä¾›æ›´å¥½çš„æµ‹è¯•æ€§èƒ½ã€‚ ä¸ºäº†ç®€åŒ–æµ‹è¯•å¼€å‘ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨Hamcreståº“ï¼Œå®ƒå…è®¸æ‚¨ä½¿ç”¨HamcreståŒ¹é…å™¨APIåˆ›å»ºæ›´çµæ´»çš„æµ‹è¯•ã€‚ Monkey å’Œ monkeyrunnerAndroid SDKåŒ…å«ä¸¤ä¸ªç”¨äºåŠŸèƒ½çº§åº”ç”¨æµ‹è¯•çš„å·¥å…·ï¼š Monkeyè¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºå‘è®¾å¤‡å‘é€æŒ‰é”®ï¼Œè§¦æ‘¸å’Œæ‰‹åŠ¿çš„ä¼ªéšæœºæµã€‚æ‚¨ä½¿ç”¨Android Debug Bridgeï¼ˆadbï¼‰å·¥å…·è¿è¡Œå®ƒï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å‹åŠ›æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºï¼ŒæŠ¥å‘Šæ‰€é‡åˆ°çš„é”™è¯¯ï¼Œæˆ–é€šè¿‡ä½¿ç”¨ç›¸åŒçš„éšæœºæ•°ç§å­å¤šæ¬¡è¿è¡Œè¯¥å·¥å…·æ¥é‡å¤äº‹ä»¶æµã€‚monkeyrunneræ­¤å·¥å…·æ˜¯ç”¨Pythonç¼–å†™çš„æµ‹è¯•ç¨‹åºçš„APIå’Œæ‰§è¡Œç¯å¢ƒã€‚ APIåŒ…æ‹¬ç”¨äºè¿æ¥åˆ°è®¾å¤‡ï¼Œå®‰è£…å’Œå¸è½½åŒ…ï¼Œæˆªå–å±å¹•æˆªå›¾ï¼Œæ¯”è¾ƒä¸¤ä¸ªå›¾åƒä»¥åŠé’ˆå¯¹åº”ç”¨è¿è¡Œæµ‹è¯•åŒ…çš„åŠŸèƒ½ã€‚ä½¿ç”¨APIâ€‹â€‹ï¼Œæ‚¨å¯ä»¥ç¼–å†™å¤§é‡ï¼Œå¼ºå¤§å’Œå¤æ‚çš„æµ‹è¯•ã€‚æ‚¨ä½¿ç”¨monkeyrunnerå‘½ä»¤è¡Œå·¥å…·è¿è¡Œä½¿ç”¨APIâ€‹â€‹çš„ç¨‹åºã€‚ æ„å»ºAndroidæµ‹è¯•çš„æŒ‡å—ä»¥ä¸‹æ–‡æ¡£æä¾›äº†æœ‰å…³å¦‚ä½•æ„å»ºå’Œè¿è¡Œå„ç§æµ‹è¯•ç±»å‹çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š å»ºç«‹æœ¬åœ°å•å…ƒæµ‹è¯•æ„å»ºå•å…ƒæµ‹è¯•æ²¡æœ‰ä¾èµ–æˆ–åªæœ‰ç®€å•çš„ä¾èµ–ï¼Œä½ å¯ä»¥mockï¼Œå®ƒè¿è¡Œåœ¨æœ¬åœ°JVMä¸Šã€‚å»ºç­‘ä»ªè¡¨å•å…ƒæµ‹è¯•ä½¿ç”¨Androidä¾èµ–é¡¹æ„å»ºå¤æ‚çš„å•å…ƒæµ‹è¯•ï¼Œè¿™å¯¹äºåœ¨ç¡¬ä»¶è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œçš„æ¨¡æ‹Ÿå¯¹è±¡æ— æ³•æ»¡è¶³ã€‚è‡ªåŠ¨åŒ–ç”¨æˆ·ç•Œé¢æµ‹è¯•åˆ›å»ºæµ‹è¯•ä»¥éªŒè¯ç”¨æˆ·ç•Œé¢åœ¨å•ä¸ªåº”ç”¨ç¨‹åºå†…çš„ç”¨æˆ·äº¤äº’æˆ–å¤šä¸ªåº”ç”¨ç¨‹åºä¹‹é—´çš„äº¤äº’æ­£ç¡®è¿è¡Œã€‚æµ‹è¯•åº”ç”¨ç¨‹åºé›†æˆéªŒè¯ç”¨æˆ·ä¸ç›´æ¥ä¸ä¹‹äº¤äº’çš„ç»„ä»¶ï¼ˆä¾‹å¦‚æœåŠ¡æˆ–å†…å®¹æä¾›è€…ï¼‰çš„è¡Œä¸ºã€‚æµ‹è¯•æ˜¾ç¤ºæ€§èƒ½ç¼–å†™æµ‹è¯•åº”ç”¨ç¨‹åºUIæ€§èƒ½çš„æµ‹è¯•ï¼Œä»¥ç¡®ä¿æŒç»­æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚ok æˆ‘ä»¬å·²ç»çœ‹å®Œäº† æ€ä¹ˆå¼€å§‹androidæµ‹è¯•ï¼Œæˆ‘æƒ³å¤§å®¶ä¸€å®šæœ‰äº†å¾ˆæ·±å…¥çš„äº†è§£äº†å§è®©æˆ‘ä»¬è¿›å…¥æ­£é¢˜ é…ç½®espressoåœ¨Androidåº”ç”¨ç¨‹åºæ¨¡å—çš„build.gradleæ–‡ä»¶ä¸­ï¼Œå¿…é¡»ä¸ºEspressoå¼•å…¥jarä¾èµ–ï¼š 1234dependencies &#123; // Other dependencies ... androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.2'&#125; å…³é—­æµ‹è¯•è®¾å¤‡ä¸Šçš„åŠ¨ç”» - åœ¨æµ‹è¯•è®¾å¤‡ä¸­æ‰“å¼€ç³»ç»ŸåŠ¨ç”»å¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœï¼Œæˆ–å¯èƒ½å¯¼è‡´æµ‹è¯•å¤±è´¥ã€‚ é€šè¿‡æ‰“å¼€å¼€å‘è€…é€‰é¡¹å¹¶å…³é—­æ‰€æœ‰ä»¥ä¸‹é€‰é¡¹ï¼Œä»è®¾ç½®ä¸­å…³é—­åŠ¨ç”»ï¼š åœ¨è®¾å¤‡ä¸Šçš„è®¾ç½®-&gt;å¼€å‘è€…é€‰é¡¹ä¸­ç¦ç”¨ä¸€ä¸‹ä¸‰é¡¹è®¾ç½®ï¼š &gt; çª—å£åŠ¨ç”»ç¼©æ”¾ &gt; è¿‡æ¸¡åŠ¨ç”»ç¼©æ”¾ &gt; åŠ¨ç”»ç¨‹åºæ—¶é•¿ç¼©æ”¾ ç¡®ä¿ä½ å·²ç»å®‰è£…äº†æœ€æ–°çš„ Extras ä¸‹çš„ Android Support Repositoryè®¾ç½®junitä¸ºæµ‹è¯•é©±åŠ¨æ¡†æ¶åœ¨build.gradle ä¸­ æ·»åŠ testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;å®Œæ•´çš„build.gradle ç¤ºä¾‹æ–‡ä»¶å¦‚ä¸‹1234567891011121314151617181920212223242526272829303132â€‹android.defaultConfigpply plugin: 'com.android.application'android &#123; compileSdkVersion 24 buildToolsVersion rootProject.buildToolsVersion defaultConfig &#123; applicationId \"com.example.android.testing.espresso.BasicSample\" minSdkVersion 10 targetSdkVersion 24 versionCode 1 versionName \"1.0\" testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\" &#125; lintOptions &#123; abortOnError false &#125; productFlavors &#123; &#125;&#125;dependencies &#123; // App dependencies compile 'com.android.support:support-annotations:' + rootProject.supportLibVersion; compile 'com.google.guava:guava:18.0' // Testing-only dependencies // Force usage of support annotations in the test app, since it is internally used by the runner module. androidTestCompile 'com.android.support:support-annotations:' + rootProject.supportLibVersion; androidTestCompile 'com.android.support.test:runner:' + rootProject.runnerVersion; androidTestCompile 'com.android.support.test:rules:' + rootProject.rulesVersion; androidTestCompile 'com.android.support.test.espresso:espresso-core:' + rootProject.espressoVersion;&#125; ä¹‹åæˆ‘ä»¬åªéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥gradleå°±ä¼šå¸®æˆ‘ä»¬ä¸‹è½½ä¾èµ–è¿è¡Œæµ‹è¯•äº†ï¼Œå¯¹äº†è®°ç€è¦å®‰è£…gradleåˆ°ä½ çš„ç³»ç»Ÿä¸­.","categories":[],"tags":[{"name":"androidè‡ªåŠ¨åŒ–","slug":"androidè‡ªåŠ¨åŒ–","permalink":"http://yoursite.com/tags/androidè‡ªåŠ¨åŒ–/"}],"keywords":[]},{"title":"ä»QAçš„è§’åº¦æ¥è°ˆè°ˆä»£ç è´¨é‡çš„æ”¹è¿›","slug":"qaquilty","date":"2016-10-31T14:15:46.000Z","updated":"2017-09-21T07:40:24.000Z","comments":true,"path":"2016/10/31/qaquilty/","link":"","permalink":"http://yoursite.com/2016/10/31/qaquilty/","excerpt":"","text":"å¤§éƒ¨åˆ†äººçœ‹åˆ°è¿™ä¸ªé¢˜ç›®æ—¶ï¼Œç›´æ¥çš„ååº”æ˜¯QAå…³å¿ƒä»£ç è´¨é‡å¹²å˜›ï¼Œèƒ½çœ‹æ‡‚ä»£ç å—ï¼Ÿæ€ä¹ˆç»™dev feedbackï¼Ÿ å¦‚æœè¿˜æœ‰äººæŒè¿™æ ·çš„è§‚ç‚¹åï¼Œé‚£ä¹ˆæˆ‘åªèƒ½è¯´too young too simpleã€‚é¦–å…ˆæˆ‘ä»¬å¾—è°ˆè°ˆä»€ä¹ˆæ˜¯ä»£ç è´¨é‡ï¼Ÿåˆ›å»ºä¼˜ç§€çš„ä»£ç æ¶‰åŠåˆ°æ­£ç¡®æ€§ã€å¯ç»´æŠ¤æ€§ç”šè‡³ä¼˜ç¾æ€§ã€‚æ­£ç¡®æ€§ï¼Œæœ€èµ·ç ä½ çš„ä»£ç å®ç°çš„ä¸šåŠ¡é€»è¾‘æ˜¯æ­£ç¡®çš„ã€‚å¯ç»´æŠ¤æ€§ï¼Œå…¬å¸ä¸­å…¶ä»–çš„å°ä¼™ä¼´èƒ½çœ‹çœ‹æ‡‚ä½ çš„ä»£ç é€»è¾‘ï¼Œä¾¿äºä¿®æ”¹ä»£ç ã€‚ä¼˜ç¾æ€§ï¼Œç¬¦åˆå„ç§ä»£ç è§„èŒƒï¼Œå…¶ä»–äººçœ‹åˆ°ä»£ç åæƒŠä¸ºå¤©äººã€‚ä½†æ˜¯è¦åšåˆ°ä»¥ä¸Šå‡ ç‚¹ç»éæ˜“äº‹ï¼Œé¦–å…ˆä½ å¾—æœ‰é«˜è¶…çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œå…¶æ¬¡ä½ å¯¹å‰ç«¯æˆ–åç«¯çš„ä»£ç è§„èŒƒæœ‰æ·±åˆ»çš„ç†è§£ï¼Œä½†æ˜¯èƒ½æœ‰è¿™æ ·èƒ½åŠ›çš„äººåˆæœ‰å¤šå°‘å‘¢ï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“è½¯ä»¶å¼€å‘æ˜¯å›¢é˜Ÿåˆä½œæ‰èƒ½å®Œæˆçš„å·¥ä½œã€‚é‚£ä¹ˆé¡¹ç›®çš„è´¨é‡ä¸å®¢æˆ·çš„éœ€æ±‚æ‰æ˜¯é¡¹ç›®ç”Ÿå­˜ä¸‹å»çš„å…³é”®ã€‚æ‰€ä»¥æ€ä¹ˆæ‰èƒ½æ”¹è¿›é¡¹ç›®ä»£ç çš„è´¨é‡ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ä¸šç•Œå·¨å¤´å…¬å¸éƒ½æ˜¯å¦‚ä½•åšçš„ï¼Ÿ microsoftæ€ä¹ˆåšï¼Ÿ æˆ‘ä»¬éƒ½çŸ¥é“å¾®è½¯æ˜¯åšæ“ä½œç³»ç»Ÿå‡ºèº«çš„ï¼Œå…¶å®å¾®è½¯çš„æµ‹è¯•èƒ½åŠ›ä¸æµ‹è¯•å·¥å…·éƒ½æ˜¯ä¸šç•Œä¸­é¢†å…ˆçš„ï¼Œä»¥ä¸‹æ˜¯ä¸¤å¼ è¡¨å±•ç¤ºçš„æ˜¯å¾®è½¯å¦‚ä½•ä»visual studioä¸å¼€å‘è¿‡ç¨‹ä¸­æé«˜ä»£ç è´¨é‡ Visual Studio æ ‡å‡† æè¿° ä½¿ç”¨ä»£ç åˆ†æå·¥å…·åˆ†æåº”ç”¨ç¨‹åºè´¨é‡ é™æ€ä»£ç åˆ†æå·¥å…·å¯æŸ¥æ‰¾ C++ å’Œæ‰˜ç®¡ä»£ç é‡Œçš„è®¾è®¡ã€ä½¿ç”¨ã€å¯ç»´æŠ¤æ€§å’Œæ ·å¼é—®é¢˜ã€‚ å…¶ä¸­çš„è®¸å¤šé—®é¢˜å¯èƒ½å¯¼è‡´éš¾ä»¥åœ¨æ ‡å‡†æµ‹è¯•ç¯å¢ƒä¸­é‡ç°çš„ bugã€‚ å•å…ƒæµ‹è¯•ä»£ç  â€œæµ‹è¯•èµ„æºç®¡ç†å™¨â€å¯ä»¥åœ¨å¼€å‘å®è·µä¸­è½»æ¾åœ°é›†æˆå•å…ƒæµ‹è¯•ã€‚ å¯ä»¥ä½¿ç”¨ Microsoft å•å…ƒæµ‹è¯•æ¡†æ¶æˆ–è‹¥å¹²ç¬¬ä¸‰æ–¹å’Œå¼€æºæ¡†æ¶ä¹‹ä¸€ã€‚ æµ‹é‡æ‰˜ç®¡ä»£ç çš„å¤æ‚æ€§å’Œå¯ç»´æŠ¤æ€§ ä»£ç åº¦é‡æ˜¯ä¸€ç»„è½¯ä»¶åº¦é‡å€¼ï¼Œä½¿å¼€å‘äººå‘˜å¯ä»¥æ›´å¥½åœ°äº†è§£ä»–ä»¬æ­£åœ¨å¼€å‘çš„ä»£ç ã€‚ åº¦é‡å€¼åŒ…æ‹¬å‡½æ•°å’Œç±»çš„å¯ç»´æŠ¤æ€§æŒ‡æ•°ã€å‡½æ•°çš„åœˆå¤æ‚åº¦ã€ç±»çš„ç»§æ‰¿æ·±åº¦å’Œç±»è€¦åˆåº¦çš„æ•°å€¼ã€‚ ä½¿ç”¨ä»£ç å…‹éš†æ£€æµ‹åŠŸèƒ½æŸ¥æ‰¾é‡å¤ä»£ç  ä»£ç å…‹éš†å·¥å…·å¯ç”¨äºåœ¨æ•´ä¸ª Visual Studio è§£å†³æ–¹æ¡ˆå†…æœç´¢ Visual C# å’Œ Visual Basic é¡¹ç›®ä¸­é‡å¤æˆ–é«˜åº¦ç›¸ä¼¼çš„ä»£ç ã€‚ å¯ä»¥ç»å¸¸é‡æ„ä»£ç ä»¥æ¶ˆé™¤é‡å¤ä»£ç ï¼Œä»è€Œåˆ›å»ºæ›´æ˜“äºç»´æŠ¤çš„è§£å†³æ–¹æ¡ˆã€‚ PreEmptive Analytics for Team Foundation Server PreEmptive Analytics for TFS CE æœ‰åŠ©äºå°†åé¦ˆé©±åŠ¨çš„å¼€å‘è¿‡ç¨‹é›†æˆåˆ°å¼€å‘å·¥ä½œæµä¸­ã€‚ å½“åº”ç”¨ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å°†å¼‚å¸¸æŠ¥å‘Šæ•°æ®å‘å›ç»™ PreEmptive Analytics æœåŠ¡ã€‚ ç„¶åï¼Œè¯¥æœåŠ¡å°†æ ¹æ®ä½ å®šä¹‰çš„è§„åˆ™å’Œé˜ˆå€¼åˆ›å»ºæˆ–æ›´æ–° Microsoft Team Foundation Server ä¸­çš„å·¥ä½œé¡¹ã€‚ PreEmptive Dotfuscator å’Œ Analytics CE PreEmptive Dotfuscator æ˜¯ .NET æ¨¡ç³Šå¤„ç†ç¨‹åºå’Œå‹ç¼©ç¨‹åºï¼Œæœ‰åŠ©äºé˜²æ­¢ç¨‹åºé­é‡åå‘å·¥ç¨‹ï¼ŒåŒæ—¶ä½¿ç¨‹åºæ›´å°æ›´é«˜æ•ˆã€‚ å¼€å‘è¿‡ç¨‹ä¸­æ”¹è¿›ä»£ç è´¨é‡ æ ‡å‡† æè¿° è®¾è®¡å’Œä»£ç çš„æ£€æŸ¥å‡†åˆ™ æä¾›è‹¥å¹²å¸®åŠ©è¿›è¡Œè®¾è®¡å’Œä»£ç æ£€æŸ¥çš„æŠ€æœ¯ï¼Œé€šè¿‡è®©å…¶ä»–åŒäº‹æ£€æŸ¥ä»£ç æ¥å‘ç° bug å’Œä¸æ­£ç¡®çš„å‡è®¾ã€‚ å®‰å…¨ä»£ç ç¼–å†™å‡†åˆ™ æè¿°ç¼–å†™å®‰å…¨ä»£ç çš„æŠ€æœ¯å’Œç­–ç•¥ã€‚ é«˜è´¨é‡ä»£ç ç­¾å…¥å‡†åˆ™ åˆ—å‡ºä»¥ä¸åŒæ–¹å¼æ£€æŸ¥ä»£ç ä»¥ç¡®ä¿ä»£ç å®ç°æ‚¨çš„é¢„æœŸé«˜è´¨é‡è®¾è®¡ç›®çš„çš„å‡†åˆ™ã€‚ ä»£ç åˆ†æå·¥å…·ä½¿ç”¨å‡†åˆ™ æä¾›å‡ æ¡ä½¿ç”¨ä»£ç åˆ†æå·¥å…·çš„å‡†åˆ™ã€‚ æ£€æµ‹å’Œæ›´æ­£ C/C++ ä»£ç ç¼ºé™· æè¿°å¦‚ä½•ä½¿ç”¨ç”¨äºæ‰˜ç®¡ä»£ç çš„ä»£ç åˆ†æå·¥å…·æ£€æµ‹å’Œæ›´æ­£ä»£ç ç¼ºé™·ã€‚ ä»£ç åˆ†æç­¾å…¥ç­–ç•¥ æè¿°å¦‚ä½•åˆ›å»ºä¸ Team Foundation æºæ§ä»¶ç­¾å…¥å…³è”çš„è‡ªå®šä¹‰ç­¾å…¥ç­–ç•¥ã€‚ è°ƒè¯•å‡†åˆ™ æä¾›å‡ æ¡æŸ¥æ‰¾ä»£ç ç¼ºé™·çš„å‡†åˆ™ã€‚ google åˆæ˜¯æ€ä¹ˆåšï¼Ÿ ä»£ç å®¡æŸ¥ã€‚åœ¨ä½ æäº¤ä»»ä½•ä»£ç æ”¹åŠ¨ä¹‹å‰ï¼Œä½ å¾—æ‰¾å»ä»£ç â€œä¸»äººâ€ç­¾å­—ç¡®è®¤ã€‚ä¸ºäº†å®ç°ï¼Œè¯„å®¡è€…ï¼ˆè¢«é¼“åŠ±å»ï¼‰å»ºè®®å¤§ä¿®ä»£ç ï¼Œè€Œä¸æ˜¯è®©å®ƒæˆä¸ºæ ¹æœ¬æ²¡æœ‰ç»è¿‡æ€è€ƒçš„â€œå›¾ç« â€ä»£ç ã€‚ æŒ‰è¯­è¨€å¯è¯»æ€§è¦æ±‚åšæŒä»£ç é£æ ¼æŒ‡å—ï¼ˆè¯·å‚é˜…è¿™é‡Œï¼‰ã€‚é™¤äº†è®©æˆ‘ä»¬ä»£ç æœ‰ç»Ÿä¸€çš„å¤–è§‚ï¼ˆæ‰€ä»¥æˆ‘ä»¬èƒ½å¿«é€Ÿè¯†åˆ«æ–¹æ³•ã€å˜äº†ç­‰ï¼‰ï¼Œæˆ‘ä»¬çš„é£æ ¼æŒ‡å—ç¦æ­¢äº†ä¸€äº›å¤æ‚ã€æ··ä¹±ã€æ˜“å‡ºé”™çš„ C++ ç‰¹æ€§ï¼ˆæ¯”å¦‚ï¼šclass ç±»å‹çš„é™æ€å’Œå…¨å±€å˜é‡ï¼‰ã€‚ æ•´ä¸ªå›¢é˜Ÿéƒ½è‡´åŠ›æ”¹è¿›æˆ‘ä»¬ä»£ç åº“çš„è´¨é‡ï¼Œç»´æŠ¤æˆ‘ä»¬çš„æ ¸å¿ƒåº“ï¼Œä¸æ–­åšå‡ºæ›´å¥½çš„å·¥å…·ã€‚ ä¸€ä¸ªæ´»è·ƒçš„â€œcode healthâ€è¯¾é¢˜ç»„ã€‚ å‘å¸ƒè½¯ä»¶æ—¶ï¼Œä¸å¯¹å¤–éƒ¨æœŸé™æ‰¿æ‹…è´£ä»»ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œè¿™è®©æˆ‘ä»¬å¯ä»¥æ­£ç¡®åšäº‹ï¼Œè€Œéä¸ºäº†æœŸé™å†…å®Œæˆä»»åŠ¡æŠŠä¹±ä¸ƒå…«ç³Ÿçš„ä»£ç æ‹¼å‡‘èµ·æ¥ã€‚ â€œFix it.â€ ä¾‹å¦‚ï¼Œä¸€ä¸ªå·¥ç¨‹å¸ˆæˆ–è®¸è¯´ï¼Œâ€œæˆ‘è®¤ä¸ºæˆ‘ä»¬çœŸåº”è¯¥åˆ«å†ç”¨è¿‡æ—¶çš„ Cruft Map ç±»ï¼ˆclassï¼‰äº†ã€‚æˆ‘æ‰“ç®—åœ¨ 1 æœˆ 20 æ—¥ç»„ç»‡ä¸€æ¬¡ Fix itã€‚â€ å½“ 1 æœˆ 20 æ—¥æ¥ä¸´æ—¶ï¼Œå¤§å®¶åº”å½“æš‚åœå…¶æ­£å¸¸è¿ä½œï¼ŒæŠŠä»–ä»¬ä»£ç ä¸­çš„ Cruft Maps éƒ½æ¢æ‰ã€‚åœ¨ 1 æœˆ 21 æ—¥ï¼ŒGoogle å°±æ°¸è¿œå’Œ Cruft Map è¯´æ‹œæ‹œäº†ï¼ä¸è¿‡æœ€è¿‘ï¼Œæ ¸å¿ƒåº“å›¢é˜Ÿå·²ç»å¾ˆä¼˜ç§€äº†ï¼Œè²Œä¼¼æ²¡æœ‰å•¥ä¸œè¥¿å¯å†å€¼å¾—ç±»ä¼¼çš„ fix it äº†ã€‚ æµ‹è¯•æ–‡åŒ–ã€‚å•å…ƒæµ‹è¯•è¦†ç›–ç‡å¯èƒ½æ¥è¿‘ 100%ï¼Œæˆ‘ä»¬æœ‰æŒç»­æ„å»º/æ•´åˆ/æµ‹è¯•ï¼Œè¿˜æœ‰çŸ¥åçš„ â€œTesting on the Toiletâ€ (è¯·å‚è§Google Testing Blog) facebook å‘¢ï¼Ÿ åˆæœ‰ä»€ä¹ˆä¸ä¸€æ · å¼€å‘å¯¹è´¨é‡è´Ÿè´£ï¼š å¼€å‘ä»è®¾è®¡ï¼Œå®ç°ï¼Œæµ‹è¯•ï¼Œåˆ°éƒ¨ç½²éƒ½è¦è‡ªå·±åšã€‚å…¶å®ƒåšå·¥å…·ï¼Œæµç¨‹çš„å·¥ç¨‹å¸ˆé€šè¿‡å¼€å‘å·¥å…·å’Œæµç¨‹æ¥å¸®åŠ©å¼€å‘äººå‘˜æ›´ä¸ºç®€å•æ–¹ä¾¿åœ°åšæµ‹è¯•ï¼Œåšéƒ¨ç½²å’Œåšç›‘æ§ã€‚æ¯ä¸ªå¼€å‘äººå‘˜æœ‰è‡ªå·±å•ç‹¬çš„æµ‹è¯•ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒå°±æ˜¯è¿è¡Œåœ¨å¼€å‘æœ¬åœ°æœºå™¨ä¸Šï¼Œéƒ¨ç½²éå¸¸ç®€å•å¿«é€Ÿã€‚æµ‹è¯•ç¯å¢ƒç”¨çš„æ˜¯çœŸå®çš„ç”¨æˆ·æ•°æ®ã€‚ æŒç»­é›†æˆå’Œæµ‹è¯•è‡ªåŠ¨åŒ–ï¼šæ¯å‘¨å‘å¸ƒä¸€æ¬¡ã€‚æ˜ŸæœŸå¤©æ™šä¸Šï¼Œè¦å‘å¸ƒçš„æ„å»ºä»ä¸»çº¿ä¸Šåˆ†æ”¯å‡ºæ¥åˆ°å‘å¸ƒåˆ†æ”¯ï¼Œåˆ°æ˜ŸæœŸäºŒçš„ä¸­åˆå¦‚æœæ²¡æœ‰å¤§çš„é—®é¢˜ï¼Œå°±å¯ä»¥ä¸Šçº¿äº†ã€‚æ‰€æœ‰çš„æµ‹è¯•è¿è¡Œæ§åˆ¶åœ¨10åˆ†é’Ÿä»¥å†…ï¼Œæ‰€ä»¥ä¸éœ€è¦è€ƒè™‘ä¸è¿è¡Œå“ªäº›æµ‹è¯•ç”¨ä¾‹ã€‚è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚ ï¼ˆåªæ˜¯å¬è¯´ï¼Œæ²¡æœ‰ç»è¿‡è€ƒè¯ã€‚ï¼‰ ä¸¥æ ¼å®æ–½ä»£ç å®¡è®¡ï¼šåœ¨Facebook åš code reviewæ—¶é—´å¤§çº¦å 50%ï¼Œç®¡ç†è€…å¯¹ä»£ç è´¨é‡è´Ÿæœ‰ä¸€å®šè´£ä»» ã€‚ç”šè‡³ä»£ç è´¨é‡é«˜äºä¸€åˆ‡ï¼šFacebook Code reviewæ˜¯é‡ç‚¹KPIè€ƒæ ¸çš„å¯¹è±¡ï¼Œå®è¡Œè¿ååˆ¶ï¼Œå¦‚æœå› ä¸ºä»£ç è´¨é‡é—®é¢˜ï¼Œé‚£ä¹ˆäº§ç”Ÿçš„KPIè´£ä»»åŒ…æ‹¬é¢†å¯¼30ï¼…ã€ç¨‹åºå‘˜50ï¼…ã€å®¡æ ¸äººå‘˜20ï¼…ã€‚ åœ¨ä»£ç checkinä¹‹å‰ï¼Œéƒ½è¦ç”±ä¸“äººè¿›è¡Œreviewã€‚Facebook åˆ›å§‹äººå…¼ CEO é©¬å…‹æ‰å…‹ä¼¯æ ¼ä¼šäº²è‡ªå¯¹ News Feed æ¯ä¸ªä»£ç æ›´æ–°æŠŠå…³ã€‚åœ¨ Facebookï¼Œæ‰€æœ‰é‡å¤§å‡çº§çš„ä»£ç éƒ½è¿›è¡Œå¼ºåˆ¶è¯„ä¼°ï¼Œä»»ä½•ä¸€ä¸ªæ”¹åŠ¨éƒ½è‡³å°‘ç”±ä¸€äººæŠŠå…³ã€‚ä½†æ˜¯ï¼Œæ— è®ºå·¥ç¨‹å¸ˆå¯¹ News Feed åšå‡ºä»»ä½•æ”¹åŠ¨ï¼Œéƒ½å°†ç”±æ‰å…‹ä¼¯æ ¼äº²è‡ªæŠŠå…³ã€‚ å†…æµ‹ ï¼ˆdog foodï¼‰ï¼šå‘å¸ƒä¹‹å‰ï¼Œå…¬å¸å‘˜å·¥ä½¿ç”¨è¦å‘å¸ƒçš„åŠŸèƒ½ã€‚2ï¼3å¤©ä¹‹å†…å¯ä»¥æœ‰å‡ ç™¾ä¸ªæˆ–ä¸Šåƒä¸ªäººåœ¨ä½¿ç”¨æ–°åŠŸèƒ½ã€‚è´Ÿè´£è¦å‘å¸ƒåŠŸèƒ½çš„å¼€å‘äººå‘˜åœ¨æ˜ŸæœŸå¤©æ™šä¸Šåˆ°æ˜ŸæœŸäºŒä¸­åˆä¹‹é—´ä¼šåšå¤§é‡çš„æµ‹è¯• ã€‚ é€šè¿‡ç°åº¦å‘å¸ƒæ§åˆ¶é£é™©ï¼šæ–°åŠŸèƒ½æœ¬èº«è´¨é‡å¯èƒ½æœ‰é—®é¢˜ï¼Œæ–°åŠŸèƒ½ä¹Ÿå¯èƒ½å½±å“å…¶å®ƒç°æœ‰åŠŸèƒ½ã€‚ä¸ºäº†å‡å°‘æˆ–æ§åˆ¶è¿™äº›é£é™©ã€‚Facebookå¼€å‘äº†ä¸€æ•´å¥—å®Œå–„çš„å‘å¸ƒï¼Œæ§åˆ¶ï¼Œç›‘æ§æµç¨‹å’Œå·¥å…·ã€‚åšåˆ°ï¼š1.æµ‹è¯•é€šè¿‡åï¼Œäº§å“è´¨é‡åŸºæœ¬æœ‰ä¿è¯ã€‚2.å³ä½¿æœ‰æ¼æµ‹çš„bugï¼Œåªä¼šå½±å“å¾ˆå°‘é‡çš„ç”¨æˆ·ã€‚3.åŠæ—¶ç›‘æ§åˆ°é—®é¢˜ã€‚4.åŠæ—¶ä¿®å¤ã€‚ äº§å“ç›‘æ§ï¼šé€šè¿‡ç¤¾åŒºè®¨è®ºçš„æ­£è´Ÿé¢èˆ†æƒ…ï¼ŒåŠä¸å†å²åº”ç”¨æ•°æ®çš„å¯¹æ¯”æƒ…å†µï¼Œç›‘æ§äº§å“çš„ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€æŠ€æœ¯ä¿®å¤ã€‚thoughtworks ä¸šç•Œä»¥æ•æ·è‘—ç§°çš„è½¯ä»¶ä¼ä¸šåˆæ˜¯å¦‚ä½•æ”¹è¿›çš„ é¡¹ç›®çš„åˆæœŸï¼Œdev,BA,QAå°±ä¼šåšåˆ°ä¸€èµ·IPM,è®©ä¸åŒçš„è§’è‰²éƒ½èƒ½äº†è§£storyï¼Œè®©devå°½æ—©çš„åˆ†æstoryä»¥åŠé‡‡ç”¨é‚£ç§æŠ€æœ¯å»å®Œæˆå·¥ä½œã€‚ å¼€å‘é˜¶æ®µï¼Œdevä¼šé‡‡ç”¨pairçš„æ–¹å¼ï¼Œå’ŒQAï¼Œå…¶ä»–devå…±åŒå®Œæˆstoryï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä¸€è®©ä¸ç†Ÿæ‚‰çš„æ–°äººå°½å¿«çš„äº†è§£é¡¹ç›®æ¶æ„ï¼ŒäºŒä¸QApair,QAå°†ä¼šæä¾›devè€ƒè™‘ä¸è¶³çš„ç‚¹ï¼Œä¸€èµ·ç¼–å†™å•å…ƒæµ‹è¯•ä»¥åŠfeature testã€‚ å½“devå®Œæˆä»£ç å·¥ä½œåï¼Œä¼šåœ¨githubä¸Šå‘å‡ºpull request æˆ–é‚€è¯·å…¶ä»–devï¼Œä¸€èµ·è¯„å®¡ä»£ç ã€‚ å„ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±å®Œå¤‡çš„cdæµç¨‹ï¼Œç¡®ä¿å‘å¸ƒè¿‡ç¨‹çš„æ­£ç¡®æ€§ï¼Œå‡å°‘äººä¸ºæ‰‹å·¥æ“ä½œçš„å¤±è¯¯ã€‚ ä»ä»¥ä¸Šä¸šç•Œä»£è¡¨å…¬å¸çš„æ”¹è¿›æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒä»¬éƒ½æ˜¯ä»ä»¥ä¸‹å‡ ç‚¹å‡ºå‘çš„ï¼š å®Œæ•´çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡UIè‡ªåŠ¨åŒ–æµ‹è¯•çš„è¦†ç›–ç‡å¾ˆéš¾è¢«ä¿è¯ï¼Œä¸æ–­çš„æ”¹å˜çš„ui,ä½¿ä½¿ç”¨UIæµ‹è¯•æ¥éªŒè¯äº§å“çš„åŠŸèƒ½å˜å¾—ååˆ†éº»çƒ¦ï¼Œä½†æ˜¯å•å…ƒæµ‹è¯•åˆ™ä¸åŒï¼Œå„ç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„æµ‹è¯•å·¥å…·ä»¥åŠæµ‹è¯•è¦†ç›–ç‡å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å®Œå–„æˆ‘ä»¬çš„ä»£ç è´¨é‡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ¥å£æµ‹è¯•ä¸pactæµ‹è¯•æ¥ä¿è¯ç¬¬ä¸‰æ–¹é›†æˆæœåŠ¡çš„æ­£ç¡®æ€§ï¼Œæ‰€ä»¥é«˜è¦†ç›–ç‡çš„å•å…ƒæµ‹è¯•æ—¶äº§å“çš„è´¨é‡çš„åŸºç¡€ã€‚ ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥æœºåˆ¶facebookï¼Œgoogleï¼Œå¾®è½¯ç­‰å…¬å¸ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥æœºåˆ¶ï¼Œæ˜¯ç¡®ä¿ä»£ç ä¸è¢«ç ´åçš„å…³é”®ç‚¹ï¼Œä¸ä¼šå› ä¸ºå›¢é˜Ÿæˆå‘˜çš„æŸæ¬¡ç²—å¿ƒçš„æäº¤ï¼Œé€ æˆæ•´ä¸ªé¡¹ç›®çš„å¤±è´¥ã€‚ å¼ºå¤§çš„ä»£ç åˆ†æå·¥å…·ä»£ç çº§åˆ«çš„è§„èŒƒåŒ–ï¼Œä»¥åŠåŠ¨æ€ä¸é™æ€æ‰«æï¼Œè¿›ä¸€æ­¥çš„å¸®åŠ©è½¯ä»¶å¼€å‘äººå‘˜ã€è´¨é‡ä¿è¯äººå‘˜æŸ¥æ‰¾ä»£ç ä¸­å­˜åœ¨çš„ç»“æ„æ€§é”™è¯¯ã€å®‰å…¨æ¼æ´ç­‰é—®é¢˜ï¼Œä»è€Œä¿è¯è½¯ä»¶çš„æ•´ä½“è´¨é‡ã€‚ä¸CI,CDçš„é›†æˆï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬å°½æ—©çš„å‘ç°ä»£ç ä¸­å­˜åœ¨çš„é”™è¯¯ã€‚ è§„èŒƒåŒ–çš„æµ‹è¯•æµç¨‹å„ä¸ªå…¬å¸è§„èŒƒåŒ–çš„æµ‹è¯•æµç¨‹ï¼Œä¿è¯é¡¹ç›®åœ¨æ¯ä¸€é˜¶æ®µéƒ½èƒ½å¤Ÿè¾“å‡ºé«˜è´¨é‡çš„ä»£ç ã€‚ å®Œå–„çš„é£é™©æ§åˆ¶å®Œå–„çš„é£é™©æ§åˆ¶ï¼Œä¸ä»…ä»…è¡¨ç°çš„googleä¸Facebookçš„A/Bæµ‹è¯•ï¼Œä¹Ÿè¡¨ç°åœ¨å½“æœ‰ä»»ä½•é‡å¤§é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿéšæ„çš„åˆ‡æ¢åˆ°æ—§çš„ç‰ˆæœ¬ï¼Œä¿è¯äº§å“ä¸å› ä¸ºè¯¥é—®é¢˜ï¼Œå°±é€ æˆå®•æœºã€‚ å®æ—¶çš„ç›‘æ§è¿™äº›è¡Œä¸šçš„å·¨å¤´ï¼Œéƒ½æœ‰ç€éå¸¸å¼ºå¤§çš„è¿ç»´å›¢é˜Ÿï¼Œä»äº§å“çš„å¼€å‘é˜¶æ®µå°±å¼€å§‹å®æ–½äº†å„ç§ç›‘æ§æ‰‹æ®µï¼Œç›‘æ§èŒƒå›´åŒ…æ‹¬ç¼–è¯‘é˜¶æ®µï¼Œéƒ¨ç½²é˜¶æ®µï¼Œäº§å“ç¯å¢ƒï¼Œç¡¬ä»¶æœåŠ¡å™¨çš„çŠ¶æ€ç­‰ï¼Œå¸®åŠ©é¡¹ç›®çš„ä¸­æ‰€æœ‰æˆå‘˜åŠæ—¶çš„å‘ç°äº§å“ä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œå¿«é€Ÿè·Ÿè¸ªä»¥åŠå®šä½é—®é¢˜ã€‚ ç¬¬ä¸€ç¯‡åˆ†æå„ä¸ªå…¬å¸éƒ½é‡‡å–äº†é‚£äº›ä»£ç è´¨é‡æ”¹è¿›æªæ–½å®Œæ¯•ï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šä»ä¸åŒçš„è§’åº¦å»è¯¦ç»†ä»‹ç»è¿™äº›æ”¹è¿›æªæ–½ã€‚","categories":[],"tags":[{"name":"QA","slug":"QA","permalink":"http://yoursite.com/tags/QA/"}],"keywords":[]},{"title":"capybara5--å®ç°ä½ ç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–åœºæ™¯","slug":"capybara5","date":"2016-09-01T14:31:15.000Z","updated":"2017-09-21T07:44:40.000Z","comments":true,"path":"2016/09/01/capybara5/","link":"","permalink":"http://yoursite.com/2016/09/01/capybara5/","excerpt":"","text":"å®ç°ä½ ç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–åœºæ™¯ä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ ä¸œé£ï¼Œè®©æˆ‘ä»¬æ¥å®ç°æˆ‘ä»¬ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•åœºæ™¯ï¼Œç™¾åº¦ä¸Šæœç´¢capybaraã€‚ 123456789101112131415describe \"i want search capybara\", :type =&gt; :feature do context 'i need to open browser' do it 'should be has an browser' end context 'when i input baidu url into the browser textarea' do it 'should be redirect to the baidu homepage' end context 'when i input the capybara into search text ' do it 'responds with 200 and show the result' endend rspec ä¸ cucumberå®Œæ•´çš„ä½¿ç”¨æŒ‡å—å¹¶ä¸åŒ…å«åœ¨æœ¬ä¹¦çš„èŒƒç•´ï¼Œä½†æˆ‘ä¼šç»™å¤§å®¶è®²è§£åŸºæœ¬çš„é¡¹ç›®æ¶æ„ä¸è¯­æ³•ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½çš„ç†è§£capybaraå’Œè‡ªåŠ¨åŒ–æµ‹è¯•çš„è§„èŒƒã€‚ rspecæ–¹å¼å¯¹äºåŸºäºrspecæ¡†æ¶çš„é¡¹ç›®ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ›å»ºspecç›®å½•ï¼Œæ¥å°†æˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶æ”¾ç½®å½“ä¸­ï¼Œè¿™æ ·åšä½¿æˆ‘ä»¬é¡¹ç›®ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜éœ€è¦åˆ›å»ºspec/rspec_help.rbæ–‡ä»¶å¸®åŠ©æˆ‘ä»¬è®¾ç½®æµ‹è¯•çš„é…ç½®ä¿¡æ¯ã€‚ å¦‚æœä½ çš„é¡¹ç›®æ˜¯åŸºäºrailsçš„ï¼Œé‚£ä¹ˆå°±æ›´ç®€å•äº†ï¼Œä½ åªéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç³»ç»Ÿå°±å¸®åŠ©æˆ‘ä»¬å®Œæˆè¿™äº›åŸºç¡€é…ç½®å’Œæ–‡ä»¶çš„ç”Ÿæˆ 1rails generate rspec:install 123.rspecspec/spec_helper.rbspec/rails_helper.rb è®©æˆ‘æ­£å¼å¼€å§‹é¦–å…ˆæˆ‘ä»¬éœ€è¦é…ç½®spec_helper.rbæ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°spec_helper.rbä¸­ï¼Œç¨åç« èŠ‚ä¸­æˆ‘å°†å…·ä½“ä»‹ç»é…ç½®æ–‡ä»¶ä¸­æ¯æ¡ä»£ç å®é™…çš„ä½œç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117require \"capybara/rspec\"require \"capybara\"require \"rspec\"require 'pry'Capybara.default_driver = :seleniumCapybara.app_host = 'http://www.baidu.com'Capybara.register_driver :selenium do |app| Capybara::Selenium::Driver.new(app, :browser =&gt; :chrome )end# This file was generated by the `rspec --init` command. Conventionally, all# specs live under a `spec` directory, which RSpec adds to the `$LOAD_PATH`.# The generated `.rspec` file contains `--require spec_helper` which will cause# this file to always be loaded, without a need to explicitly require it in any# files.## Given that it is always loaded, you are encouraged to keep this file as# light-weight as possible. Requiring heavyweight dependencies from this file# will add to the boot time of your test suite on EVERY test run, even for an# individual file that may not need all of that loaded. Instead, consider making# a separate helper file that requires the additional dependencies and performs# the additional setup, and require it from the spec files that actually need# it.## The `.rspec` file also contains a few flags that are not defaults but that# users commonly want.## See http://rubydoc.info/gems/rspec-core/RSpec/Core/ConfigurationRSpec.configure do |config| # rspec-expectations config goes here. You can use an alternate # assertion/expectation library such as wrong or the stdlib/minitest # assertions if you prefer. config.expect_with :rspec do |expectations| # This option will default to `true` in RSpec 4. It makes the `description` # and `failure_message` of custom matchers include text for helper methods # defined using `chain`, e.g.: # be_bigger_than(2).and_smaller_than(4).description # # =&gt; \"be bigger than 2 and smaller than 4\" # ...rather than: # # =&gt; \"be bigger than 2\" expectations.include_chain_clauses_in_custom_matcher_descriptions = true end # rspec-mocks config goes here. You can use an alternate test double # library (such as bogus or mocha) by changing the `mock_with` option here. config.mock_with :rspec do |mocks| # Prevents you from mocking or stubbing a method that does not exist on # a real object. This is generally recommended, and will default to # `true` in RSpec 4. mocks.verify_partial_doubles = true end # This option will default to `:apply_to_host_groups` in RSpec 4 (and will # have no way to turn it off -- the option exists only for backwards # compatibility in RSpec 3). It causes shared context metadata to be # inherited by the metadata hash of host groups and examples, rather than # triggering implicit auto-inclusion in groups with matching metadata. config.shared_context_metadata_behavior = :apply_to_host_groups# The settings below are suggested to provide a good initial experience# with RSpec, but feel free to customize to your heart's content.=begin # This allows you to limit a spec run to individual examples or groups # you care about by tagging them with `:focus` metadata. When nothing # is tagged with `:focus`, all examples get run. RSpec also provides # aliases for `it`, `describe`, and `context` that include `:focus` # metadata: `fit`, `fdescribe` and `fcontext`, respectively. config.filter_run_when_matching :focus # Allows RSpec to persist some state between runs in order to support # the `--only-failures` and `--next-failure` CLI options. We recommend # you configure your source control system to ignore this file. config.example_status_persistence_file_path = \"spec/examples.txt\" # Limits the available syntax to the non-monkey patched syntax that is # recommended. For more details, see: # - http://rspec.info/blog/2012/06/rspecs-new-expectation-syntax/ # - http://www.teaisaweso.me/blog/2013/05/27/rspecs-new-message-expectation-syntax/ # - http://rspec.info/blog/2014/05/notable-changes-in-rspec-3/#zero-monkey-patching-mode config.disable_monkey_patching! # This setting enables warnings. It's recommended, but in some cases may # be too noisy due to issues in dependencies. config.warnings = true # Many RSpec users commonly either run the entire suite or an individual # file, and it's useful to allow more verbose output when running an # individual spec file. if config.files_to_run.one? # Use the documentation formatter for detailed output, # unless a formatter has already been configured # (e.g. via a command-line flag). config.default_formatter = 'doc' end # Print the 10 slowest examples and example groups at the # end of the spec run, to help surface which specs are running # particularly slow. config.profile_examples = 10 # Run specs in random order to surface order dependencies. If you find an # order dependency and want to debug it, you can fix the order by providing # the seed, which is printed after each run. # --seed 1234 config.order = :random # Seed global randomization in this process using the `--seed` CLI option. # Setting this allows you to use `--seed` to deterministically reproduce # test failures related to randomization by passing the same `--seed` value # as the one that triggered the failure. Kernel.srand config.seed=endend æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯• 123456789101112131415161718192021# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [22:00:31]$ rspec ./spec/features/baidusearch_spec.rb***Pending: (Failures listed here are expected and do not affect your suite's status) 1) i want search capybara i need to open browser should be has an browser # Not yet implemented # ./spec/features/bb_spec.rb:9 2) i want search capybara when i input baidu url into the browser textarea should be redirect to the baidu homepage # Not yet implemented # ./spec/features/bb_spec.rb:16 3) i want search capybara when i input the capybara into search text responds with 200 and show the result # Not yet implemented # ./spec/features/bb_spec.rb:20Finished in 0.00059 seconds (files took 1.37 seconds to load)3 examples, 0 failures, 3 pending æˆ‘ä»¬ä»æµ‹è¯•ç»“æœèƒ½çœ‹å‡ºï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å®ç°ä»»ä½•å…·ä½“æ“ä½œæ­¥éª¤ï¼Œæ¥ä¸‹å°±è®©æˆ‘ä»¬å®Œæˆè¿™äº›å·¥ä½œã€‚å°†æˆ‘ä»¬æµ‹è¯•æ–‡ä»¶baidusearch_spec.rbä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ 12345678910111213141516171819202122232425262728describe \"i want search capybara\", :type =&gt; :feature do context \"the page\" do before do page.driver.browser.manage.window.resize_to(1440,900) #Mention it here visit \"/\" end context 'i need to open browser' do it 'should be has an browser' do expect(page.driver.browser.browser).to eq :chrome end end context 'when i input baidu url into the browser textarea' do it 'should be redirect to the baidu homepage' do expect(page.driver.current_url).to eq('https://www.baidu.com/') endend context 'when i input the capybara into search text ' do it ' show search the result' do fill_in 'kw', :with =&gt; 'capybara' click_button 'ç™¾åº¦ä¸€ä¸‹' expect(page).to have_content 'Capybara - Wikipedia, the free encyclopedia' end end endend å†æ¬¡è¿è¡Œæµ‹è¯•è¿™æ—¶æµè§ˆå™¨æ‰“å¼€å¹¶ä¸”æŒ‰ç…§æˆ‘ä»¬æµ‹è¯•æ–‡ä»¶ä¸­å…·ä½“æ­¥éª¤ä¸€æ­¥ä¸€æ­¥è¿›è¡Œæ“ä½œå’ŒéªŒè¯ï¼Œå…¨éƒ¨é€šè¿‡ 123456# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [22:26:15] C:1$ rspec ./spec/features/baidusearch_spec.rb...Finished in 5.46 seconds (files took 3.81 seconds to load)3 examples, 0 failures cucumberæ–¹å¼é¦–å…ˆæˆ‘ä»¬è¿è¡ŒcucumberæŸ¥çœ‹cucumberæ˜¯å¦å®‰è£…æ­£ç¡®123# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [13:42:41]$ cucumberNo such file or directory - features. You can use `cucumber --init` to get started. å½“æˆ‘ä»¬çœ‹åˆ°ä»¥ä¸Šæç¤ºæ²¡æœ‰æ–‡ä»¶æˆ–è€…ç›®å½•æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¡®è®¤cucumberå®‰è£…æˆåŠŸæ¥ä¸‹æ¥è®©æˆ‘ä»¬åˆå§‹åŒ–cucumberæµ‹è¯•ç›®å½•ç»“æ„123456# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [11:24:56] C:2$ cucumber --init create features create features/step_definitions create features/support create features/support/env.rb è¿™æ ·å°±å®Œæˆç›®å½•ç»“æ„çš„åˆå§‹åŒ–ï¼Œæˆ‘ä»¬è¦å°†æ‰€æœ‰featureæ–‡ä»¶éƒ½æ”¾åˆ°featuresç›®å½•ä¸‹supportç›®å½•ä¸‹ï¼Œä½¿æˆ‘ä»¬éœ€è¦çš„ä¸€äº›é…ç½®æ–‡ä»¶. stepdefinitionsç›®å½•ä¸‹ï¼Œæ˜¯å¯¹featureæ–‡ä»¶ä¸­çš„å…·ä½“æ“ä½œå®ç°ã€‚å› ä¸ºæˆ‘ä»¬éƒ½çŸ¥é“featureæ–‡ä»¶ä¸­åªæ˜¯åšäº†ä¸€äº›æè¿°ï¼Œå…·ä½“çš„æ‰§è¡Œæ˜¯æ”¾åˆ°step definitionsä¸‹é¢çš„æ–‡ä»¶é‡Œé¢çš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨cucumberå®Œæˆå’Œä¸Šé¢specä¸€æ ·çš„åœºæ™¯ã€‚12345Feature: Search for capybara on baidu Scenario: Search for website of baidu Given I am on the baidu home page When I search for \"capybara\" Then website of search result are returned åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œcucumberå‘½ä»¤ï¼Œè¿è¡Œä¸Šè¿°æµ‹è¯•ç”¨ä¾‹ï¼Œä¾¿å¯ä»¥çœ‹åˆ°ä¸‹åˆ—è¾“å‡ºï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ®µå®ç°æ­¥éª¤å®šä¹‰ï¼š1234567891011121314151617181920212223242526# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [14:25:16] C:1$ cucumberFeature: Search for capybara on baidu Scenario: Search for website of baidu # features/baidu_search_capybara.feature:2 Given I am on the baidu home page # features/baidu_search_capybara.feature:3 When I search for \"capybara\" # features/baidu_search_capybara.feature:4 Then website of search result are returned # features/baidu_search_capybara.feature:51 scenario (1 undefined)3 steps (3 undefined)0m0.395sYou can implement step definitions for undefined steps with these snippets:Given(/^I am on the baidu home page$/) do pending # Write code here that turns the phrase above into concrete actionsendWhen(/^I search for \"([^\"]*)\"$/) do |arg1| pending # Write code here that turns the phrase above into concrete actionsendThen(/^website of search result are returned$/) do pending # Write code here that turns the phrase above into concrete actionsend å¤åˆ¶ä»¥ä¸Šä»£ç åˆ°å…·ä½“step.rbæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ–°å»ºæ–‡ä»¶capybara_search_step.rbã€‚å†æ¬¡è¿è¡Œcucumberå‘½ä»¤ç°åœ¨,æ‚¨å°†çœ‹åˆ°å‘½ä»¤è¡ŒæŠ¥å‘Š,è¿™äº›æ­¥éª¤å·²ç»å­˜åœ¨ä½†æ²¡æœ‰å®ç°:123456789101112131415# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [14:25:22]$ cucumberFeature: Search for capybara on baidu Scenario: Search for website of baidu # features/baidu_search_capybara.feature:2 Given I am on the baidu home page # features/step_definitions/capybara_search_step.rb:1 TODO (Cucumber::Pending) ./features/step_definitions/capybara_search_step.rb:2:in `/^I am on the baidu home page$/' features/baidu_search_capybara.feature:3:in `Given I am on the baidu home page' When I search for \"capybara\" # features/step_definitions/capybara_search_step.rb:5 Then website of search result are returned # features/step_definitions/capybara_search_step.rb:91 scenario (1 pending)3 steps (2 skipped, 1 pending)0m0.152s æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡å¢åŠ å°‘é‡çš„ä»£ç æ¥ä½¿æˆ‘ä»¬è‡ªåŠ¨åŒ–è¿è¡Œèµ·æ¥ã€‚é¦–å…ˆç¡®ä¿ä½ çš„env.rbæ–‡ä»¶é…ç½®å¦‚ä¸‹ï¼š12require 'capybara/cucumber'Capybara.default_driver = :selenium é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æ–‡ä»¶ä¸­æ·»åŠ require â€˜capybara/cucumberâ€™;è¿™æ˜¯æˆ‘ä»¬å¿…é¡»éœ€è¦åŠ è½½æ–‡ä»¶ã€‚ä¹‹åæˆ‘ä»¬éœ€è¦å‘Šè¯‰capybaraä½¿ç”¨seleniumé©±åŠ¨ï¼š1Capybara.default_driver = :selenium å†æ¬¡é‡ç”³ï¼Œcapybaraåªæ˜¯å……å½“ä¸€ä¸ªä¸­é—´ä»¶ï¼Œé€‚é…ä¸åŒçš„dirver,ä½¿æˆ‘ä»¬èƒ½å¤Ÿå…¼å®¹ä»»ä½•çš„é©±åŠ¨ç¨‹åº,ä¾‹å¦‚ï¼ˆSelecting the Driverï¼ŒRackTestï¼ŒSeleniumï¼ŒCapybara-webkitï¼ŒPoltergeistï¼‰è¿™é‡Œæˆ‘ä»¬é€‰æ‹©selemium webdriver æ˜¯å› ä¸ºå®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„å¼€æºæµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå¾ˆå¤šå…¬å¸çš„è‡ªåŠ¨åŒ–æ¡†æ¶éƒ½æ˜¯åŸºäºå®ƒä¹‹ä¸Šçš„äºŒæ¬¡å¼€å‘è€Œæˆï¼Œä¾‹å¦‚appiumï¼Œæ·˜å®çš„Automan X,ç½‘æ˜“Daggerç­‰ã€‚ å¦‚æœæˆ‘ä»¬ä¸è®¾ç½®é©±åŠ¨ï¼Œå°†ä¼šå¾—åˆ°ä»¥ä¸‹é”™è¯¯123456789101112131415161718192021# lqi @ CNlqi in ~/work/test/capybara_demo on git:master x [17:13:47] C:2$ cucumberrack-test requires a rack application, but none was given (ArgumentError)/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/capybara-2.8.0/lib/capybara/rack_test/driver.rb:17:in `initialize'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/capybara-2.8.0/lib/capybara.rb:509:in `new'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/capybara-2.8.0/lib/capybara.rb:509:in `block in &lt;top (required)&gt;'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/capybara-2.8.0/lib/capybara/session.rb:85:in `call'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/capybara-2.8.0/lib/capybara/session.rb:85:in `driver'/Users/lqi/work/test/capybara_demo/features/support/env.rb:12:in `&lt;top (required)&gt;'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/rb_support/rb_language.rb:96:in `load'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/rb_support/rb_language.rb:96:in `load_code_file'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/runtime/support_code.rb:142:in `load_file'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/runtime/support_code.rb:84:in `block in load_files!'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/runtime/support_code.rb:83:in `each'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/runtime/support_code.rb:83:in `load_files!'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/runtime.rb:253:in `load_step_definitions'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/runtime.rb:61:in `run!'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/lib/cucumber/cli/main.rb:32:in `execute!'/Users/lqi/.rbenv/versions/2.2.2/lib/ruby/gems/2.2.0/gems/cucumber-2.4.0/bin/cucumber:8:in `&lt;top (required)&gt;'/Users/lqi/.rbenv/versions/2.2.2/bin/cucumber:23:in `load'/Users/lqi/.rbenv/versions/2.2.2/bin/cucumber:23:in `&lt;main&gt;' é»˜è®¤æƒ…å†µä¸‹ï¼Œcapybaraè¢«ç”¨æ¥æµ‹è¯•rack åº”ç”¨ã€‚rack æ˜¯ä¸€ä¸ªè®¾è®¡éå¸¸å·§å¦™çš„ä¸­é—´ä»¶ï¼Œè¢«ç”¨ä½œåœ¨railsä¸sinatraæ¡†æ¶åšå…¨æ ˆçš„Client/Serveré›†æˆæµ‹è¯•ï¼Œå¹¶ä¸”æ²¡æœ‰ä»€ä¹ˆHTTPçš„å¼€é”€ï¼Œä»è€Œæ˜¯æµ‹è¯•èƒ½å¤Ÿå¿«é€Ÿè¿è¡Œã€‚ç¨åï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»capybaraå¦‚ä½•æµ‹è¯•åœ¨railsä¸sinatraçš„åº”ç”¨æµ‹è¯•ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯ä½ åœ¨æ­¥éª¤å®šä¹‰ç”¨Rubyä»£ç è°ƒç”¨capybaraAPIé©±åŠ¨æµ‹è¯•ã€‚å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ä½ çš„capybara_search_step.rbä¸­12345678910111213Given(/^I am on the baidu home page$/) do visit 'https://www.baidu.com/'endWhen(/^I search for \"([^\"]*)\"$/) do |search_term| fill_in 'kw', :with =&gt; search_term click_on 'su'endThen(/^website of search result are returned$/) do page.should have_content 'capybara'end åœ¨æˆ‘ä»¬åˆ†æä»£ç ä¹‹å‰,è®©æˆ‘ä»¬å…ˆè¿è¡Œæµ‹è¯•,çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚åƒå¾€å¸¸ä¸€æ ·,åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥cucumberã€‚å¸Œæœ›ä½ èƒ½çœ‹åˆ°chromeæ‰“å¼€ï¼Œå¹¶ä¸”è·³è½¬åˆ°baidué¦–é¡µï¼Œä¹‹åæœç´¢åˆ°capybaraç»“æœå¹¶è¿”å›ã€‚æ­å–œä½ ï¼Œä½ å·²ç»åˆ©ç”¨capybaraå®Œæˆäº†ç¬¬ä¸€ä¸ªå…¨æ ˆçš„é›†æˆæµ‹è¯•ã€‚ åœ¨æˆ‘ä»¬æ·±å…¥äº†è§£capybaraä¸°å¯Œçš„APIä¹‹å‰ï¼Œè®©æˆ‘ä»¬ç®€è¦çš„å›é¡¾ä¸€ä¸‹æ¯ä¸ªæ­¥éª¤çš„å†…å®¹ï¼Œè¿™é‡Œä½ å¯ä»¥çœ‹åˆ°capybraå¦‚ä½•ä¼˜é›…è€Œç®€æ´ä½¿ç”¨apiï¼Œä»£ç å­—é¢å«ä¹‰å·²ç»å‘æˆ‘ä»¬å±•ç¤ºå®ƒåœ¨å¹²ä»€ä¹ˆï¼Œä¸éœ€è¦å¤šè§£é‡Šã€‚cucumberå’Œcapybraé…åˆèµ·æ¥ä½¿ç”¨ï¼Œå…·æœ‰è‰¯å¥½çš„å¯è¯»æ€§ï¼Œé¡¹ç›®ä¸­çš„ä»»ä½•ä¸€ä¸ªè§’è‰²éƒ½èƒ½å¤Ÿå½“å‰åœºæ™¯åšäº†å“ªäº›äº‹æƒ…ï¼Œéå¸¸é€‚åˆåº”ç”¨äºè‡ªåŠ¨åŒ–å’Œç»´æŠ¤å·¥ä½œã€‚ç¬¬ä¸€è¡Œä»£ç å‘Šè¯‰capybaraé€šçŸ¥driverï¼ˆselenium webdriverï¼‰æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨å¹¶è·³è½¬åˆ°æˆ‘ä»¬æä¾›çš„é“¾æ¥åœ°å€ï¼š1visit 'https://www.baidu.com/' æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥æŸ¥è¯¢æ¡ä»¶ï¼Œç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œæ‰€ä»¥æˆ‘ä»¬å‘Šè¯‰capybaraå»è®©driveråœ¨é¡µé¢ä¸ŠæŸ¥æ‰¾æœè¾“å…¥æ ï¼Œå¹¶å¡«å†™æœç´¢æ¡ä»¶ã€‚ 123fill_in 'kw', :with =&gt; search_termclick_on 'su' è¿™é‡Œå”¯ä¸€çš„å›°æƒ‘æ˜¯fill_in æ–¹æ³•ä¸­ä½¿ç”¨â€™kwâ€™è¿™ä¸ªå…³é”®å­—ï¼Œå½“ä½ ä»£ç å‘Šè¯‰capybaraå»åœ¨é¡µé¢ä¸Šå¯»æ‰¾è¿™ä¸ªå…³é”®å­—æ—¶ï¼Œcapybaraä½¿ç”¨äº†ä¸€ç§â€™çŒœæµ‹â€™çš„æœºåˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´capybraè¯•å›¾åœ¨DOMå…ƒç´ å„ç§å±æ€§ä¸­æ‰¾åˆ°ä½ è¦æ±‚çš„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬çŸ¥é“baiduæœç´¢è¡¨æ çš„idå±æ€§kwï¼Œè¿™æ˜¯æˆ‘ä»¬éœ€è¦åœ¨ä»£ç ä¸­æä¾›çš„ã€‚æœ€å,æˆ‘ä»¬éœ€è¦æ£€æŸ¥è¿”å›çš„æœç´¢ç»“æœæ˜¯å¦æ­£ç¡®ã€‚ä¸ºæ­¤,æˆ‘ä»¬ä½¿ç”¨capybaraçš„å†…ç½®RSpecåŒ¹é…å™¨ã€‚å¦‚æœä½ ä¸çŸ¥é“RSpec,rspecå®˜æ–¹æ–‡æ¡£æ˜¯ä½ æœ€å¥½çš„é€‰æ‹©(http://rspec.info/),ä¸ä¼ ç»Ÿæ–­è¨€ä¸åŒæ˜¯å½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸æ˜¯åªæ˜¯è¿”å›false 1page.should have_content 'capybara' æœ€åéœ€è¦æ³¨æ„çš„æ˜¯,have_contentæ–¹æ³•çš„åŒ¹é…å™¨å†…ç½®äº†ä¸€ä¸ªé»˜è®¤çš„ç­‰å¾…ã€‚è¿™æ˜¯éå¸¸æœ‰ç”¨çš„,å› ä¸ºå¦‚æœæŸ¥æ‰¾çš„å†…å®¹æˆ‘æ˜¯é€šè¿‡JavaScriptå¼‚æ­¥åŠ è½½è€Œæˆçš„è¯(è€Œä¸æ˜¯åœ¨åˆå§‹é¡µé¢å°±åŠ è½½å®Œæˆ),capybaraåœ¨æˆ‘ä»¬è®¾ç½®é»˜è®¤ç­‰å¾…æ—¶é—´é‡è¯•,çœ‹å®ƒæ˜¯å¦å­˜åœ¨ã€‚æˆ‘ä»¬å°†åœ¨åé¢çš„ç« èŠ‚ä»‹ç»å¦‚ä½•å¤„ç†å¼‚æ­¥JavaScriptçš„é—®é¢˜ã€‚ æ€»ç»“ï¼Œæœ¬ç« ç›®æ ‡æ˜¯è®©ä½ è®¤è¯†capybraï¼Œä»¥åŠé…ç½®å®ƒçš„è¿è¡Œç¯å¢ƒï¼Œrubyå’Œrubygemsä»¥åŠç›¸å…³ä¾èµ–ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„åœºæ™¯æ¥ç¼–å†™è‡ªåŠ¨åŒ–ï¼Œæ¥åŠ å¼ºæˆ‘ä»¬çš„å­¦ä¹ ã€‚","categories":[],"tags":[{"name":"rails","slug":"rails","permalink":"http://yoursite.com/tags/rails/"},{"name":"webdriver","slug":"webdriver","permalink":"http://yoursite.com/tags/webdriver/"}],"keywords":[]},{"title":"capybara4--å®‰è£…cucumber","slug":"capybara4","date":"2016-08-30T07:54:19.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/08/30/capybara4/","link":"","permalink":"http://yoursite.com/2016/08/30/capybara4/","excerpt":"","text":"capybaraæ˜¯ä¸€ä¸ªç®€å•çš„API,å®ƒæä¾›äº†æŠ½è±¡å±‚åœ¨ä½ çœŸå®è‡ªåŠ¨åŒ–åº“ä¹‹ä¸Šã€‚å¦‚æœå®ƒå¸®åŠ©,è®¤ä¸ºcapybaraæ˜¯ä½ çš„ç¿»è¯‘,ä½ å‘Šè¯‰å®ƒåšä¸€äº›äº‹æƒ…ï¼Œå®ƒå°†ä¼˜é›…çš„å°†å‘½ä»¤è½¬æ¢ä¸ºä½ åº”ç”¨é©±åŠ¨çš„APIã€‚ æ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨capybaraè¿›è¡Œç¿»è¯‘æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰capybaraåšä»€ä¹ˆå¹¶ä¸”éœ€è¦ä¸€ä¸ªAPIè‡ªåŠ¨åŒ–åº“å»è¿›è¡Œç¿»è¯‘ã€‚capybaraæ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„åº“,é€šè¿‡è¿™æœ¬ä¹¦æˆ‘ä»¬å°†çœ‹åˆ°å®ƒåœ¨å„ç§åœºæ™¯ä¸­åº”ç”¨ã€‚ç„¶è€Œã€‚ç›®å‰ä¸ºæ­¢æœ€å¸¸è§çš„æƒ…æ™¯æ˜¯åº”ç”¨cucumberä½œä¸ºcapybaraæµ‹è¯•é©±åŠ¨ï¼Œå»é©±åŠ¨selenium webdriver å¼€å±•æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€‚å½“cucumberè¢«è°ƒç”¨æ¥è§£æè¿™äº›ç®€å•æ˜“æ‡‚çš„è‹±è¯­åœºæ™¯æ—¶ï¼Œå®ƒå°†ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»å°†è¿™äº›åŒ¹é… cucumberä»‹ç»cucumberæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ–‡æœ¬æè¿°è¯­è¨€æ¥æ‰§è¡Œè‡ªåŠ¨æµ‹è¯•ç”¨ä¾‹çš„å·¥å…·ï¼Œä½¿ç”¨çš„è¯­è¨€å«åšGherkin. Gherkinç”¨äºæè¿°è½¯ä»¶çš„è¡Œä¸ºè€Œä¸éœ€è¦äº†è§£å…·ä½“çš„å®ç°ï¼Œä½¿ç”¨Gherkinä¸»è¦æœ‰ä¸¤ä¸ªç›®çš„æ–‡æ¡£å’Œè‡ªåŠ¨æµ‹è¯•ç”¨ä¾‹ï¼ˆæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿå’Œæ‰‹å·¥æµ‹è¯•ç”¨ä¾‹ä¹Ÿç»Ÿä¸€ï¼‰ã€‚ Gherkinæ”¯æŒè¶…è¿‡40ç§è¯­è¨€ï¼ŒåŒ…æ‹¬è‹±æ–‡ã€ä¸­æ–‡ã€‚ Gherkinå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ–°å¢æ³¨é‡Šï¼Œæ³¨é‡Šä»¥#å¼€å¤´ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æ˜¯å·².featureç»“å°¾ï¼Œåœ¨featureæ–‡ä»¶ä¸­è¾“å…¥åŠŸèƒ½æè¿°ã€åœºæ™¯ã€æ­¥éª¤ï¼Œå½“æ‰§è¡Œè¿™ä¸ªåŠŸèƒ½æ—¶æ¯ä¸€ä¸ªæ­¥éª¤éƒ½éœ€è¦ç¼–å†™rubyä»£ç å—æ¥å®ç°å…·ä½“çš„åŠŸèƒ½ï¼Œå½“å‰cucumberæ”¯æŒå¤šç§è¯­è¨€ï¼Œé™¤äº†rubyè¿˜å¯ä»¥ä½¿ç”¨javaã€javascriptæ¥ç¼–å†™å…·ä½“å®šä¹‰å±‚çš„å®ç°ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªcucumber åœºæ™¯çš„ä¾‹å­ Feature: Search for Videos on Baidu Scenario: Search for Videos Given I am on the baidu home page When I search for &quot;capybara&quot; Then search result are returned æˆ‘ä»¬è®¾ç½®å¯ä»¥é‡‡ç”¨ä¸­æ–‡å®ç°åœºæ™¯ä¸­æ–‡çš„è¯æœ€å‰é¢å¿…é¡»å¢åŠ # language: zh-CN 12345678910111213# language: zh-CNåŠŸèƒ½:ç¬¬ä¸€ä¸ªä¸­æ–‡ç¨‹åºä¸­æ–‡å®ç°åœºæ™¯:ä¸­æ–‡å®ç°åœºæ™¯å‡å¦‚å½“å‰æ˜¯ä¸­æ–‡å½“è¾“å…¥æ˜¯æµ‹è¯•é‚£ä¹ˆèƒ½çœ‹åˆ°ä¸­æ–‡æµ‹è¯• ä¸‹é¢çš„æµç¨‹å›¾è¯´æ˜äº†ä»cucumberåˆ°åº•å±‚é©±åŠ¨å¦‚ä½•å®ç°ï¼Œcapybaraåœ¨æ•´ä¸ªæµç¨‹é‡Œé¢å……å½“æ˜¯ä¸­é—´ä»·çš„ä½œç”¨ã€‚ å®‰è£…1gem install cucumber å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ bundlerï¼Œåªæ˜¯éœ€è¦æ·»åŠ ä»¥ä¸‹ä»£ç åˆ°Gemfile: 123group :test do gem 'cucumber'end åˆå§‹åŒ–featuresç›®å½•ï¼š1cucumber --init æŸ¥çœ‹å®Œå¸®åŠ©åˆ—è¡¨ï¼š1cucumber --help è¿è¡Œæ‰€æœ‰featuresï¼š1cucumber Cucumber-Railså¦‚æœä½ ä½¿ç”¨capybara æ¥æµ‹è¯•railsåº”ç”¨ï¼Œä½ åº”è¯¥å®‰è£…cucumberï¼rails gem è€Œä¸æ˜¯æ ‡å‡†çš„rails gemã€‚è¿™ä¸ªgeméœ€è¦capybaraå’Œcucumberä½œä¸ºä¾èµ–ã€‚æ‰€ä»¥å½“ä½ å®‰è£…cucumberï¼rails gemæ—¶ï¼Œä¼šè‡ªåŠ¨å®‰è£…è¿™äº›ä¾èµ–ï¼Œæˆ‘ä»¬åªéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤1gem install cucumber-rails å¦‚æœä½ ä½¿ç”¨bundleï¼Œåªéœ€è¦å°†ä»¥ä¸‹ä»£ç æ·»åŠ è¿›gemfile:12345group :test, :development do gem 'cucumber-rails', :require =&gt; false # database_cleaner is not required, but highly recommended gem 'database_cleaner'end ç„¶åè¿è¡Œ1bundle install è¿è¡Œç”Ÿæˆå™¨å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆç›®å½•1rails generate cucumber:install","categories":[],"tags":[{"name":"capybara - rails - webdriver","slug":"capybara-rails-webdriver","permalink":"http://yoursite.com/tags/capybara-rails-webdriver/"}],"keywords":[]},{"title":"capybara3--rspecé…ç½®","slug":"capybara3","date":"2016-08-30T04:42:49.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/08/30/capybara3/","link":"","permalink":"http://yoursite.com/2016/08/30/capybara3/","excerpt":"","text":"rspecé…ç½®æˆ‘ä»¬çŸ¥é“Capybara åªæ˜¯æ˜¯ä¸€ä¸ªç”¨æ¥ä»¥æ¨¡æ‹Ÿç”¨æˆ·å¯¹webåº”ç”¨çš„æ“ä½œæ¥æµ‹è¯•webåº”ç”¨çš„å·¥å…·åŒ…ï¼Œä¸èƒ½çœŸæ­£çš„ç§°ä¹‹ä¸ºæµ‹è¯•æ¡†æ¶ï¼Œå®ƒéœ€è¦å…¶ä»–çš„æµ‹è¯•é©±åŠ¨æ¡†æ¶æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆæµ‹è¯•å·¥ä½œã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæµ‹è¯•é©±åŠ¨æ¡†æ¶. RSpecç”±Steven Bakerå¼€å‘å¹¶åœ¨2005å¹´å‘å¸ƒï¼Œå…¨é¢æ”¯æŒRubyç¨‹åºçš„BDDå¼€å‘æµ‹è¯•æ–¹å¼ï¼Œå¹¶ä¸”å¯¹äºRailsç¨‹åºæœ‰ç€è‰¯å¥½çš„æ”¯æŒï¼Œé’ˆå¯¹Viewï¼ŒControllerå’ŒModelæ¯ä¸€å±‚éƒ½æœ‰è‰¯å¥½çš„æ”¯æŒã€‚RSpecç›®å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ï¼š3.5ã€‚ å®ƒåœ¨ BDD æµç¨‹çš„å¼€å‘ä¸­è¢«ç”¨æ¥å†™é«˜å¯è¯»æ€§çš„æµ‹è¯•ï¼Œå¼•å¯¼å¹¶éªŒè¯ä½ å¼€å‘çš„åº”ç”¨ç¨‹åºã€‚ minitestä¸rspecéƒ½æ˜¯rubyå’Œrailsæ¯”è¾ƒæµè¡Œçš„æ¡†æ¶ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©rspecã€‚ å®‰è£…rspecå¾ˆç®€å•,æ‰“å¼€command lineè¿è¡Œä¸€ä¸‹æ“ä½œï¼š1gem install rspec æˆ–è€…å°†rspec æ·»åŠ åˆ°gemfileé‡Œ1gem 'rspec' æ‰§è¡Œbundle install æ¥å®‰è£…å¦‚æœä½ çš„é¡¹ç›®é‡‡ç”¨çš„æ—¶rails,é‚£ä¹ˆrspec-rails æˆ–è®¸æ›´é€‚åˆä½  åœ¨gemfileé‡Œæ·»åŠ 123group :development, :test do gem 'rspec-rails', '~&gt; 3.4'end æ‰§è¡Œ bundle install åˆå§‹åŒ–æµ‹è¯•ç›®å½• 1rails generate rspec:install è¿™å¢åŠ äº†ä»¥ä¸‹æ–‡ä»¶ç”¨äºé…ç½®:123.rspecspec/spec_helper.rbspec/rails_helper.rb","categories":[],"tags":[{"name":"capybara - rails - webdriver","slug":"capybara-rails-webdriver","permalink":"http://yoursite.com/tags/capybara-rails-webdriver/"}],"keywords":[]},{"title":"capybara2--å‡†å¤‡ç¯å¢ƒ","slug":"capybara2","date":"2016-08-26T14:48:50.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/08/26/capybara2/","link":"","permalink":"http://yoursite.com/2016/08/26/capybara2/","excerpt":"","text":"rubyç¯å¢ƒé…ç½®capycaraCapybara éœ€è¦ Ruby 1.9.3æˆ–ä¹‹åçš„ç‰ˆæœ¬. æ‰€ä»¥é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œé…ç½®rubyè¿è¡Œç¯å¢ƒ windows ä¸‹è½½ &amp; å®‰è£… Rubyä»http://rubyinstaller.org/æˆ–è€… http://railsinstaller.org/ ä¸‹è½½å·²ç»æ‰“åŒ…å¥½çš„å®‰è£…ç¨‹åºã€‚1.1å®‰è£… rubyç‰ˆæœ¬ å®‰è£… DevKitä» http://rubyinstaller.org/downloads/ä¸‹è½½å®‰è£…DevKit2.1 RubyInstaller Development Kit (DevKit)çš„å®‰è£…åœ¨ä½¿ç”¨RubyGemså®‰è£…Ruby on Railsçš„åŒæ—¶ï¼Œè¿˜æœ‰å‡ ä¸ªä¸€èµ·è¢«å®‰è£…çš„ç±»åº“ã€‚è¿™äº›ç±»åº“ä¸­ï¼Œæœ‰ä¸€äº›æ˜¯ä¿æŒCè¯­è¨€ç¼–å†™çš„ä»£ç çš„å½¢å¼æ¥å‘å¸ƒçš„ï¼Œå®ƒä»¬éœ€è¦é€šè¿‡ä½¿ç”¨â€œgccâ€ç¼–è¯‘å™¨ç­‰ç»“åˆç¯å¢ƒä¸€èµ·æ¥ç¼–è¯‘ï¼Œä½†åœ¨Windowsä¸Šæ˜¯ä¸èƒ½ç”¨gccæ¥ç¼–è¯‘çš„ã€‚å®‰è£…äº†æœ¬æ¬¡æ‰€ä»‹ç»çš„â€œRubyInstaller Development Kit (DevKit)â€åï¼Œç¼–è¯‘å™¨å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°å®‰è£…ä½¿ç”¨æ‰€éœ€çš„ç±»åº“ã€‚ Rubyç¯å¢ƒé…ç½® åœ¨windowsä¸­é…ç½®ç¯å¢ƒå˜é‡ RUBY_HOME=rubyinstaller_dir ï¼ˆå®é™…çš„rubyæ‰€åœ¨è·¯å¾„ï¼‰ åœ¨pathä¸­æ·»åŠ  %RUBY_HOME%\\bin åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œ ruby â€“versionï¼Œå¦‚æœæ˜¾ç¤ºrubyç‰ˆæœ¬ä¿¡æ¯è¯´æ˜å®‰è£…æ­£å¸¸ã€‚ å¤šç‰ˆæœ¬rubyç¯å¢ƒé…ç½® åˆ©ç”¨uruï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨windowsç³»ç»Ÿä¸Š ç®¡ç†å¤šä¸ªrubyç‰ˆæœ¬ä¸‹è½½å®‰è£…uru å®‰è£…uruè§£å‹uruåˆ°æŸä¸€ç›®å½•ä¾‹å¦‚C:\\toolsä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… 1C:\\tools&gt; uru_rt admin install å®‰è£…rubyç‰ˆæœ¬ï¼Œå¯ä»¥å®‰è£…ä»»æ„ä¸ªrubyç‰ˆæœ¬ åœ¨uruä¸­æ³¨å†Œrubyç‰ˆæœ¬ 1234567C:\\&gt; uru admin add c:\\ruby\\jruby-1.7.18\\bin\\---&gt; Registered jruby at `c:\\ruby\\jruby-1.7.18\\bin` as `1718`C:\\&gt; uru ls 1718 : jruby 1.7.18 (1.9.3p551) 2014-12-22 625381c on Java HotSpot(TM) ... 193 : ruby 1.9.3p551 (2014-11-13) [i386-mingw32] 215 : ruby 2.1.5p273 (2014-11-13 revision 48405) [x64-mingw32] è¯¦ç»†æ“ä½œå‘½ä»¤æŸ¥çœ‹http://www.neverletdown.net/2015/08/managing-multiple-ruby-versions-with-uru.html å¼ºçƒˆä¸å»ºè®®ç”¨windowsæ¥å¼€å‘,åŸå› è¯·æŸ¥çœ‹https://bitbucket.org/jonforums/uru linuxï¼ˆUbuntuï¼‰æˆ–è€…mac osæ›´é€‚åˆä½ ç”¨æ¥å¼€å‘ã€‚è¯¦ç»†è¯·çœ‹ https://ruby-china.org/topics/1020 linux-ubuntuInstalling Ruby ç¬¬ä¸€æ­¥å®‰è£…é…ç½®rubyç¯å¢ƒæ‰€éœ€è¦çš„ä¸€äº›åŸºç¡€åº“12sudo apt-get updatesudo apt-get install git-core curl zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev python-software-properties libffi-dev åˆ©ç”¨å·¥å…·æ¥ç®¡ç†çš„rubyç‰ˆæœ¬ï¼Œrbenv å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·1234567891011121314cdgit clone https://github.com/rbenv/rbenv.git ~/.rbenvecho 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bashrcecho 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bashrcexec $SHELLgit clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-buildecho 'export PATH=\"$HOME/.rbenv/plugins/ruby-build/bin:$PATH\"' &gt;&gt; ~/.bashrcexec $SHELLrbenv install 2.3.1rbenv global 2.3.1ruby -vhttps://gorails.com/setup/ubuntu/16.10 mac osåˆ©ç”¨homebrew æ¥å®‰è£…ç®¡ç†macçš„åº”ç”¨å®‰è£… Homebrew é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…homebrewã€‚homebrew å…è®¸æˆ‘ä»¬æ–¹ä¾¿ä»æºç å®‰è£…å’Œç¼–è¯‘è½¯ä»¶åŒ…å½“homebrewéœ€è¦å®‰è£…xcode å‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å…¥yes.æ‰“å¼€å‘½ä»¤è¡Œå¹¶ä¸”è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" Installing Ruby 1brew install rbenv ruby-build Add rbenv to bash so that it loads every time you open a terminal 12echo 'if which rbenv &gt; /dev/null; then eval \"$(rbenv init -)\"; fi' &gt;&gt; ~/.bash_profilesource ~/.bash_profile Install Ruby 123rbenv install 2.3.1rbenv global 2.3.1ruby -v å®‰è£…capybaraå®‰è£…ç³»ç»Ÿä¾èµ–åº“åœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸­rubyç¯å¢ƒå¯èƒ½éœ€è¦ä¸€äº›ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒï¼Œé€šå¸¸æ˜¯å‡ºäºæ€§èƒ½æ–¹é¢çš„åŸå› ï¼Œrubyæ˜¯ä¸€ç§è§£é‡Šæ€§è¯­è¨€æ‰€ä»¥åœ¨å¤„ç†æŸäº›ä»»åŠ¡æ—¶ï¼Œä¾‹å¦‚è§£æXMLä¼šéå¸¸æ…¢ï¼Œè¿™æ—¶æŠŠè¿™äº›ä»»åŠ¡äº¤ç»™ç¬¬ä¸‰æ–¹åº“å¤„ç†ï¼Œæ•ˆç‡å°±ä¼šæˆå€å¢åŠ ã€‚å¯¹äºwindowså¹³å°ï¼Œä½ ä¸ç”¨æ‹…å¿ƒç¬¬ä¸‰ä¾èµ–åº“çš„é—®é¢˜ï¼Œä¸è¿‡ä½ è¦ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº†Ruby DevKit;è¯¦ç»†è¯´æ˜å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯·å‚é˜…http://rubyinstaller.org/add-ons/ devkit capybaraä¾èµ–äºnokogirlï¼Œä¸€ä¸ªæµè¡Œçš„åŸºäºrubyçš„XMLçš„è§£æå™¨ï¼Œè¯¥åº“å¯èƒ½éœ€è¦ä»¥ä¸‹ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒï¼šâ€¢ libxml2â€¢ libxml2-dev â€¢ libxsltâ€¢ libxslt-devå¯¹äºä¸åŒçš„æ“ä½œç³»ç»Ÿå®‰è£…è¿™äº›åº“çš„æ–¹å¼å¯èƒ½ç•¥æœ‰ä¸åŒï¼Œå¯¹äºlinux ä¾‹å¦‚Ubuntu å¯ä»¥ä½¿ç”¨apt-get ï¼Œå¯¹äºredhat è¯·ä½¿ç”¨yum install å¯¹äºmac os x é‚£ä¹ˆbrew æ˜¯ä½ æœ€å¥½çš„é€‰æ‹©ã€‚å®Œæˆè¿™äº›ç¬¬ä¸‰æ–¹ä¾èµ–å æˆ‘ä»¬å°±å¯ä»¥å®‰è£…capybaraäº† æ·»åŠ ä»¥ä¸‹çš„ä»£ç åˆ°ä½ çš„Gemfileé‡Œï¼Œå¹¶ä¸”è¿è¡Œbundle installã€‚1gem 'capybara' ä»€ä¹ˆæ˜¯Bundleç›¸å½“äºå¤šä¸ªRubyGemsæ‰¹å¤„ç†è¿è¡Œã€‚åœ¨é…ç½®æ–‡ä»¶gemfilelé‡Œè¯´æ˜ä½ çš„åº”ç”¨ä¾èµ–å“ªäº›ç¬¬ä¸‰æ–¹åŒ…ï¼Œä»–è‡ªåŠ¨å¸®ä½ ä¸‹è½½å®‰è£…å¤šä¸ªåŒ…ï¼Œå¹¶ä¸”ä¼šä¸‹è½½è¿™äº›åŒ…ä¾èµ–çš„åŒ….http://bundler.io/","categories":[],"tags":[{"name":"capybara - rails - webdriver","slug":"capybara-rails-webdriver","permalink":"http://yoursite.com/tags/capybara-rails-webdriver/"}],"keywords":[]},{"title":"capybara1-capybaraç®€ä»‹","slug":"capybara1","date":"2016-08-26T06:17:36.000Z","updated":"2017-09-21T07:45:08.000Z","comments":true,"path":"2016/08/26/capybara1/","link":"","permalink":"http://yoursite.com/2016/08/26/capybara1/","excerpt":"","text":"capybaraç®€ä»‹capybaraæ˜¯ä¸€ä¸ªrubyçš„gem,å®ƒæ˜¯ä¸€ä¸ªç”¨æ¥æµ‹è¯•webåº”ç”¨çš„å·¥å…·åŒ…ï¼Œä½¿ç”¨å®ƒå¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·å¯¹webåº”ç”¨çš„æ“ä½œã€‚å®ƒå¯ä»¥é€šè¿‡CSSæˆ–xpathé€‰æ‹©å™¨é€‰ä¸­é¡µé¢ä¸Šçš„å…ƒç´ ï¼Œç„¶åå¯¹è¿™äº›å…ƒç´ åº”ç”¨ä¸€äº›æ“ä½œï¼Œä»è€Œå®ç°æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºã€‚ åº•å±‚driverçš„å®ç°åŸºäºåº•å±‚driverçš„åŸºç¡€ä¸Šï¼Œæä¾›ä¸€å¥—ç»Ÿä¸€çš„ ç•Œé¢äº¤äº’apiï¼Œå¦‚visit, right_clickï¼Œhoverç­‰ã€‚å®ƒå†…ç½® Rack::Test å’Œ Selenium æ”¯æŒï¼Œä¹Ÿæ”¯æŒå…¶ä»–é©±åŠ¨ã€‚WebKit é€šè¿‡å¤–éƒ¨ gem çš„å½¢å¼æ”¯æŒã€‚ åº•å±‚çš„driveræœ‰å¾ˆå¤šï¼Œå¯ä»¥æ˜¯å®Œå…¨æ‰“å¼€æµè§ˆå™¨æ–¹å¼çš„driver(å¦‚ï¼šRackTestï¼Œselenium-webdriver)ï¼Œä¹Ÿå¯ä»¥æ˜¯åŸºäºheadless webkit çš„ driver(å¦‚ï¼šcapybara-webkit, poltergeist). capybara ä¼˜ç‚¹ â— æ— éœ€é…ç½® å¯¹äº Rails å’Œ Rack åº”ç”¨è€Œè¨€ï¼Œå¼€ç®±å³ç”¨ã€‚ â— ç¬¦åˆç›´è§‰çš„ API æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºã€‚ â— å¯æ›¿æ¢åç«¯ å¯ä»¥æ›¿æ¢æµ‹è¯•åç«¯ï¼Œä¾‹å¦‚ä»å¿«é€Ÿçš„ headless æ¨¡å¼åˆ‡æ¢åˆ°å®é™…çš„æµè§ˆå™¨ï¼Œæ— éœ€æ›´æ”¹æµ‹è¯•ã€‚ â— å¼ºåŠ›åŒæ­¥ ä½ ä¸ç”¨æ‰‹åŠ¨ç­‰å¾…å¼‚æ­¥è¿‡ç¨‹ç»“æŸã€‚ å› ä¸ºcapyybaraæä¾›äº†ä»¥ä¸‹å¥½å¤„ï¼š â— è¿™æ˜¯ä¸€ä¸ªæ›´é«˜å±‚æ¬¡çš„APIï¼Œè¿™æ„å‘³ç€å½“ä½ ä½¿ç”¨ä¸åŒdriveræ—¶ï¼Œä¾‹å¦‚ï¼ˆheadlessæˆ–è€…browserï¼‰å¯ä»¥ä½¿ç”¨åŒæ ·çš„APIå¤„ç†åŠ¨æ€é¡µé¢æˆ–é™æ€HTML. â— å®ƒæ˜¯ä¸“é—¨ä¸ºUè‡ªåŠ¨åŒ–æµ‹è¯•webåº”ç”¨è€Œè®¾è®¡çš„ç¨‹åº, â— å› æ­¤å®ƒæ‹¥æœ‰ååˆ†æœ‰ç”¨çš„æ–­è¨€çš„æ–¹æ³•åˆ¤æ–­é¡µé¢æ˜¯å¦æ­£ç¡®ã€‚ â— å½“æˆ‘ä»¬æµ‹è¯•çœŸå®çš„æµè§ˆå™¨æ—¶ï¼Œä»–ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬å¤„ç†è®¸å¤šæ£˜æ‰‹çš„å¼‚æ­¥é—®é¢˜ â— å®ƒè¢«è®¾è®¡ç”¨äºæµ‹è¯•æœºæ¶çš„åº”ç”¨ï¼Œå› æ­¤å®ƒä¼šå¼€æœºå¹¶ä¸ºæ‚¨ç®¡ç†åå°æœåŠ¡å™¨ â— å®ƒä¸ºè®¾è®¡ä¸ºrackåº”ç”¨çš„æµ‹è¯•æ¡†æ¶,æ‰€ä»¥å®ƒå°†å¼•å¯¼å’Œç®¡ç†åå°æœåŠ¡ã€‚","categories":[],"tags":[{"name":"rails","slug":"rails","permalink":"http://yoursite.com/tags/rails/"},{"name":"webdriver","slug":"webdriver","permalink":"http://yoursite.com/tags/webdriver/"}],"keywords":[]},{"title":"gatlingå®˜æ–¹æ–‡æ¡£ç¿»è¯‘5","slug":"gatling5","date":"2016-06-29T09:45:25.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/06/29/gatling5/","link":"","permalink":"http://yoursite.com/2016/06/29/gatling5/","excerpt":"","text":"ç¬¬äº”ç¯‡ http://gatling.io/docs/2.2.2/migration_guides/2.0-to-2.1.html Migrating from 2.0 to 2.1Global changesScala 2.11Gatling is now built with Scala 2.11. If youâ€™re using Scala IDE, make sure youâ€™re using a version compatible with Scala 2.11. Compiler runs standaloneGatling itself doesnâ€™t compile the Simulations anymore and expects that the simulations are already compiled. This means that gatling.sh/gatling.bat and the Maven plugin runs the compiler prior to running Gatling. Consequently, a few options in gatling.conf have been removed: gatling.core.disableCompilergatling.core.zinc.jvmArgsPlease note that, as this change implied that the Maven Plugin was heavily modified so that it compiles the simulations separately prior to running Gatling, youâ€™ll need to upgrade the Maven Plugin to its version 2.1.0 too. PercentilesGatling now publishes 4 percentiles instead of 2. These percentiles are published in the reports and in the Graphite integration module. Beware that keys in gatling.conf file have been translated: Gatling 2.0:percentile1 = 95percentile2 = 99Gatling 2.1+:percentile1 = 50percentile2 = 75percentile3 = 95percentile4 = 99CoreMute modeThe â€œmute modeâ€ option, which was previously restricted to the SBT Plugin, is now also usable by the bundle scripts and the Maven Archetype. AssertionsValidating assertions in combination with the reports-only / ro option does not require to pass the simulation (using -s) for which the assertions will be validated anymore. ThrottlingThrottling now automatically adds a maxDuration of either the simulation throttling duration, or the minimum of the scenarios throttling durations. HTTPParametersForm parameters are no longer specific to POST method, you can use them with all methods. Request Bodies DirectoryThe directory name was changed from request-bodies to bodies as it now can host both request bodies and response bodies. The latter one are now captured by the recorder, and can be used as template for checking the response body. CLI option was renamed from rbf to bdf. ChecksDeprecated dontValidate was dropped in 2.1 as previously announced. Please use optional instead. ProtocolDeprecated baseHeaders was dropped in 2.1 as previously announced. Please use headers instead. Maven ArchetypeDue to some necessary changes to allow Gatling to use Scala 2.11, youâ€™ll have to update IDEPathHelper.scala, Engine.scala and Recorder.scala if youâ€™re using the Maven archetype. Either generate a new project with the 2.1.1 archetype (there was a bug in 2.1), or override your classes with the ones here. If you choose the latter, donâ€™t forget to fix the simulationPackage in Recorder.scala. SBT PluginThe SBT Pluginâ€™s test framework has been moved to the core project in 2.1. As a consequence, the test framework name has be modified to follow the naming conventions of all core modules and share its versionning. The SBT Plugin will also share the same versionning schema as all other Gatling modules, and has been renamed to â€˜gatling-sbtâ€™. The new coordinates are therefore : â€œio.gatlingâ€ % â€œgatling-sbtâ€ % â€œ2.1.0â€ for the SBT Pluginâ€œio.gatlingâ€ % â€œgatling-test-frameworkâ€ % â€œ2.1.0â€ for the testing framework. ä»2.0 åˆå¹¶åˆ°2.1å…¨å±€å˜åŒ–Scala 2.11gatling ç°åœ¨ç”¨2.11 æ„å»ºï¼Œå¦‚æœä½ ä½¿ç”¨Scala IDE, ç¡®è®¤ä½ æ˜¯ä½¿ç”¨çš„ç‰ˆæœ¬èƒ½å¤Ÿå…¼å®¹scala2.11. Compiler runs standaloneç¼–è¯‘å™¨ç‹¬ç«‹çš„è¿è¡Œ gatlingæœ¬èº«ä¸å†ç¼–è¯‘æ¨¡æ‹Ÿå™¨å’Œé¢„æµ‹æ¨¡æ‹Ÿå·²ç»ç¼–è¯‘ã€‚ è¿™å°±æ„å‘³ç€ gatling.sh/gatling.bat å’Œmavenæ’ä»¶ç¼–è¯‘åœ¨è¿è¡Œgatlingä¹‹å‰ã€‚å› æ­¤,ä¸€äº›é€‰é¡¹åœ¨gatling.conf å·²ç»è¢«ç§»é™¤ è¯·æ³¨æ„ï¼Œè¿™ç§å˜åŒ–æ„å‘³ç€Mavenæ’ä»¶å¤§é‡ä¿®æ”¹ï¼Œå•ç‹¬ç¼–è¯‘ä»¿çœŸè¿è¡Œgatlingä¹‹å‰ï¼Œä½ éœ€è¦å‡çº§ç‰ˆæœ¬2.1.0çš„Mavenæ’ä»¶ã€‚ Percentilesgatling å‘å¸ƒ4ä½ç™¾åˆ†æ•°æ¥ä»£æ›¿2ä½ã€‚è¿™äº›ç™¾åˆ†ä½æ•°å‘å¸ƒåœ¨ç”Ÿæˆçš„æŠ¥å‘Šå’Œå›¾è¡¨çš„é›†æˆæ¨¡å—æ³¨æ„é”®åœ¨gatling.conf æ–‡ä»¶å·²ç»è¢«ç¿»è¯‘ã€‚ Gatling 2.0:percentile1 = 95percentile2 = 99Gatling 2.1+:percentile1 = 50percentile2 = 75percentile3 = 95percentile4 = 99Core Mute mode â€œé™éŸ³æ¨¡å¼â€é€‰é¡¹,è¯¥é€‰é¡¹ä»¥å‰å±€é™äºSBTæ’ä»¶,ç°åœ¨ä¹Ÿå¯ç”¨bundleçš„è„šæœ¬å’ŒMaven Archetypeã€‚Assertions éªŒè¯æ–­è¨€ç»“åˆthe reports-only / ro optionä¸éœ€è¦é€šè¿‡ä»¿çœŸ(using- s)çš„æ–­è¨€å°†è¢«éªŒè¯äº†ã€‚ ThrottlingèŠ‚æµç°åœ¨è‡ªåŠ¨æ·»åŠ ä¸€ä¸ªmaxDurationä»¿çœŸèŠ‚æµçš„æŒç»­æ—¶é—´ã€èŠ‚æµæ—¶é—´æˆ–æœ€ä½çš„åœºæ™¯ã€‚HTTPParameterså½¢å¼å‚æ•°ä¸å†æ˜¯ç‰¹å®šäºPOSTæ–¹æ³•,æ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬åœ¨å…¨éƒ¨çš„æ–¹æ³•ã€‚Request Bodies Directoryç›®å½•æ›´åä»è¯·æ±‚ä½“çš„body,å› ä¸ºå®ƒç°åœ¨å¯ä»¥ä¸»æœºè¯·æ±‚bodyå’Œå“åº”ã€‚åè€…ç°åœ¨è¢«è®°å½•,å¹¶å¯ä»¥ç”¨ä½œæ¨¡æ¿æ£€æŸ¥å“åº”çš„bodyã€‚ CLI optionè¢«é‡æ–°å‘½åä» rbf åˆ° bdf. Checksæ­¤å‰å®£å¸ƒå¼ƒç”¨dontValidateä¸‹é™2.1ã€‚è¯·ä½¿ç”¨optionalã€‚ Protocolæ­¤å‰å®£å¸ƒå¼ƒç”¨baseHeadersä¸‹é™2.1ã€‚è¯·ä½¿ç”¨headersã€‚ Maven Archetype ç”±äºä¸€äº›å¿…è¦çš„æ”¹å˜,å…è®¸gatlingä½¿ç”¨Scala 2.11ä¸­,ä½ å°†ä¸å¾—ä¸æ›´æ–°IDEPathHelper.scala, Engine.scala and Recorder.scalaã€‚å¦‚æœä½ ä½¿ç”¨Maven archetype ã€‚ SBT PluginSBTæ’ä»¶çš„æµ‹è¯•æ¡†æ¶å·²ç»è¢«è½¬ç§»åˆ°2.1çš„æ ¸å¿ƒé¡¹ç›®ã€‚å› æ­¤,æµ‹è¯•æ¡†æ¶çš„åç§°å·²è¢«ä¿®æ”¹éµå¾ªæ‰€æœ‰æ ¸å¿ƒæ¨¡å—çš„å‘½åçº¦å®šå’Œåˆ†äº«å®ƒçš„ç‰ˆæœ¬ã€‚ SBTæ’ä»¶è¿˜å°†å…±äº«ç›¸åŒçš„ç‰ˆæœ¬æ¨¡å¼å’Œå…¶ä»–gatlingæ¨¡å—,å¹¶é‡æ–°å‘½åä¸ºâ€œgatling-sbtâ€ã€‚å› æ­¤,æ–°åæ ‡:â€œio.gatlingâ€ % â€œgatling-sbtâ€ % â€œ2.1.0â€ å…³äº the SBT æ’ä»¶â€œio.gatlingâ€ % â€œgatling-test-frameworkâ€ % â€œ2.1.0â€ å…³äºæµ‹è¯•æ¡†æ¶.","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]},{"title":"gatlingå®˜æ–¹æ–‡æ¡£ç¿»è¯‘4","slug":"gatling3-1","date":"2016-06-15T09:54:52.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/06/15/gatling3-1/","link":"","permalink":"http://yoursite.com/2016/06/15/gatling3-1/","excerpt":"","text":"ç¬¬å››ç¯‡ http://gatling.io/docs/2.2.1/migration_guides/2.0.0-M3a-to-2.0.htmlMigrating from 2.0.0-M3a to 2.0Global changesGatling requires at least JDK7u6As targeting newer JDKs provides bug fixes, speed improvements and opens opportunities for optimization, Gatling now requires at least a JDK7u6 (released almost two years ago already). Gatling is now available on Maven CentralGatling releases are now available on Maven Central, and snapshots are deployed on each successful build by Travis CI to Sonatypeâ€™s snapshots repository. If you were using Gatling with its Maven plugin, you no longer need to add the Excilys repository in your pom.xml. SimulationNecessary importsimport bootstrap. and import assertions. are now unnecessary and have to be removed.import io.gatling.http.Headers.Names. is now unnecessary, headers names are now directly available from HeaderNames.import io.gatling.http.Headers.Values. is now unnecessary, headers values are now directly available from HeaderValues.Injection DSLramp(10 users) becomes rampUsers(10)heaviside(10 users) becomes heavideUsers(10)atOnce(10 users) becomes atOnceUsers(10)constantRate(10 usersPerSec) becomes constantUsersPerSec(10)rampRate(10 usersPerSec) becomes rampUsersPerSec(10)split(10 users) becomes splitUsers(10)CoreStructure ElementsIn asLongAs, exitASAP now defaults to true. For more information on the change of behaviour it introduces, see asLongAs documentation. Checkswhatever has been renamed to optional.transform now no longer takes and returns an Option[T] and takes and returns plain types, but transformOption provides the same functionality as transform did.HTTPForm parameters (for POST requests)Renamed Methods for adding form parameters to the request have been renamed: param =&gt; formParammultiValuedParam =&gt; multiValuedFormParamMiscrequestInfoExtractor and responseInfoExtractor have been merged into a single extraInfoExtractor, which takes a ExtraInfo =&gt; List[Any] function.gatling.http.ahc.useRawUrl configuration parameter was removed, please use disableUrlEncoding instead, as described here.For more information on extraInfoExtractor, please refer to its documentation. Logssimulation.log has been redesigned. If you wrote your own specific simulation.log parser, youâ€™ll need to migrate it to the new structure. RecorderUntil now, when setting up the Recorder, you had to setup two ports for the Recorderâ€™s local proxy: one for HTTP, one for HTTPS. This is not needed anymore, as the Recorder handles itself the switch to an HTTPS connection if necessary, and only a single port needs to be specified. Maven PluginThe â€¦ and â€¦ configuration options have been removed. Should you want to select a specific simulation to run, you can use the â€¦ config option to do so. For more information, see the Maven plugin documentation. Migrating from 2.0.0-M3a to 2.0ä»2.0.0-M3a åˆå¹¶åˆ°2.0 å…¨å±€æ”¹å˜Gatling éœ€è¦è‡³å°‘JDK7u6ç‰ˆæœ¬ å› ä¸ºå¿ƒå¾—JDKsä¿®å¤ä¸€äº›é—®é¢˜ï¼Œé€Ÿåº¦å¾—åˆ°æ”¹å–„ï¼Œä¼˜åŒ–äº†å¤„ç†ï¼Œgatling ç°åœ¨éœ€è¦è‡³å°‘JDK7u6(2å¹´å‰å·²ç»å‘å¸ƒ) gatling ç°åœ¨åŒæ ·åœ¨maven cetral é€‚ç”¨ gatling ç°åœ¨åŒæ ·åœ¨maven cetral é€‚ç”¨ï¼Œå¹¶ä¸”å¿«ç…§éƒ½ä¼šéƒ¨ç½²åˆ° Sonatypeâ€™s snapshots repository å½“æ¯æ¬¡ Travis ci æ„å»ºæˆåŠŸåã€‚å¦‚æœä½ ä½¿ç”¨mavenæ’ä»¶ç‰ˆgatlingï¼Œä½ ä¸éœ€è¦æ·»åŠ the Excilys repository åœ¨ä½ çš„pom.xmlä¸­ã€‚ æ¨¡æ‹Ÿå™¨Necessary importsimport bootstrap. and import assertions. ç°åœ¨å·²ç»ä¸éœ€è¦å¹¶ä¸”è¢«ç§»é™¤import io.gatling.http.Headers.Names. å·²ç»ä¸éœ€è¦ï¼Œ headers namesè¢« HeaderNamesä»£æ›¿.import io.gatling.http.Headers.Values. å·²ç»ä¸éœ€è¦, headers values è¢« HeaderValuesä»£æ›¿. Injection DSLramp(10 users) å˜ä¸º rampUsers(10)heaviside(10 users) å˜ä¸º heavideUsers(10)atOnce(10 users)å˜ä¸º atOnceUsers(10)constantRate(10 usersPerSec) å˜ä¸º constantUsersPerSec(10)rampRate(10 usersPerSec)å˜ä¸º rampUsersPerSec(10)split(10 users) å˜ä¸º splitUsers(10)Core Structure Elementsç»“æ„åŒ–ç»„ä»¶ åœ¨ asLongAs, exitASAP é»˜è®¤ä¸ºtruleã€‚æœ‰å…³çš„è¡Œä¸ºæ”¹å˜çš„æ›´å¤šä¿¡æ¯ä»‹ç»,è¯·çœ‹asLongAsæ–‡æ¡£ã€‚ Checks whatever å·²ç»è¢«é‡æ–°å‘½åä¸º optional.transform now no longer takes and returns an Option[T] and takes and returns plain types, but transformOption provides the same functionality as transform did.transformç°åœ¨ä¸å†éœ€è¦ç°åœ¨è¿”å›ä¸€ä¸ªOption[T],å¹¶è¿”å›plainç±»å‹,ä½†transformOptionå’Œtransformæä¾›äº†ç›¸åŒçš„åŠŸèƒ½ã€‚HTTPForm parameters (å…³äº POST è¯·æ±‚)é‡å‘½å adding form parameters æ–¹æ³•è¯·æ±‚å·²ç»è¢«é‡å‘½å: param =&gt; formParammultiValuedParam =&gt; multiValuedFormParam MiscrequestInfoExtractor å’Œ responseInfoExtractor å·²ç»åˆå¹¶ä¸º extraInfoExtractor, which takes a ExtraInfo =&gt; List[Any] function.gatling.http.ahc.useRawUrl é…ç½®å‚æ•°å·²ç»è¢«ç§»é™¤, è¯·ç”¨ disableUrlEncoding ä»£æ›¿, æè¿°å¦‚ä¸‹.æ›´å¤šå…³äº extraInfoExtractorä¿¡æ¯, è¯·å‚ç…§è¿™ä¸ªæ–‡æ¡£. Logs simulation.log å·²ç»è¢«é‡æ–°è®¾è®¡. å¦‚æœä½ å†™è‡ªå·±çš„simulation.logè§£æå™¨,æ‚¨éœ€è¦å®ƒè¿ç§»åˆ°æ–°ç»“æ„ Recorder Until now, å½“ä½ è®¾ç½® Recorderæ—¶, ä½ å¿…é¡»è®¾ç½®ä¸¤ä¸ªç«¯å£è®°å½•å™¨çš„å½“åœ°ä»£ç†:ä¸€ä¸ªç”¨äºHTTP,HTTPSã€‚ è¿™å†ä¹Ÿä¸éœ€è¦äº†, å› ä¸ºrecordå¤„ç†æœ¬èº«è½¬å‘ä¸€ä¸ªHTTPSè¿æ¥å¦‚æœå¿…è¦,å¹¶ä¸”åªéœ€è¦æŒ‡å®šä¸€ä¸ªå•ç‹¬çš„ç«¯å£ã€‚ Maven Plugin The &lt;includes&gt;...&lt;/includes&gt; å’Œ &lt;excludes&gt;...&lt;/excludes&gt; é…ç½®é¡¹ å·²ç»è¢«ç§»é™¤. å¦‚æœä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªç‰¹æ®Šçš„æ¨¡æ‹Ÿè¿è¡Œ, ä½ å¯ä»¥ä½¿ç”¨ &lt;simulationClass&gt;...&lt;/simulationClass&gt; å»é…ç½®. æ›´å¤šçš„ä¿¡æ¯, æŸ¥é˜… Maven plugin æ–‡æ¡£.","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]},{"title":"gatlingå®˜æ–¹æ–‡æ¡£ç¿»è¯‘3","slug":"gatling3","date":"2016-06-08T15:22:40.000Z","updated":"2017-09-21T07:39:12.000Z","comments":true,"path":"2016/06/08/gatling3/","link":"","permalink":"http://yoursite.com/2016/06/08/gatling3/","excerpt":"","text":"ç¬¬ä¸‰ç¯‡http://gatling.io/docs/2.2.1/migration_guides/1.5.x-to-2.0.html Migrating from 1.5.x to 2.0Global changesGatling requires at least JDK7u6As targeting newer JDKs provides bug fixes, speed improvements and opens opportunities for optimization, Gatling now requires at least a JDK7u6 (released almost two years ago already). Scala 2.10Gatling is built with Scala 2.10. If youâ€™re using Scala IDE, make sure youâ€™re using a version compatible with Scala 2.10. Gatling is now available on Maven CentralGatling releases are now available on Maven Central, and snapshots are deployed on each successful build by Travis CI to Sonatypeâ€™s snapshots repository. If you were using Gatling with its Maven plugin, you no longer need to add the Excilys repository in your pom.xml. Package and GroupId changesGatlingâ€™s artifacts groupId and package are now io.gatling. Youâ€™ll have to : Update your build scripts to change the groupId of Gatlingâ€™s dependencies from com.excilys.ebi.gatling to io.gatlingUpdate your simulations to replace the com.excilys.ebi.gatling part in the imports by io.gatlingSimulationNecessary importsakka.util.duration classes have been ported to the scala.concurrent.duration package. Simply replace import akka.util.duration. by import scala.concurrent.duration..import bootstrap. and import assertions. are now unnecessary and have to be removed.import com.excilys.ebi.gatling.http.Headers.Names. is now unnecessary, headers names are now directly available from HeaderNames.import com.excilys.ebi.gatling.http.Headers.Values. is now unnecessary, headers values are now directly available from HeaderValues.Protocols setupProtocols are no longer configured by scenario and are now configured by simulation, using the protocols method. A 1.4.x-1.5.x setUp like this one: setUp(scn.(â€¦).protocolConfig(httpConfig))would now be with Gatling 2.0: setUp(scn.(â€¦)).protocols(httpConfig)Assertions setupThe assertThat method has been removed, assertions are now configured using assertions in the same fashion as protocols are, e.g. setup(scn.(â€¦).protocolConfig(httpConfig)) assertThat(global.responseTime.max.lessThan(1000))becomes: setup(scn.(â€¦)) .protocols(httpConfig) .assertions(global.responseTime.max.lessThan(1000)New Injection DSLThe users, ramp and delay methods to configure the injection profile for your scenario have been removed in favor of a full-blown dedicated DSL. Injection steps are now configured using the inject method available on your configured scenario. Migrating users // With Gatling 1.5.XsetUp(scn.users(10)â€¦) // With Gatling 2.0setUp(scn.inject(atOnceUsers(10))â€¦Migrating ramp // With Gatling 1.5.XsetUp(scn.users(10).ramp(30)â€¦) // With Gatling 2.0setUp(scn.inject(rampUsers(10) over (30 seconds))â€¦Migrating delay // With Gatling 1.5.XsetUp(scn.users(10).delay(5)â€¦) // With Gatling 2.0setUp(scn.inject(nothingFor(5 seconds), atOnceUsers(10))â€¦For more information on the new Injection DSL, please consult the Injection DSL reference documentation. CoreCheckswhatever has been renamed to optional. Structure ElementsThe first parameter of foreach is now an Expression (e.g. a Gatling EL string), not the name of the attribute to loop over.For example, if you have a list attribute in the userâ€™s session holding a list of values: .foreach(â€œlistâ€, â€œelemâ€) { â€¦}becomes: .foreach(â€œ${list}â€, â€œelemâ€) { â€¦}In asLongAs, exitASAP now defaults to true. For more information on the change of behaviour it introduces, see asLongAs documentation.SessionSession has been under major refactoring: session.get(â€œfoobarâ€) becomes session(â€œfoobarâ€)session.getTypedAttributeT becomes session(â€œfoobarâ€).as[T]session.getAttributeAsOptionT becomes session(â€œfoobarâ€).asOption[T]session.setAttribute(â€œfoobarâ€, 1234) becomes session.set(â€œfoobarâ€, 1234)session.setAttributes(Map(â€œfooâ€ -&gt; 1, â€œbarâ€ -&gt; 2) becomes session.setAll(â€œfooâ€ -&gt; 1, â€œbarâ€ -&gt; 2)session.removeAttribute(â€œfoobarâ€) becomes session.remove(â€œfoobarâ€)session.isAttributeDefined(â€œfoobarâ€) becomes session.contains(â€œfoobarâ€)HTTPProtocolHTTP protocol bootstrapper, httpProtocol, has been renamed to http. Query parametersRemoved Versions of queryParam and multivaluedQueryParam that took no other parameters than the key (resolving the value from the session, using the keyâ€™s name to find the attribute with the same name) have been removed. Modified multivaluedQueryParam can now resolve the values directly from the session, using Gatlingâ€™s EL. Form parameters (for POST requests)Renamed Methods for adding form parameters to the request have been renamed: param =&gt; formParammultiValuedParam =&gt; multivaluedFormParamRemoved Versions of queryParam and multivaluedQueryParam that took no other parameters than the key (resolving the value from the session, using the keyâ€™s name to find the attribute with the same name) have been removed. Modified multivaluedFormParam can now resolve the values directly from the session, using Gatlingâ€™s EL. Request bodiesScalate templates support has been dropped. ElFileBody (see below) is the best suited to replace your existing Scalate templates.The API for setting request bodies on request has changed. Instead of having several methods like body, fileBody and byteArrayBody, there is a now a single method, body(â€¦) in which you set the type of body to send.Migrating .body(body) .body(body) has been replaced by .body(StringBody(body)). http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(â€œLook Ma, Iâ€™m a request body !â€)becomes: http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(StringBody(â€œLook Ma, Iâ€™m a request body !â€))Migrating .fileBody(filePath) .fileBody(filePath) has been replaced by .body(RawFileBody(filePath)). http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .fileBody(â€œmy_upload.xslxâ€)becomes: http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(FileBody(â€œmy_upload.xslxâ€))Migrating .fileBody(filePath, values) .fileBody(filePath, values) has been replaced by .body(ElFileBody(filePath)). values are now directly resolved from the virtual userâ€™s sessionâ€™s content. http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .fileBody(â€œmy_template.txtâ€, Map(â€œuserNameâ€ -&gt; â€œuser123â€)becomes: http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(ElFileBody(â€œmy template.txtâ€))If my template.txt contains: Hi, my name is ${userName}and the virtual userâ€™s session has an attribute userName set to user123, Then the effectively sent request body would be: Hi, my name is user123Migrating .byteArrayBody(byteArray) .byteArrayBody(byteArray) has been replaced by .body(ByteArrayBody(bytes)). http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .byteArrayBody(Array(1, 2, 3, 4))becomes: http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(ByteArrayBody(Array(1, 2, 3, 4)))For more information, see the Request bodies reference section. MiscExtendedResponse has been renamed into Response.requestInfoExtractor and responseInfoExtractor have been merged into a single extraInfoExtractor, which takes a ExtraInfo =&gt; List[Any] function.For more information on extraInfoExtractor, please refer to its documentation. Logssimulation.log has been redesigned. If you wrote your own specific simulation.log parser, youâ€™ll need to migrate it to the new structure. RecorderUntil now, when setting up the Recorder, you had to setup two ports for the Recorderâ€™s local proxy: one for HTTP, one for HTTPS. This is not needed anymore, as the Recorder handles itself the switch to an HTTPS connection if necessary, and only a single port needs to be specified. Maven PluginThe â€¦ and â€¦ configuration options have been removed. Should you want to select a specific simulation to run, you can use the â€¦ config option to do so. For more information, see the Maven plugin documentation. ä»1.5è¿ç§»åˆ°2.0 å…¨å±€å˜åŒ–gatlingè‡³å°‘éœ€è¦JDK7u6 æä¾›æ–°jdké’ˆå¯¹çš„æ˜¯bugä¿®å¤ã€ä¼˜åŒ–é€Ÿåº¦å’Œæ‰“å¼€ä¼˜åŒ–é€Ÿåº¦,gatlingç°åœ¨è‡³å°‘éœ€è¦JDK7u6(å¤§çº¦ä¸¤å¹´å‰å·²ç»å‘å¸ƒ)ã€‚Scala 2.10 gatlingä½¿ç”¨Scala 2.10ã€‚å¦‚æœä½ ä½¿ç”¨Scalaçš„IDE,ç¡®ä¿æ‚¨æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬èƒ½ä¸Scala 2.10å…¼å®¹ã€‚gatlingç°åœ¨å¯ç”¨åœ¨Mavenä¸­å¤®åº“ galtlingç‰ˆæœ¬ç°åœ¨å¯ä»¥ä½¿ç”¨Mavenä¸­å¤®,ä»¥åŠå¿«ç…§éƒ¨ç½²åœ¨æ¯ä¸ªæˆåŠŸæ„å»ºäº† Travis CI Sonatypeå¿«ç…§å­˜å‚¨åº“ã€‚å¦‚æœä½ æ˜¯ä½¿ç”¨gatlingçš„Mavenæ’ä»¶,æ‚¨ä¸å†éœ€è¦æ·»åŠ pom.xml Excilyså­˜å‚¨åº“ã€‚ packageå’ŒGroupIdå˜åŒ– gatlingçš„groupIdå’Œpackageç°åœ¨io.gatlingç»„ä»¶ã€‚ä½ å¿…é¡»:æ›´æ–°æ‚¨çš„æ„å»ºè„šæœ¬æ”¹å˜ä»com.excilys.ebi groupId gatlingçš„ä¾èµ–å…³ç³»ã€‚gatling,io.gatlingæ›´æ–°ä½ çš„æ¨¡æ‹Ÿæ¥ä»£æ›¿com.excilys.ebiã€‚io.gatlingæ›´æ–°ä½ çš„æ¨¡æ‹Ÿå™¨æ¥ä»£æ›¿com.excilys.ebi.io.gatlingéƒ¨åˆ†é€šè¿‡å¼•å…¥io.gatling akka.util.duration ç±» å·²ç»ç§»æ¤åˆ° scala.concurrent.duration åŒ…ä¸­ã€‚ç®€å•ä» import akka.util.duration. æ›¿æ¢åˆ° import scala.concurrent.duration.. import bootstrap. å’Œ import assertions. ç°åœ¨ä¸æ˜¯å¿…é¡»çš„ï¼Œå·²ç»è¢«ç§»é™¤. import com.excilys.ebi.gatling.http.Headers.Names._ ç°åœ¨ä¸æ˜¯å¿…é¡»çš„, headers åå­— ç›´æ¥ä½¿ç”¨HeaderNames. import com.excilys.ebi.gatling.http.Headers.Values._ ç°åœ¨ä¸æ˜¯å¿…é¡»çš„, headers å€¼ ç›´æ¥ä½¿ç”¨HeaderValues. åè®®è®¾ç½®åè®®å·²ç»ä¸å†é…ç½®åœºæ™¯,ç°åœ¨é…ç½®æ¨¡æ‹Ÿå™¨,ä½¿ç”¨åè®®çš„æ–¹æ³•ã€‚ A 1.4.x-1.5.x è®¾ç½®å¦‚ä¸‹: setUp(scn.(â€¦).protocolConfig(httpConfig)) Gatling 2.0å°†ä¼šè¿™æ ·è®¾ç½®: setUp(scn.(â€¦)).protocols(httpConfig) Assertions è®¾ç½® assertThatæ–¹æ³•å·²ç»è¢«ç§»é™¤ï¼Œassertionsé…ç½®ä½¿ç”¨assertionsä»¥ç›¸åŒçš„æ–¹å¼ä½œä¸ºåè®®.å¦‚ä¸‹ setup(scn.(â€¦).protocolConfig(httpConfig)) assertThat(global.responseTime.max.lessThan(1000)) æ”¹å˜setup(scn.(â€¦)) .protocols(httpConfig) .assertions(global.responseTime.max.lessThan(1000)æ–°çš„DSLè¯­è¨€æ³¨å…¥ é€šè¿‡ç”¨æˆ·ã€å¢é•¿å’Œå»¶è¿Ÿæ¥é…ç½®ä½ çš„åœºæ™¯æ³¨å…¥å‰–é¢çš„æ–¹æ³•å·²è¢«æ‹†é™¤,å–è€Œä»£ä¹‹çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸“ç”¨çš„DSLã€‚ æ³¨å…¥æ­¥éª¤ç°åœ¨ä½¿ç”¨æ³¨å°„æ–¹æ³•é…ç½®å¯ç”¨çš„é…ç½®ã€‚ åˆå¹¶ users // With Gatling 1.5.XsetUp(scn.users(10)â€¦) // With Gatling 2.0setUp(scn.inject(atOnceUsers(10))â€¦åˆå¹¶ ramp // With Gatling 1.5.XsetUp(scn.users(10).ramp(30)â€¦) // With Gatling 2.0setUp(scn.inject(rampUsers(10) over (30 seconds))â€¦åˆå¹¶ delay // With Gatling 1.5.XsetUp(scn.users(10).delay(5)â€¦) // With Gatling 2.0setUp(scn.inject(nothingFor(5 seconds), atOnceUsers(10))â€¦ æ–°æ³¨å…¥çš„DSLçš„æ›´å¤šä¿¡æ¯,è¯·æŸ¥é˜…æ³¨å…¥DSLå‚è€ƒæ–‡æ¡£ã€‚ æ ¸å¿ƒCheckswhatever ç°åœ¨è¢«æ”¹åä¸º optional. Structure Elements The first parameter of foreach is now an Expression (e.g. a Gatling EL string), not the name of the attribute to loop over. foreachç°åœ¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå‚æ•°(å¦‚gatling EL string),ä¸æ˜¯éå†å±æ€§çš„åç§°ã€‚ For example, if you have a list attribute in the userâ€™s session holding a list of values: ä¾‹å¦‚,å¦‚æœæ‚¨æœ‰ä¸€ä¸ªå±æ€§åˆ—è¡¨åœ¨ç”¨æˆ·çš„ä¼šè¯æŒæœ‰çš„å€¼åˆ—è¡¨: .foreach(â€œlistâ€, â€œelemâ€) { â€¦}å˜ä¸º: .foreach(â€œ${list}â€, â€œelemâ€) { â€¦}In asLongAs, exitASAP now defaults to true. For more information on the change of behaviour it introduces, see asLongAs documentation. åœ¨ asLongAs exitASAP ç°åœ¨é»˜è®¤è®¾ç½®æ˜¯true.æœ‰å…³çš„è¡Œä¸ºæ”¹å˜çš„æ›´å¤šä¿¡æ¯ä»‹ç»,è¯·çœ‹asLongAsæ–‡æ¡£ã€‚ Session ä¼šè¯å·²ç»ä½œä¸ºä¸»è¦çš„é‡æ„: session.get(â€œfoobarâ€) becomes session(â€œfoobarâ€)session.getTypedAttributeT becomes session(â€œfoobarâ€).as[T]session.getAttributeAsOptionT becomes session(â€œfoobarâ€).asOption[T]session.setAttribute(â€œfoobarâ€, 1234) becomes session.set(â€œfoobarâ€, 1234)session.setAttributes(Map(â€œfooâ€ -&gt; 1, â€œbarâ€ -&gt; 2) becomes session.setAll(â€œfooâ€ -&gt; 1, â€œbarâ€ -&gt; 2)session.removeAttribute(â€œfoobarâ€) becomes session.remove(â€œfoobarâ€)session.isAttributeDefined(â€œfoobarâ€) becomes session.contains(â€œfoobarâ€) HTTPåè®®HTTPåè®®å¯åŠ¨åŠ è½½å™¨ã€httpProtocolå·²ç»æ›´åä¸ºHTTPã€‚Query å‚æ•°ç§»é™¤ç‰ˆæœ¬çš„queryParamå’ŒmultivaluedQueryParam,æ²¡æœ‰å…¶ä»–æ¯”çš„å…³é”®å‚æ•°(è§£å†³ä¼šè¯ä¸­çš„å€¼,ä½¿ç”¨å…³é”®çš„åå­—æ‰¾åˆ°å…·æœ‰ç›¸åŒåç§°çš„å±æ€§)å·²è¢«ç§»é™¤ã€‚ Modified multivaluedFormParamç°åœ¨å¯ä»¥è§£å†³ç›´æ¥ä»ä¼šè¯å€¼,ä½¿ç”¨gatlingçš„ELã€‚ Request bodies Scalate templates support has been dropped.å¯¹Scalate templates æ”¯æŒå·²ç»æ”¾å¼ƒã€‚ ElFileBody (å¦‚ä¸‹) æ˜¯å½“å‰ä»£æ›¿Scalate templatesæœ€ä½³æ–¹æ¡ˆ apiçš„è¯·æ±‚ä½“çš„è®¾ç½®æ„å¢ƒæ”¹å˜ã€‚ç°åœ¨ç”¨è¿™å‡ ä¸ªæ–¹æ³•æ¥ä»£æ›¿body fileBody byteArrayBody.ç°åœ¨æœ‰ä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•ã€‚body(â€¦)é€šè¿‡ä½ è®¾ç½®çš„ç±»å‹çš„bodyæ¥å‘é€ã€‚åˆå¹¶ .body(body) body(body) å·²ç»è¢« .body(StringBody(body))ä»£æ›¿. http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(â€œLook Ma, Iâ€™m a request body !â€)å˜æˆï¼š http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(StringBody(â€œLook Ma, Iâ€™m a request body !â€)) åˆå¹¶ .fileBody(filePath) .fileBody(filePath) è¢« .body(RawFileBody(filePath))ä»£æ›¿. http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .fileBody(â€œmy_upload.xslxâ€)becomes: http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(FileBody(â€œmy_upload.xslxâ€)) åˆå¹¶ .fileBody(filePath, values) .fileBody(filePath, values) å·²ç»è¢« .body(ElFileBody(filePath))ä»£æ›¿.å€¼ç°åœ¨ç›´æ¥è§£å†³è™šæ‹Ÿç”¨æˆ·ä¼šè¯çš„å†…å®¹ã€‚ http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .fileBody(â€œmy_template.txtâ€, Map(â€œuserNameâ€ -&gt; â€œuser123â€) å˜ä¸º http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(ElFileBody(â€œmy template.txtâ€)) å¦‚æœ template.txt åŒ…å«: Hi, my name is ${userName} å’Œè™šæ‹Ÿç”¨æˆ·çš„ä¼šè¯å±æ€§çš„ç”¨æˆ·åè®¾ç½®ä¸ºuser123, ç„¶åå°†å‘é€æœ‰æ•ˆåœ°è¯·æ±‚ä¸»ä½“:Hi, my name is user123 åˆå¹¶ .byteArrayBody(byteArray) .byteArrayBody(byteArray) è¢« .body(ByteArrayBody(bytes))ä»£æ›¿. http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .byteArrayBody(Array(1, 2, 3, 4)) å˜ä¸ºï¼š http(â€œmy post requestâ€) .post(â€œhttp://www.example.orgâ€œ) .body(ByteArrayBody(Array(1, 2, 3, 4))) æ›´å¤šæœ‰å…³ä¿¡æ¯,è¯·å‚è§è¯·æ±‚æœºæ„å¼•ç”¨éƒ¨åˆ†ã€‚ MiscExtendedResponseå·²ç»é‡å‘½åä¸ºå“åº”ã€‚requestInfoExtractorå’ŒresponseInfoExtractorå·²ç»åˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„extraInfoExtractor,ExtraInfo =&gt; List[Any] function.ã€‚åœ¨extraInfoExtractorçš„æ›´å¤šä¿¡æ¯,è¯·å‚é˜…æ–‡æ¡£ã€‚ Logssimulation.log è¢«é‡æ–°è®¾è®¡ã€‚ If you wrote your own specific simulation.log parser, youâ€™ll need to migrate it to the new structure.å¦‚æœä½ å†™è‡ªå·±çš„simulation.logè§£æå™¨,æ‚¨éœ€è¦å®ƒè¿ç§»åˆ°æ–°ç»“æ„ Recorderå½•åˆ¶å™¨Until now, å½“ä½ è®¾ç½® Recorderæ—¶, ä½ å¿…é¡»è®¾ç½®ä¸¤ä¸ªç«¯å£è®°å½•å™¨çš„å½“åœ°ä»£ç†:ä¸€ä¸ªç”¨äºHTTP,HTTPSã€‚ è¿™å†ä¹Ÿä¸éœ€è¦äº†, å› ä¸ºrecordå¤„ç†æœ¬èº«è½¬å‘ä¸€ä¸ªHTTPSè¿æ¥å¦‚æœå¿…è¦,å¹¶ä¸”åªéœ€è¦æŒ‡å®šä¸€ä¸ªå•ç‹¬çš„ç«¯å£ã€‚","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]},{"title":"gatlingå®˜æ–¹æ–‡æ¡£ç¿»è¯‘2","slug":"gatling2","date":"2016-06-02T14:37:03.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/06/02/gatling2/","link":"","permalink":"http://yoursite.com/2016/06/02/gatling2/","excerpt":"","text":"ç¬¬äºŒç¯‡http://gatling.io/docs/2.2.1/whats_new/2.2.html Whatâ€™s New in 2.2JDKGatling now requires JDK8. JVM default tuning uses G1 Garbage Collector, so we strongly advice you use a very up-to-date JDK, not early versions. CoreFeeder ShuffleYou can now shuffle a feeder content before enqueuing its content, see Feeder documentation for more details. AssertionsGatling now supports â€œper-millionâ€ assertions, similar to â€œpercentâ€ ones. Conditional Checks (since 2.2.1)Itâ€™s now possible to only perform a given check when a given condition is met. See Conditional Checks documentation for more details. HTTPNative TransportGatling is now based on Netty 4 that provide an optional native epoll-based NIO re-implementation (different from JDK NIO) which can give better throughput. This option is only available on Linux. See Netty documentation for more details. Gatling ships with the required jar, but the option is turned down by default. In order to enable it, set gatling.http.ahc.useNativeTransport to true in gatling.conf. OpenSSL SupportNetty 4 also provides a support for OpenSSL and BoringSSL. See Netty documentation for more details. Gatling doesnâ€™t ship the required jar and it depends on your operating system and if you want static or dynamic binding. Youâ€™re expected to manually add the suited library to Gatlingâ€™s classpath. In order to enable it, set gatling.http.ahc.useOpenSsl to true in gatling.conf. Forms SupportYou can now use the form(â€œcssSelectorâ€).saveAs(â€œmyFormâ€) check to capture a Map[String, Seq[String]] of all the inputs of an HTML form at once. You can then feed them back to a later request. See HTTP request documentation for more details. Polling SupportGatling now supports HTTP polling, see HTTP polling documentation for more details. Hostname ResolutionBy default, virtual users now use a shuffled list of the DNS records Gatling gets from the JDK. If you use DNS round-robin, this will balance your virtual users amongst the nodes of a static cluster. Alternatively, you can enable perUserNameResolution on the HTTP protocol and have each virtual user perform DNS resolution on its own. This, way, your virtual users would be properly balanced if your cluster grows elastically under load. See HTTP protocol documentation for more details. We also support DNS fail-over, meaning that virtual users will try the next DNS record of they couldnâ€™t connect to the first address. Hostname AliasingYou can bypass hostname resolution and define aliases in hostNameAliases on the HTTP protocol. See HTTP protocol documentation for more details. Local AddressesItâ€™s now possible to pass multiple local addresses to the HTTP protocol in localAddresses. See HTTP protocol documentation for more details. ReportsJUnit Format Report FileGatling now generates a JUNIt format report file based on the assertions in your simulation. This file is generated as /js/assertions.xml. Groups DurationYou can switch from Group cumulated response times to duration when generating the reports. See gatling.charting.useGroupDurationMetric option in gatling.conf Maven PluginThe Gatling Maven plugin now provides test and integration-test that are bound to the phases of the same name. It also now provides a useOldJenkinsJUnitSupport that exposes our JUnit file to Jenkins. At some point, weâ€™ll provide a native support. åœ¨2.2çš„æ–°å¢äº†é‚£äº›åŠŸèƒ½JDKgatlingç°åœ¨éœ€è¦JDK8æ”¯æŒã€‚ JVMé»˜è®¤è°ƒæ•´ä½¿ç”¨G1åƒåœ¾æ”¶é›†å™¨ï¼Œå› æ­¤æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨å‡çº§åˆ°æœ€æ–°çš„JDKï¼Œè€Œä¸æ˜¯æ—©æœŸç‰ˆæœ¬ã€‚ æ ¸å¿ƒFeeder Shuffleï¼ˆä¸ä¼šç¿»â€¦ï¼‰ç°åœ¨ï¼ŒYou can now shuffle a feeder content before enqueuing its contentï¼Œè¯·å‚é˜…Feederæ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚ æ–­è¨€gatlingç°åœ¨æ”¯æŒâ€œper-millionâ€çš„æ–­è¨€ï¼Œç±»ä¼¼äºâ€œpercentâ€ã€‚ æ¡ä»¶æ£€æŸ¥ï¼ˆè‡ª2.2.1ï¼‰ç°åœ¨åªè¦å½“ç»™å®šæ¡ä»¶æ»¡è¶³æ—¶å°±å¯ä»¥æ‰§è¡Œä¸€ä¸ªç»™å®šçš„æ£€æŸ¥ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ¡ä»¶æ£€æŸ¥æ–‡æ¡£ã€‚ HTTPæœ¬æœºä¼ è¾“è™½ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“ epoll-based NIOæ˜¯ä»€ä¹ˆã€‚ã€‚ã€‚ gatlingç°åœ¨åŸºäºNetty 4æä¾›ä¸€ä¸ªå¯é€‰çš„åŸºäºåŸç”Ÿçš„epoll-NIOé‡æ–°å®ç°ï¼ˆä»JDK NIOä¸åŒï¼‰ï¼Œå®ƒå¯ä»¥æä¾›æ›´å¥½çš„ååé‡ã€‚æ­¤é€‰é¡¹ä»…åœ¨Linuxä¸Šå¯ç”¨ã€‚è¯¦è§çš„Nettyæ–‡æ¡£,äº†è§£æ›´å¤šä¿¡æ¯ã€‚ gatlingä¸éœ€è¦æºå¸¦éœ€è¦çš„jaråŒ…ï¼Œå®ƒå–å†³äºä½ çš„æ“ä½œç³»ç»Ÿ,å¦‚æœä½ æƒ³è¦é™æ€æˆ–åŠ¨æ€ç»‘å®šã€‚ä½ éœ€è¦æ‰‹åŠ¨é…ç½®éœ€è¦çš„jarçš„pathåˆ°gatlingçš„classpathã€‚åŠ ç‰¹æ—é™„å¸¦æ‰€éœ€çš„jar,ä½†é»˜è®¤é€‰é¡¹æ˜¯å…³é—­çš„ã€‚ ä¸ºäº†å¯ç”¨å®ƒ,è®¾ç½®gatling.http.ahcã€‚åœ¨gatling.conf useNativeTransportä¸ºtrueã€‚ ä¸ºäº†å¯ç”¨ä»–ï¼Œéœ€è¦åœ¨gatling.confé‡Œå°† gatling.http.ahc.useOpenSslè®¾ç½®ä¸ºtrueã€‚ è¡¨å•æ”¯æŒæ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨çš„form(â€œcssSelectorâ€).saveAsï¼ˆâ€œmyFormâ€ï¼‰æ£€æŸ¥æ•æ‰Map[String, Seq[String]]åœ¨HTMLè¡¨å•çš„æ‰€æœ‰è¾“å…¥ã€‚ ç„¶åï¼Œæ‚¨å¯ä»¥ä¼ é€’ç»™ä»¥åçš„è¯·æ±‚ã€‚è§HTTPè¯·æ±‚çš„æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚ è½®è®­æ”¯æŒgatlingç°åœ¨æ”¯æŒHTTPè½®è¯¢ï¼Œè¯·å‚é˜…HTTPè½®è¯¢æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚ hostnameè§£æé»˜è®¤æƒ…å†µä¸‹ï¼Œ, virtual users now use a shuffled list of the DNS records Gatling gets from the JDK. If you use DNS round-robinã€‚å¦‚æœæ‚¨ä½¿ç”¨DNSå¾ªç¯ï¼Œè¿™å°†ä½ çš„è™šæ‹Ÿç”¨æˆ·çš„é™æ€ç¾¤é›†çš„èŠ‚ç‚¹ä¹‹é—´å¹³è¡¡ã€‚ æˆ–è€…ï¼Œä¹Ÿå¯ä»¥åœ¨HTTPåè®®ä½¿ç”¨perUserNameResolutionï¼Œå¹¶è®©æ¯ä¸ªè™šæ‹Ÿç”¨æˆ·è‡ªèº«è¿›è¡ŒDNSè§£æã€‚è¿™æ ·ï¼Œå¦‚æœä½ çš„é›†ç¾¤è´Ÿè½½ä¸‹çš„å¼¹æ€§å¢é•¿æ—¶ï¼Œä½ çš„è™šæ‹Ÿç”¨æˆ·ä¼šä¿æŒè‰¯å¥½çš„å¹³è¡¡ã€‚è§HTTPåè®®æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚ æˆ‘ä»¬ä¹Ÿæ”¯æŒDNSæ•…éšœè½¬ç§»ï¼Œè¿™æ„å‘³ç€è™šæ‹Ÿç”¨æˆ·ä¼šå°è¯•ä¸‹ä¸€ä¸ªDNSè®°å½•ï¼Œå½“ä»–ä»¬æ— æ³•è¿æ¥åˆ°ç¬¬ä¸€ä¸ªåœ°å€æ—¶ã€‚ åˆ«åä¸»æœºåæ‚¨å¯ä»¥ç»•è¿‡ä¸»æœºåè§£æå’ŒHTTPåè®®å®šä¹‰hostNameAliasesåˆ«åã€‚è§HTTPåè®®æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚ æœ¬åœ°åœ°å€å®ƒç°åœ¨å¯ä»¥å°†å¤šä¸ªæœ¬åœ°åœ°å€ä¼ é€’ç»™åœ¨localAddresses HTTPåè®®ã€‚è§HTTPåè®®æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚ æŠ¥å‘ŠJUnitçš„æ ¼å¼æŠ¥å‘Šæ–‡ä»¶åŠ ç‰¹æ—ç°åœ¨æ ¹æ®ä½ çš„æ¨¡æ‹Ÿæ–­è¨€äº§æˆä¸€ä¸ªJUnitæ ¼å¼çš„æŠ¥å‘Šæ–‡ä»¶ã€‚æ­¤æ–‡ä»¶å°†ç”Ÿæˆå¦‚/js/assertions.xmlã€‚ groupæŒç»­æ—¶é—´æ‚¨å¯ä»¥åˆ‡æ¢ç»„ç´¯è®¡å“åº”æ—¶é—´å½“æ—¶é—´ç”ŸæˆæŠ¥å‘Šæ—¶ã€‚è§gatling.conf gatling.charting.useGroupDurationMetricé€‰é¡¹ Mavenæ’ä»¶gatling Mavenæ’ä»¶ç°åœ¨æä¾›æµ‹è¯•å’Œé›†æˆæµ‹è¯•ç»‘å®šåˆ°åŒåçš„é˜¶æ®µã€‚ å®ƒè¿˜ç°åœ¨æä¾›ä¸€ä¸ªå…¬å¼€çš„JUnitæˆ‘ä»¬çš„æ–‡ä»¶ï¼Œjenkinsä¸€useOldJenkinsJUnitSupportã€‚åœ¨æŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬å°†æä¾›åŸç”Ÿæ”¯æŒã€‚","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]},{"title":"gatlingå®˜æ–¹æ–‡æ¡£ç¿»è¯‘","slug":"gatling","date":"2016-05-31T06:56:38.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/05/31/gatling/","link":"","permalink":"http://yoursite.com/2016/05/31/gatling/","excerpt":"","text":"ç¬¬ä¸€ç¯‡ http://gatling.io/docs/2.2.1/index.htmlGatling is a highly capable load testing tool. It is designed for ease of use, maintainability and high performance. Out of the box, Gatling comes with excellent support of the HTTP protocol that makes it a tool of choice for load testing any HTTP server. As the core engine is actually protocol agnostic, it is perfectly possible to implement support for other protocols. For example, Gatling currently also ships JMS support. The Quickstart has an overview of the most important concepts, walking you through the setup of a simple scenario for load testing an HTTP server. Having scenarios that are defined in code and are resource efficient are the two requirements that motivated us to create Gatling. Based on an expressive DSL, the scenarios are self explanatory. They are easy to maintain and can be kept in a version control system. Gatlingâ€™s architecture is asynchronous as long as the underlying protocol, such as HTTP, can be implemented in a non blocking way. This kind of architecture lets us implement virtual users as messages instead of dedicated threads, making them very resource cheap. Thus, running thousands of concurrent virtual users is not an issue. Migrating from a Previous Version of GatlingIf youâ€™re migrating from Gatling 2.1 to Gatling 2.2, please check the dedicated migration guide.Otherwise, please follow the previous migration guides.Userâ€™s guideWhatâ€™s NewMigration GuidesQuickstartAdvanced TutorialGeneralSessionHTTPJMSRealtime monitoringExtensionsCookbookInformation for Gatling DevelopersProject Information gatlingæ˜¯ä¸€ä¸ªçš„é«˜æ€§èƒ½å‹åŠ›æµ‹è¯•å·¥å…·ã€‚å®ƒè®¾è®¡çš„åˆè¡·æ˜¯æ˜“ç”¨æ€§ã€å¯ç»´æŠ¤æ€§å’Œé«˜æ€§èƒ½ã€‚gatlingå¼€ç®±å³ç”¨çš„,å¹¶ä¸”å¾ˆå¥½çš„æ”¯æŒHTTPåè®®,ä½¿å…¶æˆä¸ºä½ æµ‹è¯•ä»»ä½•HTTPæœåŠ¡å™¨è´Ÿè½½çš„å·¥å…·é€‰æ‹©ä¹‹ä¸€ã€‚ä½œä¸ºæ ¸å¿ƒå¼•æ“å®é™…ä¸Šæ˜¯åè®®æ— å…³,è¿™æ˜¯å®Œå…¨æœ‰å¯èƒ½å®ç°å¹¶æ”¯æŒå…¶ä»–åè®®ã€‚ä¾‹å¦‚,gatlingç›®å‰è¿˜å¯¹JMSæ”¯æŒã€‚ å¿«é€Ÿå…¥é—¨æ˜¯å¯¹äºæœ€é‡è¦çš„æ¦‚å¿µæœ‰ä¸€ä¸ªå›é¡¾,é€šè¿‡è®¾ç½®ä¸€ä¸ªç®€å•çš„åœºæ™¯çš„æ¥å¯¹ä¸€ä¸ªHTTPæœåŠ¡å™¨å®Œæˆè´Ÿè½½æµ‹è¯•ã€‚åœ¨ä»£ç ä¸­å®šä¹‰æµ‹è¯•åœºæ™¯å’Œèµ„æºåˆ©ç”¨ç‡ä¸¤æ–¹é¢çš„éœ€æ±‚,æ¿€åŠ±æˆ‘ä»¬åˆ›é€ gatlingã€‚åŸºäºå¯è¡¨è¿°çš„DSLè¯­è¨€,æ‰€ä»¥åœºæ™¯æ˜“äºå™è¿°å’Œç†è§£çš„ã€‚ä»–ä»¬å¾ˆå®¹æ˜“ç»´æŠ¤,å¹¶ä¸”å¯ä»¥ä¿å­˜åœ¨ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚ gatlingçš„æ¶æ„å’Œåº•å±‚åè®®å‡é‡‡ç”¨å¼‚æ­¥æ–¹å¼è®¾è®¡ã€‚æ¯”å¦‚HTTPã€å¯ä»¥åˆ©ç”¨ä¸€ä¸ªéé˜»å¡çš„æ–¹å¼æ¥å®ç°ã€‚è¿™ç§æ¶æ„å¯ä»¥è®©æˆ‘ä»¬å®ç°è™šæ‹Ÿç”¨æˆ·çš„æ¶ˆæ¯è€Œä¸æ˜¯ä¸“ç”¨çš„çº¿ç¨‹,è®©ä»–ä»¬æˆä¸ºéå¸¸å»‰ä»·èµ„æºã€‚å› æ­¤,è¿è¡Œæ•°åƒå¹¶å‘è™šæ‹Ÿç”¨æˆ·ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚ ä»ä¹‹å‰çš„ç‰ˆæœ¬ä¸­åˆå¹¶gatling å¦‚æœä½ ä»gatling2.1è¿ç§»åˆ°2.2gatling,è¯·æ£€æŸ¥ä¸“ç”¨çš„åˆå¹¶æŒ‡å—ã€‚å¦åˆ™,è¯·å®‰è£…çš„åˆå¹¶æŒ‡å—ã€‚ ç”¨æˆ·æ‰‹å†Œ æ–°äº‹ç‰© åˆå¹¶æ‰‹å†Œ å¿«é€Ÿå…¥é—¨ é«˜çº§æ•™ç¨‹ é€šç”¨ æ¶ˆæ¯ Http JMS å®æ—¶ç›‘æµ‹ æ‰©å±• cookbook gatling å¼€å‘è€…ä¿¡æ¯ é¡¹ç›®ä¿¡æ¯","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]},{"title":"å‰ç«¯æµ‹è¯•å·¥å…·é›†é”¦","slug":"front-end-tools","date":"2016-05-24T12:47:35.000Z","updated":"2017-09-21T07:42:16.000Z","comments":true,"path":"2016/05/24/front-end-tools/","link":"","permalink":"http://yoursite.com/2016/05/24/front-end-tools/","excerpt":"","text":"æ€»ç»“æœ€è¿‘äº†è§£çš„å‰ç«¯æµ‹è¯•çš„ç›¸å…³å†…å®¹ï¼Œå‘ç°å‰ç«¯è¿™é‡ŒçœŸçš„æ˜¯å¤ªåºå¤§äº†ï¼Œè€Œä¸”å„ç§æµ‹è¯•å·¥å…·å±‚å‡ºä¸ç©·ï¼Œéœ€è¦æ€»ç»“ä¸œè¥¿å¤ªå¤šäº†ï¼Œå¦‚æœ‰é—æ¼è¯·å¤§å®¶è§è°…ã€‚ TDD vs BDDï¼šTDDä¸BDDæ¦‚å¿µä¸å†æè¿°äº†ï¼Œç›´å¥”ä¸»é¢˜ã€‚ å‰ç«¯BDDæµ‹è¯•æ¡†æ¶jasmineInstallation install -g jasmine12345```InitializingTo initialize a project for Jasmine```jasmine init To seed your project with some examples examples1234```UsageTo run your test suite``` jasmine 12345describe(\"A suite\", function() &#123; it(\"contains spec with an expectation\", function() &#123; expect(true).toBe(true); &#125;);&#125;); mocha(æ¨è,ç®€æ´æ˜äº†) Installation Install with npm:1$ npm install -g mocha Getting Started123$ npm install -g mocha$ mkdir test$ $EDITOR test/test.js In your editor:123456789var assert = require('chai').assert;describe('Array', function() &#123; describe('#indexOf()', function () &#123; it('should return -1 when the value is not present', function () &#123; assert.equal(-1, [1,2,3].indexOf(5)); assert.equal(-1, [1,2,3].indexOf(0)); &#125;); &#125;);&#125;); you need to install chai.Back in the terminal:12345678910 $ mocha . âœ” 1 test complete (1ms)``` ### å‰ç«¯TDDæµ‹è¯•æ¡†æ¶QunitInstallation $ npm i qunit 1234567891011121314151617181920212223242526272829303132333435363738API http://api.qunitjs.comQunitæ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç”¨äºå¸®åŠ©è°ƒè¯•ä»£ç çš„ï¼ŒJavaScriptå•å…ƒæµ‹è¯•æ¡†æ¶ã€‚QUnitç”±jQueryå›¢é˜Ÿæˆå‘˜ç¼–å†™ï¼Œæ˜¯jQueryçš„å®˜æ–¹æµ‹è¯•å¥—ä»¶ï¼Œä¸ä»…å¦‚æ­¤ï¼ŒQUnitè¿˜å¯ä»¥æµ‹è¯•ä»»ä½•å¸¸è§„JavaScriptä»£ç ï¼Œç”šè‡³å¯ä»¥é€šè¿‡ä¸€äº›åƒRhinoæˆ–è€…V8è¿™æ ·çš„JavaScriptå¼•æ“ï¼Œæµ‹è¯•æœåŠ¡ç«¯JavaScriptä»£ç ã€‚å¯ä»¥æƒ³è±¡å…¶è·Ÿjquery UIåŠjquery animationç­‰åº“ç»“å±€ä¸€æ ·ï¼Œé€ƒè„±ä¸äº†å„ç§è¢«åæ¥çš„åº“å…¨æ–¹ä½çš„æ¯”è¾ƒå’Œâ€œè¶…è¶Šâ€.## Unit TestingMocha &amp;&amp; JasmineMocha è·Ÿ Jasmine æ˜¯ç›®å‰æœ€ç«çš„ä¸¤ä¸ªå•å…ƒæµ‹è¯•æ¡†æ¶ï¼ŒåŸºæœ¬ä¸Šç›®å‰å‰ç«¯å•å…ƒæµ‹è¯•å°±åœ¨è¿™ä¸¤ä¸ªåº“ä¹‹é—´é€‰äº†ï¼Œä¸‹é¢æ˜¯è¿™ä¸¤ä¸ªåº“çš„åŒºåˆ«ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œé€‰æ‹©ï¼šmochaï¼š ä¼˜ç‚¹ï¼š ç»ˆç«¯æ˜¾ç¤ºå‹å¥½ çµæ´»ï¼Œæ‰©å±•æ€§å¥½ ç¼ºç‚¹ï¼š è‡ªèº«é›†æˆåº¦ä¸é«˜ï¼ˆæ²¡æœ‰æ–­è¨€ï¼Œspyï¼Œå¼‚æ­¥ç­‰ï¼‰ï¼Œè€Œä¸”ç»å¸¸è¦é…åˆChaiï¼ŒSinonç­‰åº“ä½¿ç”¨ é…ç½®ç›¸å¯¹éº»çƒ¦ä¸€ç‚¹ç‚¹Jasmine: ä¼˜ç‚¹ï¼š é›†æˆåº¦é«˜ï¼Œè‡ªå¸¦BBDï¼Œspyï¼Œæ–¹ä¾¿çš„å¼‚æ­¥æ”¯æŒ(2.0) é…ç½®æ–¹ä¾¿ ç¼ºç‚¹ï¼š ç›¸å¯¹ä¸å¤ªçµæ´» ç”±äºå„ç§åŠŸèƒ½å†…å»ºï¼Œæ–­è¨€æ–¹å¼æˆ–è€…å¼‚æ­¥ç­‰é£æ ¼ç›¸å¯¹æ¯”è¾ƒå›ºå®š æ²¡æœ‰è‡ªå¸¦mockserverï¼Œ å¦‚æœéœ€è¦è¿™åŠŸèƒ½çš„å¾—å¦å¤–é…ç½®jestJest æ˜¯Facebookçš„ä¸€ä¸ªä¸“é—¨è¿›è¡ŒJavascriptå•å…ƒæµ‹è¯•çš„å·¥å…·.å®ƒæ˜¯åœ¨Jasmineæµ‹è¯•æ¡†æ¶ä¸Šæ¼”å˜å¼€å‘è€Œæ¥ï¼Œä½¿ç”¨äº†æˆ‘ä»¬ç†ŸçŸ¥çš„expect(value).toBe(other) è¿™ç§æ–­è¨€æ ¼å¼ã€‚First install Jest with npm by running: npm install --save-dev jest-cli 12Great! Now let's get started by writing a test for a hypothetical sum.js file: function sum(a, b) { return a + b; } module.exports = sum; 1Create a directory __tests__/ with a file sum-test.js: jest.unmock(&apos;../sum&apos;); // unmock to use the actual implementation of sum describe(&apos;sum&apos;, () =&gt; { it(&apos;adds 1 + 2 to equal 3&apos;, () =&gt; { const sum = require(&apos;../sum&apos;); expect(sum(1, 2)).toBe(3); }); }); 1Add the following to your package.json: &quot;scripts&quot;: { &quot;test&quot;: &quot;jest&quot; } 1Run npm test: [PASS] __tests__/sum-test.js (0.010s) 12345678910111213141516171819202122## ä»£ç è¦†ç›–ç‡å·¥å…·jscoverjscoveræ˜¯ä¸€ä¸ªç”¨æ¥æ˜¾ç¤ºJavaScripté¡¹ç›®ä»£ç è¦†ç›–ç‡çš„å·¥å…·ï¼Œå®ƒæ˜¯ç»§æ‰¿äºJSCoverageçš„ï¼Œç”¨C++/SpiderMonkey å–ä»£äº†Java/Rhinoä½†æ˜¯å·²ç»æ²¦è½åˆ°æ·˜æ±°çš„è¾¹ç¼˜Istanbul(æ¨èç›®å‰æœ€å¼ºå¤§å‰ç«¯ä»£ç è¦†ç›–ç‡å·¥å…·)Istanbul æ˜¯ JavaScript ç¨‹åºçš„ä»£ç è¦†ç›–ç‡å·¥å…·,èƒ½äº§ç”Ÿ Statements/Lines/Functions/Branches ç­‰æŒ‡æ ‡æŠ¥è¡¨ï¼Œå¹¶ä»¥å„ç§æ ¼å¼å¯¼å‡ºã€‚http://qaseven.github.io/2016/01/25/gulp_for_qa/ è¿™ç¯‡æ–‡ç« é‡Œå·²ç»è¯¦ç»†ä»‹ç»äº†ã€‚blanketjsblanketjsæ˜¯ä¸€ä¸ªæ˜“äºå®‰è£…,æ˜“äºé…ç½®å’Œæ˜“äºä½¿ç”¨çš„JavaScriptä»£ç è¦†ç›–åº“ å¯¹äºnodejså’Œæµè§ˆå™¨éƒ½æ”¯æŒçš„ä¸é”™ã€‚NodeJS (Powered by Mocha)Install from npm. npm install blanket 123456789101112131415161718192021Make sure you require Blanket before you require or run any of the code you want covered require(\"blanket\")(&#123; /* optional options */ &#125;), require(\"src/myscripttotest\");Run your tests using mocha and take advantage of the json-cov and html-cov reporters to output the coverage results.## e2e testuiwebdriverioè¿™ä¸ªåº“æ˜¯nodejsçš„ä¸€ä¸ªwebdriveræ¨¡å—(æµè§ˆå™¨è‡ªåŠ¨åŒ–)ã€‚ä½ å¯ä»¥ç”¨å®ƒå†™è¶…çº§ç®€å•Seleniumæµ‹è¯•åœ¨ä½ æœ€å–œæ¬¢çš„BDD / TDDæµ‹è¯•æ¡†æ¶ä¸­,å¹¶ä¸”å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œæˆ–åœ¨äº‘ç«¯ä¸­ï¼Œ Sauce Lab,BrowserStackæˆ–TestingBotã€‚webdriverio æ”¯æŒ Cucumber, Jasmine and Mocha+Chai è¿™äº›æµ‹è¯•æ¡†æ¶nightwatchNightwatch.js æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ï¼ŒåŸºäº Node.js å¹³å°çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–æµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚å®ƒä½¿ç”¨å¼ºå¤§çš„ Selenium WebDriver API æ¥åœ¨ DOM å…ƒç´ ä¸Šæ‰§è¡Œå‘½ä»¤å’Œæ–­è¨€ã€‚ è¯­æ³•ç®€å•ä½†å¾ˆå¼ºå¤§ï¼Œä½¿æ‚¨å¯ä»¥å¿«é€Ÿç¼–å†™æµ‹è¯•ã€‚åªéœ€ä½¿ç”¨ Javascript å’Œ CSS é€‰æ‹©å™¨ï¼Œä¸éœ€è¦åˆå§‹åŒ–å…¶ä»–å¯¹è±¡å’Œç±»ï¼Œæ‚¨åªéœ€è¦ç¼–å†™æµ‹è¯•è§„èŒƒã€‚å†…ç½®å‘½ä»¤è¡Œæµ‹è¯•è¿è¡Œå™¨ï¼Œä½¿æ‚¨èƒ½å¤Ÿè¿è¡Œæ•´ä½“æµ‹è¯•ï¼Œåˆ†ç»„æµ‹è¯•æˆ–è€…å•ä¸ªæµ‹è¯•ã€‚ this.demoTestGoogle = function (browser) { browser .url(â€œhttp://www.google.comâ€) .waitForElementVisible(&apos;body&apos;, 1000) .setValue(&apos;input[type=text]&apos;, &apos;nightwatch&apos;) .waitForElementVisible(&apos;button[name=btnG]&apos;, 1000) .click(&apos;button[name=btnG]&apos;) .pause(1000) .assert.containsText(&apos;#main&apos;, &apos;The Night Watch&apos;) .end(); }; 123456å½“æ¶‰åŠå¼‚æ­¥è°ƒç”¨æ—¶ï¼ŒåŸºäºé“¾å¼çš„é˜Ÿåˆ—æ˜¯ä¸ªç³Ÿç³•çš„æ¨¡å¼CodeceptJSCodeceptJSæ˜¯ä¸€ä¸ªåŸºäºWebDriverå…¨æ–°çš„ç«¯åˆ°ç«¯æµ‹è¯•æ¡†æ¶ã€‚å®ƒä»¬ä»ç”¨æˆ·è§’åº¦ç®€å•æè¿°ç”¨æˆ·æ“ä½œæ­¥éª¤æ¥ç¼–å†™æµ‹è¯•è„šæœ¬ Feature(&apos;CodeceptJS Demonstration&apos;); Scenario(&apos;test some forms&apos;, (I) =&gt; { I.amOnPage(&apos;http://simple-form-bootstrap.plataformatec.com.br/documentation&apos;); I.fillField(&apos;Email&apos;, &apos;hello@world.com&apos;); I.fillField(&apos;Password&apos;, &apos;123456&apos;); I.checkOption(&apos;Active&apos;); I.checkOption(&apos;Male&apos;); I.click(&apos;Create User&apos;); I.see(&apos;User is valid&apos;); I.dontSeeInCurrentUrl(&apos;/documentation&apos;); }); 12345protractor(angluarjsäº²å„¿å­ï¼Œç”±angluarjsæ ¸å¿ƒäººç‰©å¼€å‘çš„e2eæµ‹è¯•å·¥å…·)protractor æ˜¯ AngularJS å›¢é˜Ÿæ„å»ºçš„ä¸€ä¸ªç«¯å¯¹ç«¯çš„æµ‹è¯•è¿è¡Œå·¥å…·ï¼Œæ¨¡æ‹Ÿç”¨æˆ·äº¤äº’ï¼Œå¸®åŠ©ä½ éªŒè¯ä½ çš„Angularåº”ç”¨çš„è¿è¡ŒçŠ¶å†µã€‚Protractorä½¿ç”¨Jasmineæµ‹è¯•æ¡†æ¶æ¥å®šä¹‰æµ‹è¯•,å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–æµ‹è¯•æ¡†æ¶æ¥å®šä¹‰æµ‹è¯•ï¼Œå¦‚mochaã€‚Protractorä¸ºä¸åŒçš„é¡µé¢äº¤äº’æä¾›ä¸€å¥—å¥å£®çš„APIã€‚ var chai = require(&apos;chai&apos;); var chaiAsPromised = require(&apos;chai-as-promised&apos;); chai.use(chaiAsPromised); var expect = chai.expect; describe(&apos;angularjs é¦–é¡µ&apos;, function() { it(&apos;åº”è¯¥æ¬¢è¿ä¸€ä¸ªå…·åçš„ç”¨æˆ·&apos;, function() { //è¦æ±‚æµè§ˆå™¨è®¿é—®ç½‘å€http://www.angularjs.org browser.get(&apos;http://www.angularjs.org&apos;); //æ‰¾åˆ°ng-modelåä¸º&apos;youname&apos;çš„HTMLå…ƒç´ ï¼Œè¦æ±‚æµè§ˆå™¨é”®å…¥åå­— element(by.model(&apos;yourName&apos;)).sendKeys(&apos;tanshuai&apos;); var greeting = element(by.binding(&apos;yourName&apos;)); //å–å¾—ç»“æœå¹¶ä½œæ–­è¨€æµ‹è¯• expect(greeting.getText()).to.eventually.equal(&apos;Hello tanshuai!&apos;); }); }); 1234567891011## headlessPhantomJSPhantomJS æ˜¯ä¸€ä¸ªåŸºäº WebKit çš„æœåŠ¡å™¨ç«¯ JavaScript APIã€‚å®ƒå…¨é¢æ”¯æŒwebè€Œä¸éœ€æµè§ˆå™¨æ”¯æŒï¼Œå…¶å¿«é€Ÿï¼ŒåŸç”Ÿæ”¯æŒå„ç§Webæ ‡å‡†ï¼š DOM å¤„ç†, CSS é€‰æ‹©å™¨, JSON, Canvas, å’Œ SVGã€‚ PhantomJS å¯ä»¥ç”¨äº é¡µé¢è‡ªåŠ¨åŒ– ï¼Œ ç½‘ç»œç›‘æµ‹ ï¼Œ ç½‘é¡µæˆªå± ï¼Œä»¥åŠ æ— ç•Œé¢æµ‹è¯• ç­‰ã€‚å¾ˆå¤šå…¶å®ƒçš„æµ‹è¯•æ¡†æ¶éƒ½æ˜¯åŸºäºPhantomJSäºŒæ¬¡å¼€å‘çš„,ä¾‹å¦‚ä¸‹é¢è¦è®²çš„casperjsï¼Œnightmarenightmarenightmareæ˜¯ä¸€ä¸ªé«˜çº§æµè§ˆå™¨è‡ªåŠ¨åŒ–ä¾èµ–åº“ã€‚ var Nightmare = require(â€˜nightmareâ€™); var expect = require(â€˜chaiâ€™).expect; // jshint ignore:line describe(&apos;test yahoo search results&apos;, function() { it(&apos;should find the nightmare github link first&apos;, function*() { var nightmare = Nightmare() var link = yield nightmare .goto(&apos;http://yahoo.com&apos;) .type(&apos;form[action*=&quot;/search&quot;] [name=p]&apos;, &apos;github nightmare&apos;) .click(&apos;form[action*=&quot;/search&quot;] [type=submit]&apos;) .wait(&apos;#main&apos;) .evaluate(function () { return document.querySelector(&apos;#main .searchCenterMiddle li a&apos;).href }) expect(link).to.equal(&apos;https://github.com/segmentio/nightmare&apos;); }); }); 1234casperjsCasperJS æ˜¯ä¸€ä¸ªå¼€æºçš„å¯¼èˆªè„šæœ¬å’Œæµ‹è¯•å·¥å…·ï¼Œä½¿ç”¨ JavaScript åŸºäº PhantomJS ç¼–å†™ï¼Œç”¨äºæµ‹è¯• Web åº”ç”¨åŠŸèƒ½ï¼ŒPhantom JSæ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯çš„ JavaScript API çš„ WebKitã€‚å…¶æ”¯æŒå„ç§Webæ ‡å‡†ï¼š DOM å¤„ç†, CSS é€‰æ‹©å™¨, JSON, Canvas, å’Œ SVG. var casper = require(â€˜casperâ€™).create(); var fs = require(â€˜fsâ€™) casper.start(â€˜https://github.com/login/â€˜); casper.waitForSelector(â€˜input.btn.btn-primary.btn-blockâ€™); // wait for the form node to be added casper.then(function() { this.fillSelectors(â€˜.auth-form-bodyâ€™, { â€˜#login_fieldâ€™: â€˜qileiloveâ€™, â€˜#passwordâ€™: â€˜*â€˜ }); this.click(â€˜input.btn.btn-primary.btn-blockâ€™); // Click the login button instead of submitting the form this.echo(â€˜Browser Cookie: â€˜ + this.evaluate(function() { return document.cookie; })); casper.run(function() { var cookies = JSON.stringify((this.page.cookies)); fs.write(&apos;cookie.txt&apos;, cookies, &apos;w&apos;); this.exit(); }); casper.wait(3000); // Wait for ajax form submission casper.then(function() { this.capture(&apos;logged-in.png&apos;) }); casper.run(); 123456## visual regression-testbackstopjsBackstopJS æ˜¯è‡ªåŠ¨ CSS å›å½’æµ‹è¯•å·¥å…·ï¼Œå®ƒé€šè¿‡æ¯”è¾ƒä¸åŒè§†çª—å¤§å°çš„ DOM æˆªå›¾æ¥å›åº”ä½ æ‰€æµ‹è¯•çš„ Web ç•Œé¢ã€‚å¯ä»¥è¯†åˆ«å‡ºä¸¤ä¸ªä¸åŒè§†è§’ä¸Šçš„ç½‘é¡µå·®å¼‚ã€‚ &quot;scenarios&quot;: [ { &quot;label&quot;: &quot;My Local Test&quot;, &quot;url&quot;: &quot;../../index.html&quot;, &quot;hideSelectors&quot;: [], &quot;removeSelectors&quot;: [ ], &quot;selectors&quot;: [ &quot;nav&quot;, &quot;.jumbotron&quot;, &quot;body .col-md-4:nth-of-type(1)&quot;, &quot;body .col-md-4:nth-of-type(2)&quot;, &quot;body .col-md-4:nth-of-type(3)&quot;, &quot;footer&quot; ], &quot;readyEvent&quot;: null, &quot;delay&quot;: 0, &quot;onReadyScript&quot;: null, &quot;onBeforeScript&quot;: null } ], 12345678910111213141516 viff å’±ä»¬å…¬å¸çš„ åŸºäºseleniumçš„ï¼Œå·²ç»åºŸäº†ã€‚ã€‚ã€‚ 2å¹´å¤šæ²¡æ›´æ–°äº† success Succss is a command line tool built to find image-based differences between website updates. Succss relies on npm and is installed globally. https://github.com/B2F/Succss ä¹Ÿä¸€å¹´æ²¡æ›´æ–°äº†.. phantomcssPhantomCSS æ˜¯ CSS å›å½’æµ‹è¯•å·¥å…·ã€‚ä¸€ä¸ªé€šè¿‡ PhantomJS æˆ–è€… SlimerJS å’Œ Resemble.js è¿›è¡Œè‡ªåŠ¨è§†è§‰å›å½’æµ‹è¯•çš„ CasperJS æ¨¡å—ã€‚ casper. start( url ). then(function(){ // do something casper.click(&apos;button#open-dialog&apos;); // Take a screenshot of the UI component phantomcss.screenshot(&apos;#the-dialog&apos;, &apos;a screenshot of my dialog&apos;); }); 1234567891011121314151617181920212223242526##JavaScriptéªŒè¯å·¥å…·eslintjshintjslintä¸‰è€…æ¯”è¾ƒçš„æ–‡ç« https://www.sitepoint.com/comparison-javascript-linting-tools/## å‰ç«¯mockå·¥å…·Mock.js Mockjsæ˜¯ä¸ªèƒ½å¤Ÿæ‹¦æˆªé¡µé¢ajaxè¯·æ±‚å¹¶æ¨¡æ‹Ÿè¿”å›æ•°æ®çš„å°å·¥å…·ï¼Œå€ŸåŠ©Mockjsï¼Œå‰ç«¯å¼€å‘ä¸­åœ¨åå°æµ‹è¯•æ¥å£è¿˜æ²¡æœ‰ç»™çš„æ—¶å€™å°±å¯ä»¥è‡ªå·±æ‹¦æˆªè¯·æ±‚æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæ„‰å¿«çš„å¼€å‘äº†ï¼Œæ‰€ä»¥åªè¦åˆ¶å®šå¥½äº†åè®®ï¼Œå‰åç«¯åˆ†ç¦»å¼€å‘çš„æˆæœ¬å¯ä»¥é™åˆ°åŸºæœ¬ä¸º0ï¼Œä¹Ÿä¸éœ€è¦è”è°ƒå·¥å…·äº†ã€‚sinon.jsä¸ºJavascriptæä¾›ç‹¬ç«‹çš„spiesï¼Œstubså’Œmocksã€‚æ²¡æœ‰ä»»ä½•ä¾èµ–ï¼Œå¯ä»¥ä¸ä»»ä½•å•å…ƒæµ‹è¯•æ¡†æ¶ååŒå·¥ä½œã€‚## apiæµ‹è¯•å·¥å…·SuperTeståŸºäºSuperAgent ï¼Œæä¾›å¯¹HTTPæµ‹è¯•çš„é«˜åº¦æŠ½è±¡.èƒ½åµŒå…¥å„ç±»æµ‹è¯•æ¡†æ¶ï¼Œæä¾›è¯­ä¹‰è‰¯å¥½çš„æ–­è¨€. var app = require(&apos;../app&apos;); var request = require(&apos;supertest&apos;); describe(&apos;router testing&apos;, function () { it(&apos;site root response&apos;, function (done) { request(app) .get(&apos;/&apos;) .expect(&apos;Content-Type&apos;, &apos;text/html; charset=utf-8&apos;) .expect(200) .end(function(err, res){ if (err) throw err; done(); }); }); ```åˆ©ç”¨Mocha + Chai + SuperTestå°±å¯ä»¥æ­å»ºä¸€å¥— å‰ç«¯restï¼apiæµ‹è¯•æ¡†æ¶","categories":[],"tags":[{"name":"å‰ç«¯æµ‹è¯•","slug":"å‰ç«¯æµ‹è¯•","permalink":"http://yoursite.com/tags/å‰ç«¯æµ‹è¯•/"}],"keywords":[]},{"title":"appiumå¹¶å‘æµ‹è¯•","slug":"appium","date":"2016-05-05T05:53:59.000Z","updated":"2017-09-21T07:50:18.000Z","comments":true,"path":"2016/05/05/appium/","link":"","permalink":"http://yoursite.com/2016/05/05/appium/","excerpt":"","text":"appium ä»‹ç»Appium æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼Œè·¨å¹³å°çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ã€‚ å®ƒæ”¯æŒæ¨¡æ‹Ÿå™¨ï¼ˆiOSï¼ŒFirefoxOSï¼ŒAndroidï¼‰å’ŒçœŸæœºï¼ˆiOSï¼Œ Androidï¼Œ FirefoxOSï¼‰ä¸Šçš„åŸç”Ÿåº”ç”¨ï¼Œæ··åˆåº”ç”¨å’Œç§»åŠ¨ web åº”ç”¨ã€‚ appium å·¥ä½œåŸç† Androidåœ¨Androidç«¯ï¼ŒappiumåŸºäºWebDriveråè®®ï¼Œåˆ©ç”¨Bootstrap.jarï¼Œæœ€åé€šè¿‡è°ƒâ½¤ç”¨UiAutomatorçš„å‘½ä»¤ï¼Œå®ç°Appçš„è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚ UiAutomatoræµ‹è¯•æ¡†æ¶æ˜¯Android SDKè‡ªå¸¦çš„App UIè‡ªåŠ¨åŒ–æµ‹è¯•Javaåº“ã€‚ å¦å¤–ç”±äºUiAutomatorå¯¹H5çš„æ”¯æŒæœ‰é™ï¼Œappiumå¼•å…¥äº†chromedriverä»¥åŠsafaridriverç­‰æ¥å®ç°åŸºäºH5çš„è‡ªåŠ¨åŒ–ã€‚ appium åœ¨androidç«¯å·¥ä½œæµ clientç«¯ä¹Ÿå°±æ˜¯æˆ‘ä»¬ test scriptæ˜¯æˆ‘ä»¬çš„webdriveræµ‹è¯•è„šæœ¬ã€‚ ä¸­é—´æ˜¯èµ·çš„Appiumçš„æœåŠ¡ï¼ŒAppiumåœ¨æœåŠ¡ç«¯èµ·äº†ä¸€ä¸ªServerï¼ˆ4723ç«¯å£ï¼‰ï¼Œè·ŸseleniumWebdriveræµ‹è¯•æ¡†æ¶ç±»ä¼¼ï¼Œ Appiumâ½€æŒæ ‡å‡†çš„WebDriver JSONWireProtocolã€‚åœ¨è¿™é‡Œæä¾›å®ƒæä¾›äº†ä¸€å¥—RESTçš„æ¥å£,Appium Serveræ¥æ”¶web driver clientæ ‡å‡†restè¯·æ±‚ï¼Œè§£æè¯·æ±‚å†…å®¹ï¼Œè°ƒâ½¤ç”¨å¯¹åº”çš„æ¡†æ¶å“åº”æ“ä½œã€‚ appium serverä¼šæŠŠè¯·æ±‚è½¬å‘ç»™ä¸­é—´ä»¶Bootstrap.jar ï¼Œå®ƒæ˜¯ç”¨javaå†™çš„ï¼Œå®‰è£…åœ¨æ‰‹æœºä¸Š.Bootstrapç›‘å¬4724ç«¯å£å¹¶æ¥æ”¶appium çš„å‘½ä»¤ï¼Œæœ€ç»ˆé€šè¿‡è°ƒâ½¤ç”¨UiAutomatorçš„å‘½ä»¤æ¥å®ç°ã€‚ æœ€åBootstrapå°†æ‰§è¡Œçš„ç»“æœè¿”å›ç»™appium serverã€‚ appium serverå†å°†ç»“æœè¿”å›ç»™ appium clientã€‚ iosåœ¨IOSç«¯ï¼ŒappiumåŒæ ·ä½¿â½¤WebDriverçš„ä¸€å¥—åè®®ã€‚ ä¸Androidç«¯æµ‹è¯•æ¡†æ¶ä¸åŒçš„æ˜¯ï¼Œappium ioså°è£…äº†appleçš„ Instrumentsæ¡†æ¶ï¼Œä¸»è¦ç”¨äº†Instrumenté‡Œçš„UI Automationï¼ˆAppleçš„â¾ƒè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼‰ï¼Œç„¶ååœ¨è®¾å¤‡ä¸­æ³¨â¼Šå…¥bootstrap.jsè¿›â¾è¡Œç›‘å¬ã€‚ appium åœ¨iosç«¯å·¥ä½œæµ clientç«¯ ä¾ç„¶æ˜¯ test scriptæ˜¯æˆ‘ä»¬çš„webdriveræµ‹è¯•è„šæœ¬ã€‚ ä¸­é—´æ˜¯èµ·çš„Appiumçš„æœåŠ¡ï¼ŒAppiumåœ¨æœåŠ¡ç«¯èµ·äº†ä¸€ä¸ªServerï¼ˆ4723ç«¯å£ï¼‰ï¼Œè·ŸseleniumWebdriveræµ‹è¯•æ¡†æ¶ç±»ä¼¼ï¼Œ Appiumâ½€æŒæ ‡å‡†çš„WebDriver JSONWireProtocolã€‚åœ¨è¿™é‡Œæä¾›å®ƒæä¾›äº†ä¸€å¥—RESTçš„æ¥å£,Appium Serveræ¥æ”¶web driver clientæ ‡å‡†restè¯·æ±‚ï¼Œè§£æè¯·æ±‚å†…å®¹ï¼Œè°ƒâ½¤ç”¨å¯¹åº”çš„æ¡†æ¶å“åº”æ“ä½œã€‚ appium serverè°ƒç”¨instruments.js å¯åŠ¨â¼€ä¸€ä¸ªsocket serverï¼ŒåŒæ—¶åˆ†å‡ºä¸€ä¸ªâ¼¦å­è¿›ç¨‹è¿â¾instruments.appï¼Œå°†bootstrap.jsï¼ˆä¸€ä¸ªUIAutomationè„šæœ¬ï¼‰æ³¨â¼Šå…¥åˆ°deviceâ½¤äºå’Œå¤–ç•Œè¿›è¡Œäº¤äº’ æœ€åBootstrap.jså°†æ‰§è¡Œçš„ç»“æœè¿”å›ç»™appium server appium serverå†å°†ç»“æœè¿”å›ç»™ appium clientã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°androidä¸iosåŒºåˆ«åœ¨äºappium å°†è¯·æ±‚è½¬å‘åˆ°bootstrap.jsæˆ–è€…bootstrap.jar.ç„¶åç”±bootstrap é©±åŠ¨UIAutomationå’ŒUiAutomatorå»devicesä¸Šå®Œæˆå…·ä½“çš„åŠ¨ä½œã€‚ appium å¹¶å‘ å…³äºappiumå¹¶å‘ï¼Œæˆ‘å°†ä¹‹åˆ†ä¸º2ç±»ï¼Œç¬¬ä¸€ç±»å•æœºå¹¶å‘ã€‚ç¬¬äºŒç±»åŸºäºselenium grid å¤šèŠ‚ç‚¹å¹¶å‘æµ‹è¯•,ä¹Ÿå¯ç§°ä¹‹ä¸ºäº‘æµ‹ã€‚ appium å•æœºå¹¶å‘Androidå¹¶å‘æµ‹è¯•Appiumæä¾›äº†åœ¨ä¸€å°è®¾å¤‡ä¸Šå¯åŠ¨å¤šä¸ªAndroidä¼šè¯çš„æ–¹æ¡ˆã€‚ appium -p 4492 -bp 2251 -U 32456 å¯åŠ¨å¤šä¸ªAndroidä¼šè¯çš„é‡è¦æŒ‡ä»¤åŒ…æ‹¬ï¼š æŒ‡ä»¤ åŠŸèƒ½ -p Appiumçš„ä¸»è¦ç«¯å£ -U è®¾å¤‡id -bp Appium bootstrapç«¯å£ â€“chromedriver-port chromedriverç«¯å£ï¼ˆå½“ä½¿ç”¨äº†webviewsæˆ–è€…chromeï¼‰ â€“selendroid-port selendroidç«¯å£ï¼ˆå½“ä½¿ç”¨äº†selendroidï¼‰ iOSå¹¶å‘æµ‹è¯• ä¸å¹¸çš„æ˜¯ï¼ŒIOSä¸èƒ½è¿›è¡Œæœ¬åœ°å¹¶å‘æµ‹è¯•ã€‚è·ŸAndroidä¸ä¸€æ ·ï¼ŒIOSåœ¨åŒä¸€æ—¶é—´åªèƒ½å¯åŠ¨ä¸€ä¸ªç‰ˆæœ¬çš„æ¨¡æ‹Ÿå™¨æ¥è¿è¡Œå¤šä¸ªæµ‹è¯•ã€‚ æ€»ç»“:å•æœºå¹¶å‘ç›®å‰åªèƒ½åœ¨androidå®ç°ï¼Œä¸”å¿…é¡»å¯åŠ¨nä¸ªappium server å¯¹åº”ä¸åŒdevicesï¼Œè¿™é‡Œdeviceså¯ä»¥æ˜¯çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨ã€‚ä½†æ˜¯å¿…é¡»ä¿è¯ç«¯å£åæ²¡æœ‰é‡å¤ä½¿ç”¨ã€‚æ¥ä¸‹æ¥å·¥ä½œå°±æ˜¯åˆ©ç”¨æµ‹è¯•æ¡†æ¶(testng,jasmine,rspec,cucumberç­‰)å°†æµ‹è¯•åˆ†å‘åˆ°ä¸åŒappium serverä¸Šã€‚ ä»£ç ç¤ºä¾‹ github ä»£ç è§£æï¼š é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹ä¸‹ä»£ç ä¸­çš„AppiumParallelTestè¿™ä¸ªç±»ï¼Œä»–ä»¬å…ˆåˆ¤æ–­æ“ä½œç³»ç»Ÿï¼Œå¹¶è·å–æ“ä½œç³»ç»Ÿä¸Šè¿æ¥çš„devicesã€‚åˆ©ç”¨AndroidDeviceConfiguration.java ä¸ IOSDeviceConfiguration.java ä¸­çš„getIOSUDIDï¼ŒgetDevicesæ–¹æ³•åˆ†åˆ«è·å–çœŸæœºä¸æ¨¡æ‹Ÿå™¨çš„id. ç„¶ååˆ©ç”¨startAppiumServeræ–¹æ³•å¯åŠ¨appium server, åˆ©ç”¨appiumServerForAndroid()æˆ–è€…appiumServerForIOS(). aa appium grid åˆ†å¸ƒå¼å¹¶å‘ start selenium grid sever 1java -jar selenium-server-standalone-2.47.1.jar -port 4444 -role hub -hub http://192.168.199.140:4444/grid/registe Registered appium server as the grid node 1appium --nodeconfig appium_node_S3.json -p 4823 -bp 3356 -U \"192.168.99.104:5555\" --chromedriver-port 4738 Configure the test script,run the tests 123456789@BeforeTest @Parameters(&#123;\"deviceName\"&#125;) public void setUp(String deviceName) throws Exception &#123; capabilities.setCapability(\"deviceName\",deviceName); capabilities.setCapability(\"platformVersion\", \"5.0\"); capabilities.setCapability(\"app\", getApp(\"ContactManager.apk\")); setUpAndroidDriver(); &#125; GRID NODE CONFIGURATION EXAMPLE JSON FILE12345678910111213141516171819202122232425&#123; \"capabilities\": [ &#123; \"deviceName\": \"192.168.56.101:5555\", \"browserName\": \"&lt;e.g._iPhone5_or_iPad4&gt;\", \"version\":\"&lt;version_of_iOS_e.g._7.1&gt;\", \"maxInstances\": 1, \"platform\":\"&lt;platform_e.g._MAC_or_ANDROID&gt;\" &#125; ], \"configuration\": &#123; \"cleanUpCycle\":2000, \"timeout\":30000, \"proxy\": \"org.openqa.grid.selenium.proxy.DefaultRemoteProxy\", \"url\":\"http://&lt;host_name_appium_server_or_ip-address_appium_server&gt;:&lt;appium_port&gt;/wd/hub\", \"host\": &lt;host_name_appium_server_or_ip-address_appium_server&gt;, \"port\": &lt;appium_port&gt;, \"maxSession\": 1, \"register\": true, \"registerCycle\": 5000, \"hubPort\": &lt;grid_port&gt;, \"hubHost\": \"&lt;Grid_host_name_or_grid_ip-address&gt;\" &#125;&#125; æœªå®Œå¾…ç»­","categories":[],"tags":[{"name":"appium","slug":"appium","permalink":"http://yoursite.com/tags/appium/"},{"name":"automation","slug":"automation","permalink":"http://yoursite.com/tags/automation/"}],"keywords":[]},{"title":"å‰ç«¯æ€§èƒ½åˆ†æä¼˜åŒ–","slug":"å‰ç«¯æ€§èƒ½åˆ†æä¼˜åŒ–","date":"2016-02-23T13:05:28.000Z","updated":"2017-09-21T07:40:39.000Z","comments":true,"path":"2016/02/23/å‰ç«¯æ€§èƒ½åˆ†æä¼˜åŒ–/","link":"","permalink":"http://yoursite.com/2016/02/23/å‰ç«¯æ€§èƒ½åˆ†æä¼˜åŒ–/","excerpt":"","text":"åˆ†æé—®é¢˜æˆ‘ä»¬å¹¶ä¸ä»…ä»…å…³æ³¨é¡µé¢èµ„æºçš„è§£æå’Œå±•ç¤ºå“åº”æ—¶é—´ï¼Œè€Œæ˜¯è¦å…³æ³¨æ€»æ—¶é—´ï¼›æˆ‘ä»¬è¿›è¡Œwebå‰ç«¯æ€§èƒ½æµ‹è¯•çš„ç›®çš„æ˜¯è®¡ç®—å‡ºåŒ…å«é¡µé¢æ¸²æŸ“ã€ç½‘ç»œä¼ è¾“ä»¥åŠæœåŠ¡å™¨ç«¯è§£æç­‰ç»¼åˆå› ç´ åœ¨å†…çš„åŠ è½½æ—¶é—´ç­‰æŒ‡æ ‡ï¼Œå¯¹è¯¥é¡µé¢æ€§èƒ½è¿›è¡Œè¯„ä¼°åˆ†æï¼Œæ‰¾å‡ºå½±å“æ€§èƒ½çš„ä¸»è¦å› ç´ å’Œç“¶é¢ˆï¼Œå¹¶åœ¨æ­¤ç»“æœçš„åŸºç¡€ä¸Šï¼Œç»™å‡ºä¸€å®šçš„ä¼˜åŒ–å»ºè®®å’Œè§£å†³æ–¹æ¡ˆï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚ æ ¹æ®é›…è™å›¢é˜Ÿç»éªŒï¼šç½‘ç«™é¡µé¢æ€§èƒ½ä¼˜åŒ–çš„34æ¡é»„é‡‘å®ˆåˆ™ï¼Œæˆ‘ä»¬é€æ¡åˆ†æã€‚ æ€§èƒ½é»„é‡‘æ³•åˆ™ åªæœ‰10%-20%çš„æœ€ç»ˆç”¨æˆ·å“åº”æ—¶é—´èŠ±åœ¨æ¥æ”¶è¯·æ±‚çš„HTMLæ–‡æ¡£ä¸Šï¼Œå‰©ä¸‹çš„80%-90%æ—¶é—´èŠ±åœ¨HTMLæ–‡æ¡£æ‰€å¼•ç”¨çš„æ‰€æœ‰ç»„ä»¶(å›¾ç‰‡ï¼Œscriptï¼Œcssï¼Œflashç­‰ç­‰)è¿›è¡Œçš„HTTPè¯·æ±‚ä¸Šã€‚ å°½é‡å‡å°‘HTTPè¯·æ±‚æ¬¡æ•° åˆå¹¶æ–‡ä»¶. ä¾‹å¦‚å°†é¡¹ç›®ä¸­ç”¨çš„èµ„æºæ–‡ä»¶åˆå¹¶ã€‚æ‰€æœ‰çš„CSSæ–‡ä»¶éƒ½æ”¾å…¥ä¸€ä¸ªæ ·å¼è¡¨ä¸­.æˆ–è€…å°†jsæ–‡ä»¶åˆå¹¶å‹ç¼© åˆ©ç”¨gulp,grunt,webpackç­‰æ„å»ºå·¥å…·å°†é¡¹ç›®èµ„æºæ–‡ä»¶æ•´åˆ åˆ©ç”¨CSS Sprites å‡å°‘å›¾åƒè¯·æ±‚. é€šè¿‡ä½¿ç”¨åˆå¹¶å›¾ç‰‡ï¼Œé€šè¿‡æŒ‡å®šcssçš„backgroud-imageå’Œbackgroud-positionæ¥æ˜¾ç¤ºå…ƒç´ ã€‚ å¯ç”¨æµè§ˆå™¨ç¼“å­˜ è¦åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜å­˜å‚¨å¯ç¼“å­˜çš„èµ„æº åœ¨HTTPæ ‡å¤´ä¸­ä¸ºé™æ€èµ„æºè®¾ç½®æœ‰æ•ˆæœŸæˆ–æœ€é•¿å­˜åœ¨æ—¶é—´ï¼Œå¯æŒ‡ç¤ºæµè§ˆå™¨ä»æœ¬åœ°ç£ç›˜ä¸­åŠ è½½ä»¥å‰ä¸‹è½½çš„èµ„æºè€Œä¸æ˜¯ä»ç½‘ç»œä¸­åŠ è½½ã€‚ å‡å°‘DNSæŸ¥æ‰¾ DNSç¼“å­˜ å½“å®¢æˆ·ç«¯çš„DNSç¼“å­˜ä¸ºç©ºæ—¶ï¼ŒDNSæŸ¥æ‰¾çš„æ•°é‡ä¸Webé¡µé¢ä¸­å”¯ä¸€ä¸»æœºåçš„æ•°é‡ç›¸ç­‰ã€‚å‡å°‘å”¯ä¸€ä¸»æœºåçš„æ•°é‡å°±å¯ä»¥å‡å°‘DNSæŸ¥æ‰¾çš„æ•°é‡ã€‚ ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ é¡µé¢é™æ€åŒ–,å–å†³äºå‘å¸ƒç³»ç»Ÿ æŒ‰é¡µé¢å†…å®¹åˆ’åˆ†åŸŸåï¼Œåœ¨åˆé€‚çš„èµ„æºæœåŠ¡å™¨ä¸Šå­˜æ”¾æ–‡ä»¶ é¿å…404é”™è¯¯ é¿å…å†…éƒ¨æ— æ•ˆçš„é“¾æ¥ é¿å…é‡å®šå‘ å‹ç¼©ç»„ä»¶ ç²¾ç®€Javascriptå’ŒCss å°½é‡ç¼©å‡é¡µé¢å¤§å° é¡µé¢å¿…é¡»å°äº150K(ä¸å«å›¾ç‰‡ï¼‰ a) é™æ€æ–‡ä»¶æ˜¯å¦gzip b) å›¾ç‰‡æ˜¯å¦å‹ç¼©ä¼˜åŒ–è¿‡ é¢„å¤„ç† æµè§ˆå™¨ç©ºé—²æ—¶è¯·æ±‚å°†æ¥å¯èƒ½ä¼šç”¨åˆ°çš„é¡µé¢å†…å®¹ æ— æ¡ä»¶åŠ è½½ï¼šè§¦å‘onloadäº‹ä»¶æ—¶ï¼Œç›´æ¥åŠ è½½é¢å¤–çš„é¡µé¢å†…å®¹ æœ‰é¢„æœŸçš„åŠ è½½ï¼šè½½å…¥é‡æ–°è®¾è®¡è¿‡çš„é¡µé¢æ—¶ä½¿ç”¨é¢„åŠ è½½ã€‚ ç§»é™¤é‡å¤è„šæœ¬ ä½¿iframeçš„æ•°é‡æœ€å° å¼‚æ­¥åŠ è½½ js å¼€å‘è§„èŒƒ ä»£ç é€»è¾‘åˆ†å±‚ é¿å…å…¨å±€å˜é‡ ä¾¿äºå¤šäººåä½œå¼€å‘ å„éƒ¨åˆ†ä»£ç æ¨¡å—åŒ–ï¼Œå¯ä»¥æŒ‰éœ€åŠ è½½ åˆ©ç”¨requirejså’Œseajsç­‰æ¨¡å—åŒ–å·¥å…·åŠ è½½ ä¿æŒå…¨å±€å˜é‡çš„æ¸…æ´ å¯è¿›è¡Œå•å…ƒæµ‹è¯• å‚è€ƒ yahooå‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—ä¸­æ–‡ç‰ˆ yahooå‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—","categories":[],"tags":[{"name":"æ€§èƒ½æµ‹è¯•","slug":"æ€§èƒ½æµ‹è¯•","permalink":"http://yoursite.com/tags/æ€§èƒ½æµ‹è¯•/"}],"keywords":[]},{"title":"å‰ç«¯æ€§èƒ½æµ‹è¯•ä¹‹åˆ†æç¯‡","slug":"å‰ç«¯æ€§èƒ½æµ‹è¯•ä¹‹åˆ†æç¯‡","date":"2016-02-23T03:31:51.000Z","updated":"2017-09-21T07:40:48.000Z","comments":true,"path":"2016/02/23/å‰ç«¯æ€§èƒ½æµ‹è¯•ä¹‹åˆ†æç¯‡/","link":"","permalink":"http://yoursite.com/2016/02/23/å‰ç«¯æ€§èƒ½æµ‹è¯•ä¹‹åˆ†æç¯‡/","excerpt":"","text":"å¼•è¨€å‰ä¸€ç« ï¼Œæˆ‘ä»¬è®²äº†browserçš„å·¥ä½œåŸç†,é‚£ä¹ˆæ€ä¹ˆæ ·æ‰èƒ½è®©äº†è§£æ•´ä¸ªä¸»ç«™å‰ç«¯çš„æ€§èƒ½å‘¢ï¼Ÿç›‘æ§ï¼ å¯¹ï¼Œæ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å„ç§å·¥ä½œå¯¹æˆ‘ä»¬çš„websiteè¿›è¡Œå®æ—¶çš„ç›‘æ§,ç›®å‰ç›‘æ§çš„æ–¹å¼æœ‰ä¸¤ç§ã€‚ ç±»å‹ ä¼˜ç‚¹ ç¼ºç‚¹ ç¤ºä¾‹ éä¾µå…¥å¼ æŒ‡æ ‡é½å…¨ã€å®¢æˆ·ç«¯ä¸»åŠ¨ç›‘æµ‹ã€ç«å“ç›‘æ§ æ— æ³•çŸ¥é“æ€§èƒ½å½±å“ç”¨æˆ·æ•°ã€é‡‡æ ·å°‘å®¹æ˜“å¤±çœŸã€æ— æ³•ç›‘æ§å¤æ‚åº”ç”¨ä¸ç»†åˆ†åŠŸèƒ½ Pagespeedã€yslowã€PhantomJSã€webpagetestã€sitespeedio ä¾µå…¥å¼ çœŸå®æµ·é‡ç”¨æˆ·æ•°æ®ã€èƒ½ç›‘æ§å¤æ‚åº”ç”¨ä¸ä¸šåŠ¡åŠŸèƒ½ã€ç”¨æˆ·ç‚¹å‡»ä¸åŒºåŸŸæ¸²æŸ“ éœ€æ’å…¥è„šæœ¬ç»Ÿè®¡ã€ç½‘ç»œæŒ‡æ ‡ä¸å…¨ã€æ— æ³•ç›‘æ§ç«å“ new relicã€Google analyseã€oneapm å‰ç«¯æ€§èƒ½åˆ†æå·¥å…·é‚£æœ‰å“ªäº›ç®€æ˜“ä¾¿åˆ©çš„å·¥å…·èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„è¿›è¡Œæµ‹è¯•å‘¢ï¼Ÿokï¼Œå·¥å…·é›†é”¦æ¥ä¸´ã€‚ æµè§ˆå™¨æ’ä»¶ç±» FireBugå®ƒå¯ä»¥å¯¹é¡µé¢è¿›è¡Œè°ƒè¯•ï¼Œå¯ä»¥è®°å½•æ‰€æœ‰ç½‘é¡µçš„è®¿é—®è€—æ—¶ï¼Œä¸‹è½½çš„èµ„æºç­‰ Page Speed Yslow page performance performance analyse åœ¨çº¿ç½‘ç«™ç±» WebPageTest showslow sitespeed.io å¹³å°ç±»æ”¶è´¹æœåŠ¡å¹³å° google_analytics new relic oneapm å¼€æºå¹³å° InfluxDB + Grafanaå‚è€ƒæ–‡ç«  InfluxDB + Grafana å¿«é€Ÿæ­å»ºè‡ªå·±çš„ NewRelicï¼Œåˆ†æåº”ç”¨è¿è¡Œæƒ…å†µ OBIEE Monitoring and Diagnostics with InfluxDB and Grafana Nagios Zabbix","categories":[],"tags":[{"name":"æ€§èƒ½æµ‹è¯•","slug":"æ€§èƒ½æµ‹è¯•","permalink":"http://yoursite.com/tags/æ€§èƒ½æµ‹è¯•/"}],"keywords":[]},{"title":"å‰ç«¯æ€§èƒ½æµ‹è¯•åˆ†æ","slug":"å‰ç«¯æ€§èƒ½æµ‹è¯•åˆ†æ_åŸç†ç¯‡","date":"2016-02-23T02:12:40.000Z","updated":"2017-09-21T07:40:59.000Z","comments":true,"path":"2016/02/23/å‰ç«¯æ€§èƒ½æµ‹è¯•åˆ†æ_åŸç†ç¯‡/","link":"","permalink":"http://yoursite.com/2016/02/23/å‰ç«¯æ€§èƒ½æµ‹è¯•åˆ†æ_åŸç†ç¯‡/","excerpt":"","text":"åŸç†ç¯‡browserå·¥ä½œåŸç†webæµè§ˆå™¨ä¸webæœåŠ¡å™¨ä¹‹é—´é€šè¿‡HTTPåè®®è¿›è¡Œé€šä¿¡çš„è¿‡ç¨‹ã€‚æ‰€ä»¥ï¼Œweb C/Sä¹‹é—´æ¡æ‰‹çš„åè®®å°±æ˜¯HTTPåè®®ã€‚ é¡µé¢çš„è¯·æ±‚è¿‡ç¨‹è¯·æ±‚é˜¶æ®µ browser send url request é€’å½’å¯»æ‰¾DNS server è¿æ¥ç›®æ ‡IPå¹¶å»ºç«‹TCPè¿æ¥ å‘ç›®æ ‡æœåŠ¡å™¨å‘é€httpè¯·æ±‚ webæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚åå¤„ç† webæœåŠ¡å™¨è¿”å›ç›¸åº”çš„ç»“æœã€æ— æ•ˆã€é‡å®šå‘ã€æ­£ç¡®é¡µé¢ç­‰ã€‘ æµè§ˆå™¨æ¥æ”¶è¿”å›çš„httpå†…å®¹ å‰ç«¯è§£æé˜¶æ®µæ¸²æŸ“å¼•æ“â€”é€šè¿‡ç½‘ç»œè·å¾—æ‰€è¯·æ±‚æ–‡æ¡£çš„å†…å®¹, è§£æhtmlä»¥æ„å»ºdomæ ‘-&gt;æ„å»ºrenderæ ‘-&gt;å¸ƒå±€renderæ ‘-&gt;ç»˜åˆ¶renderæ ‘ å¼€å§‹è§£æhtmlæ–‡ä»¶ï¼Œå½“ç„¶æ˜¯è‡ªä¸Šè€Œä¸‹ï¼Œå…ˆæ˜¯å¤´éƒ¨ï¼Œåæ˜¯body å½“è§£æåˆ°å¤´éƒ¨csså¤–éƒ¨é“¾æ¥æ—¶ï¼ŒåŒæ­¥å»ä¸‹è½½ï¼Œå¦‚æœé‡åˆ°å¤–éƒ¨jsé“¾æ¥ä¹Ÿæ˜¯ä¸‹è½½ã€ä¸è¿‡jsé“¾æ¥ä¸å»ºè®®æ”¾åœ¨å¤´éƒ¨ï¼Œå› ä¸ºè€½è¯¯é¡µé¢ç¬¬ä¸€å±•ç°æ—¶é—´ã€‘ æ¥ç€è§£æbodyéƒ¨åˆ†ï¼Œè¾¹è§£æè¾¹å¼€å§‹ç”Ÿæˆå¯¹åº”çš„DOMæ ‘ï¼ŒåŒæ—¶ç­‰å¾…cssæ–‡ä»¶ä¸‹è½½ ä¸€æ—¦cssæ–‡ä»¶ä¸‹è½½å®Œæ¯•ï¼Œé‚£ä¹ˆå°±åŒæ­¥å»ç”¨å·²ç»ç”Ÿæˆçš„DOMèŠ‚ç‚¹+CSSå»ç”Ÿæˆæ¸²æŸ“æ ‘ æ¸²æŸ“æ ‘ä¸€æ—¦æœ‰ç»“æ„æ¨¡å‹äº†ï¼Œæ¥ç€å°±ä¼šåŒæ­¥å»è®¡ç®—æ¸²æŸ“æ ‘èŠ‚ç‚¹çš„å¸ƒå±€ä½ç½® ä¸€æ—¦è®¡ç®—å‡ºæ¥æ¸²æŸ“çš„åæ ‡åï¼ŒåˆåŒæ­¥å»å¼€å§‹æ¸²æŸ“ 4-6æ­¥è¿›è¡Œè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°å›¾ç‰‡åˆ™è·³è¿‡å»æ¸²æŸ“ä¸‹é¢å†…å®¹ï¼Œç­‰å¾…å›¾ç‰‡ä¸‹è½½æˆåŠŸåä¼šè¿”å›æ¥åœ¨æ¸²æŸ“åŸæ¥å›¾ç‰‡çš„ä½ç½® åŒ7æ­¥ï¼Œå¦‚æœæ¸²æŸ“è¿‡ç¨‹ä¸­å‡ºç°jsä»£ç è°ƒæ•´DOMæ ‘ç»“æ„çš„æƒ…å†µï¼Œæš‚åœå…¶å®ƒæ¸²æŸ“ï¼Œå†æ¬¡é‡æ–°æ¥è¿‡ï¼Œä»ä¿®æ”¹DOMé‚£æ­¥å¼€å§‹ æœ€ç»ˆæ‰€æœ‰èŠ‚ç‚¹å’Œèµ„æºéƒ½ä¼šæ¸²æŸ“å®Œæˆ åˆ†æç»“æŸ æ¸²æŸ“å®Œæˆåå¼€å§‹pageçš„onloadäº‹ä»¶ æ•´ä¸ªé¡µé¢loadå®Œæˆ å‚è€ƒ æµè§ˆå™¨å·¥ä½œåŸç†","categories":[],"tags":[{"name":"æ€§èƒ½æµ‹è¯•","slug":"æ€§èƒ½æµ‹è¯•","permalink":"http://yoursite.com/tags/æ€§èƒ½æµ‹è¯•/"}],"keywords":[]},{"title":"å‰ç«¯æµ‹è¯•è¿›åŒ–è®º2","slug":"å‰ç«¯æµ‹è¯•è¿›åŒ–è®º2","date":"2016-01-26T10:01:07.000Z","updated":"2017-09-21T07:41:54.000Z","comments":true,"path":"2016/01/26/å‰ç«¯æµ‹è¯•è¿›åŒ–è®º2/","link":"","permalink":"http://yoursite.com/2016/01/26/å‰ç«¯æµ‹è¯•è¿›åŒ–è®º2/","excerpt":"","text":"å‰ç«¯æµ‹è¯•è¿›åŒ–è®º2============= è¯´å®Œäº†ï¼Œå‰ç«¯æŠ€æœ¯çš„å‘å±•å²ï¼Œé‚£ä¹ˆå¯¹åº”çš„å‰ç«¯æµ‹è¯•å‘å±•å²ä¹Ÿéšä¹‹å‘å±•ã€‚ çŸ³å™¨æ—¶ä»£â€”â€”çº¯æ‰‹å·¥æµ‹è¯•æ—©æœŸçš„é¡µé¢åŸºæœ¬éƒ½æ˜¯é™æ€åŒ–çš„é¡µé¢ï¼Œåªæœ‰å‡ ä¸ªé“¾æ¥æˆ–è€…å›¾ç‰‡ï¼Œé‚£ä¹ˆç›¸å¯¹æµ‹è¯•å·¥ä½œé‡ä¸å¤§ï¼Œåªéœ€è¦æˆ‘ä»¬æ‰“å¼€é¡µé¢æŸ¥çœ‹åŠ è½½æ˜¯å¦æ­£ç¡®ã€‚ é“å™¨æ—¶ä»£â€“xunitåˆ°äº†javascriptæ—¶ä»£ï¼Œéšç€å…¶ä»–è¯­è¨€xunit é£é¡å¤©ä¸‹,js ä¹Ÿå‡ºç°äº†å®ƒçš„xunit æ¡†æ¶ã€‚ Jsunitï¼Œä»¥å¾€åœ¨æµ‹è¯•jsçš„æ—¶å€™ï¼Œéƒ½æ˜¯ä»¥alertæ–¹å¼æ¥æ£€æµ‹é”™è¯¯ï¼Œå¾ˆä¸ä¸“ä¸šã€‚ 2001å¹´ jsunit å‡ºç°ï¼Œè®©jsè°ƒè¯•ç§°ä¸ºå¯èƒ½ã€‚ Jsunit ä¸»è¦å‚è€ƒjunitçš„è®¾è®¡ï¼Œåªè¦ä½ ä¼šä½¿ç”¨junit é‚£ä¹ˆjsunit å¯¹ä½ æ¥è¯´ï¼Œæ ¹æœ¬ä¸æ˜¯ä»€ä¹ˆäº‹ï¼Œå…·ä½“ä½¿ç”¨å‚è€ƒ http://llying.iteye.com/blog/258605DEMO: æµ‹è¯•ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\"&gt;&lt;HTML&gt; &lt;HEAD&gt; &lt;TITLE&gt;testHtml&lt;/TITLE&gt; &lt;/HEAD&gt;&lt;script type=\"text/javascript\" src=\"myjs.js\"&gt;&lt;/script&gt;&lt;script type=\"text/javascript\" src=\"jsunit\\app\\jsUnitCore.js\"&gt;&lt;/script&gt;&lt;script type=\"text/javascript\"&gt;&lt;!--function testAdd()&#123; var result = add(arg1,arg2); warn(\"result\", result); debug(\"result\", result); info(\"result\", result); assertEquals(6,result);&#125;function testMinus()&#123; var result = minus(arg1,arg2) assertEquals(2,result);&#125;function testMultiply()&#123; var result = multiply(arg1,arg2) assertEquals(8,result);&#125;function testDivide()&#123; var result = divide(arg1,arg2) assertEquals(\"4 divide 2 is 2\",2,result);&#125;function setUpPage()&#123; arg1 = 4; arg2 = 2; setUpPageStatus = \"complete\";&#125;function exposeTestFunctionNames()&#123; var tests = new Array(); tests[0]=\"testAdd\"; tests[1]=\"testMinus\"; tests[2]=\"testMultiply\"; return tests;&#125;//--&gt;&lt;/SCRIPT&gt; &lt;BODY&gt; &lt;/BODY&gt;&lt;/HTML&gt; æµ‹è¯•é©±åŠ¨ 123456789101112131415161718192021222324252627282930&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\"&gt;&lt;HTML&gt; &lt;HEAD&gt; &lt;TITLE&gt;suit test&lt;/TITLE&gt; &lt;/HEAD&gt;&lt;script type=\"text/javascript\" src=\"jsunit\\app\\jsUnitCore.js\"&gt;&lt;/script&gt;&lt;script type=\"text/javascript\"&gt;&lt;!--function suite()&#123; var testSuite = new top.jsUnitTestSuite(); //å¢åŠ çš„æµ‹è¯•é¡µé¢çš„è·¯å¾„æ˜¯ç›¸å¯¹äºæµ‹è¯•è¿è¡Œå™¨çš„è·¯å¾„çš„ï¼ˆtestRunner.htmlï¼‰ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºå½“å‰çš„é¡µé¢ testSuite.addTestPage(\"../mytest1.html\"); //å¥—ä»¶é‡Œè¿˜å¯ä»¥åœ¨åŒ…å«å¥—ä»¶ testSuite.addTestSuite(Suite2()); return testSuite;&#125;function Suite2() //éœ€è¦ä¸suiteå®šä¹‰åœ¨åŒä¸€ä¸ªé¡µé¢ä¸­&#123; var testSuite = new top.jsUnitTestSuite(); testSuite.addTestPage(\"../mytest2.html\"); return testSuite;&#125;//--&gt;&lt;/SCRIPT&gt; &lt;BODY&gt; &lt;/BODY&gt;&lt;/HTML&gt; http://www.jsunit.net/ å·¥ä¸šé©å‘½â€“ajaxæµè¡Œéšç€ajaxçš„æµè¡Œï¼Œjqueryæ¡†æ¶åœ¨å‰ç«¯å¼€å‘ä¸­çš„æ™®åŠï¼Œè®©å¼€å‘è€…çœ‹åˆ°äº†å‰ç«¯çš„æ–°çºªå…ƒï¼Œjquery å›¢é˜Ÿä¹Ÿä¸ºå¹¿å¤§å¼€å‘äººå‘˜å¼€å‘äº†Qunit.QUnit æ˜¯ä¸€æ¬¾å¼ºå¤§è€Œä¸”å®¹æ˜“ä½¿ç”¨çš„JavaScript æµ‹è¯•æ¡†æ¶ï¼Œå®ƒè¢«ç”¨äºjQuery ä¸å…¶æ’ä»¶çš„æµ‹è¯•ï¼ŒåŒæ—¶å®ƒä¹ŸåŒæ ·å¯ä»¥æµ‹è¯•æ™®é€šçš„JavaScript ä»£ç . TDDçš„æ—¶ä»£æ¥ä¸´ QUnitæ¡†æ¶ç‰ˆæœ¬å°†è¦è¢«æµ‹è¯•çš„ä»£ç éœ€è¦æ·»åŠ åˆ°myProject.jsä¸­ï¼Œå¹¶ä¸”ä½ çš„æµ‹è¯•ç”¨ä¾‹åº”è¯¥æ’å…¥åˆ°myTest.jsã€‚è¦è¿è¡Œè¿™äº›æµ‹è¯•ï¼Œåªéœ€åœ¨ä¸€ä¸ªæµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ªhtmlæ–‡ä»¶ã€‚ç°åœ¨éœ€è¦å†™ä¸€äº›æµ‹è¯•ç”¨ä¾‹äº†ã€‚ 12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;QUnit Test Suite&lt;/title&gt; &lt;link rel=\"stylesheet\" href=\"http://github.com/jquery/qunit/raw/master/qunit/qunit.css\" mce_href=\"http://github.com/jquery/qunit/raw/master/qunit/qunit.css\" type=\"text/css\" media=\"screen\"&gt; &lt;mce:script type=\"text/javascript\" src=\"http://github.com/jquery/qunit/raw/master/qunit/qunit.js\" mce_src=\"http://github.com/jquery/qunit/raw/master/qunit/qunit.js\"&gt;&lt;/mce:script&gt; &lt;!-- Your project file goes here --&gt; &lt;mce:script type=\"text/javascript\" src=\"myProject.js\" mce_src=\"myProject.js\"&gt;&lt;/mce:script&gt; &lt;!-- Your tests file goes here --&gt; &lt;mce:script type=\"text/javascript\" src=\"myTests.js\" mce_src=\"myTests.js\"&gt;&lt;/mce:script&gt;&lt;/head&gt;&lt;body&gt; &lt;h1 id=\"qunit-header\"&gt;QUnit Test Suite&lt;/h1&gt; &lt;h2 id=\"qunit-banner\"&gt;&lt;/h2&gt; &lt;div id=\"qunit-testrunner-toolbar\"&gt;&lt;/div&gt; &lt;h2 id=\"qunit-userAgent\"&gt;&lt;/h2&gt; &lt;ol id=\"qunit-tests\"&gt;&lt;/ol&gt;&lt;/body&gt;&lt;/html&gt; å‚è€ƒhttp://www.cnblogs.com/nuaalfm/archive/2010/02/26/1674235.htmlhttp://qunitjs.com/ ç°ä»£åŒ–æŠ€æœ¯-BBDç´§ç€angluar react ç­‰æ¡†æ¶å¤§è¡Œå…¶é“çš„åŒæ—¶ï¼Œbddä¹Ÿåœ¨å¼€å‘ä¸­å…´èµ·ï¼ŒåŸºäºbddçš„æµ‹è¯•æ¡†æ¶å¼€å§‹åœ¨å‰ç«¯å¦‚é›¨åæ˜¥ç¬‹èˆ¬å†’å‡º,jasmine,mocha,karmaéƒ½æ˜¯å…¶ä¸­çš„ä»£è¡¨ï¼Œä½†æ˜¯å„å¾—å…¶é“ï¼Œåˆ°åº•è°å¥½ï¼Œæ²¡æƒ¹èƒ½è¯´å¾—æ¸…æ¥šã€‚ä½†google åœ¨å‰ç«¯æµ‹è¯•çš„è´¡çŒ®ï¼Œç»å¯¹æ˜¯ä¸šç•Œè‰¯å¿ƒã€‚ http://jasmine.github.io/ https://karma-runner.github.io/0.13/index.html https://mochajs.org/ è¿™äº›æ¡†æ¶æœ¬äººå°±ä¸ä¸¾åˆ—å­äº†ï¼Œä¼šåœ¨ä»¥åçš„ç¯‡ç« é‡Œé¢ä¸€ä¸€ä»‹ç»ã€‚ å‰ç«¯çš„æœªæ¥æœªæ¥ï¼Œæˆ‘å¸Œæœ›æœ‰ä¸€ç§æ¡†æ¶èƒ½å¤Ÿè§£æ•‘è‹¦é€¼çš„qa,ç®€å•çš„è¯­æ³•ä¸apiï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå¤„ç†æ‰€æœ‰å‰ç«¯æ¡†æ¶è€Œä¸ç”¨è€ƒè™‘æ§ä»¶é—®é¢˜ï¼Œè‰¯å¥½çš„æ€§èƒ½ï¼Œæ”¯æŒå¹¶å‘ï¼Œè·‘uiå’Œå•å…ƒæµ‹è¯•éƒ½åœ¨ç§’çº§ï¼Œå½“ç„¶è¶Šå¿«è¶Šå¥½ï¼Œæœ€å¥½èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°uiè‡ªåŠ¨åŒ–ä¸­é¡µé¢å¯¹è±¡çš„è·¯å¾„ç­‰ç­‰ã€‚ä¹Ÿè®¸åªæ˜¯ä¸ªæ¢¦ã€‚Qa è¿˜éœ€åŠªåŠ›ã€‚","categories":[],"tags":[{"name":"front-end","slug":"front-end","permalink":"http://yoursite.com/tags/front-end/"}],"keywords":[]},{"title":"å‰ç«¯æµ‹è¯•è¿›åŒ–è®º","slug":"å‰ç«¯æµ‹è¯•è¿›åŒ–è®º","date":"2016-01-25T07:36:44.000Z","updated":"2017-09-21T07:41:09.000Z","comments":true,"path":"2016/01/25/å‰ç«¯æµ‹è¯•è¿›åŒ–è®º/","link":"","permalink":"http://yoursite.com/2016/01/25/å‰ç«¯æµ‹è¯•è¿›åŒ–è®º/","excerpt":"","text":"å‰ç«¯æµ‹è¯•è¿›åŒ–è®ºç¬¬ä¸€ç¯‡web å‘å±•å²è¿™ç¯‡ä¸»è¦æ˜¯å¸®åŠ©æˆ‘ä»¬qa äº†è§£å‰ç«¯çš„å†å²ä¸ç°çŠ¶ã€‚ æµ‹è¯•å·¥ç¨‹å¸ˆå¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½å…³æ³¨çš„æ˜¯featureæ­£ç¡®æ€§ï¼Œè€Œå¯¹äºå‰ç«¯ä»£ç çº§åˆ«çš„æµ‹è¯•åŸºæœ¬æ²¡æœ‰å…³å¿ƒè¿‡ï¼Œéšç€å„ç§å‰ç«¯æ¡†æ¶åœ¨webå’Œç§»åŠ¨ç«¯å¤§è¡Œå…¶é“ï¼Œç»½æ”¾å„ç§é«˜å¤§ä¸Šçš„åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬æ¸æ¸çš„å‘ç°å‰ç«¯ä»£ç çº§åˆ«é—®é¢˜é€æ¸æš´éœ²å‡ºæ¥ï¼Œç”šè‡³è¶…è¶Šåç«¯ä¹‹åŠ¿ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆä»¥å‰è¿™ç§ç°è±¡å‡ºç°å‘¢ï¼Ÿæˆ‘ä»¬ç°æ¥çœ‹çœ‹å‰ç«¯æŠ€æœ¯å‘å±•å²ã€‚ ##çŸ³å™¨æ—¶ä»£â€”â€”å¼€è’é˜¶æ®µ å¸¦æœ‰ç®€å•é€»è¾‘çš„ç•Œé¢æœ€æ—©æœŸçš„Webç•Œé¢åŸºæœ¬éƒ½æ˜¯åœ¨äº’è”ç½‘ä¸Šä½¿ç”¨ï¼Œè€Œä¸”åŸºæœ¬éƒ½æ˜¯é™æ€é¡µé¢å±•ç¤ºï¼Œäººä»¬æµè§ˆæŸäº›å†…å®¹ï¼Œå¡«å†™å‡ ä¸ªè¡¨å•å¹¶ä¸”æäº¤ã€‚å½“æ—¶çš„ç•Œé¢ä»¥æµè§ˆä¸ºä¸»ï¼ŒåŸºæœ¬éƒ½æ˜¯HTMLä»£ç ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„HTMLæ–‡ä»¶ï¼š123456789&lt;html&gt; &lt;head&gt; &lt;title&gt;å¼€è’æ—¶ä»£&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;é™æ€é¡µé¢&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯ä¸ªæµ‹è¯•&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; å¸¦æœ‰ç®€å•é€»è¾‘çš„ç•Œé¢æ¥ä¸‹æ¥æˆ‘ä»¬å‘ç°ä½¿ç”¨ä¸€äº›å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä¸€äº›ä¸šåŠ¡å¤„ç†ï¼Œè¿™æ—¶javascriptåˆ°æ¥äº†ï¼Œå¼€å§‹å¤§æ”¾å¼‚å½©ã€‚è¿™æ—¶çš„ä»£ç çš„ç»„ç»‡æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”CSSçš„è¿ç”¨ä¹Ÿæ˜¯æ¯”è¾ƒå°‘çš„ã€‚è­¬å¦‚ï¼šä¸‹é¢è¿™ä¸ªæ–‡æ¡£å°†å¸¦æœ‰ä¸€æ®µJavaScriptä»£ç ï¼Œç”¨äºæ‹¼æ¥ä¸¤ä¸ªè¾“å…¥æ¡†ä¸­çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¼¹å‡ºçª—å£æ˜¾ç¤ºã€‚1234567891011121314151617&lt;html&gt; &lt;head&gt; &lt;title&gt;javascriptæ—¶ä»£&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input id=\"firstNameInput\" type=\"text\" /&gt; &lt;input id=\"lastNameInput\" type=\"text\" /&gt; &lt;input type=\"button\" onclick=\"greet()\" /&gt; &lt;script language=\"JavaScript\"&gt; function greet() &#123; var firstName = document.getElementById(\"firstNameInput\").value; var lastName = document.getElementById(\"lastNameInput\").value; alert(\"Hello, \" + firstName + \".\" + lastName); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ç»“åˆäº†æœåŠ¡ç«¯æŠ€æœ¯çš„æ··åˆç¼–ç¨‹ç”±äºé™æ€ç•Œé¢ä¸èƒ½å®ç°ä¿å­˜æ•°æ®ç­‰åŠŸèƒ½ï¼Œå‡ºç°äº†å¾ˆå¤šæœåŠ¡ç«¯æŠ€æœ¯ï¼Œæ—©æœŸçš„æœ‰CGIï¼ˆCommon Gateway Interfaceï¼Œå¤šæ•°ç”¨Cè¯­è¨€æˆ–è€…Perlå®ç°çš„ï¼‰ï¼ŒASPï¼ˆä½¿ç”¨VBScriptæˆ–è€…JScriptï¼‰ï¼ŒJSPï¼ˆä½¿ç”¨Javaï¼‰ï¼ŒPHPç­‰ç­‰ï¼ŒPythonå’ŒRubyç­‰è¯­è¨€ä¹Ÿå¸¸è¢«ç”¨äºè¿™ç±»ç”¨é€”ã€‚ 1234567891011121314151617&lt;html&gt;&lt;head&gt;&lt;title&gt;Using GET Method to Read Form Data&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;center&gt;&lt;h1&gt;Using GET Method to Read Form Data&lt;/h1&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;First Name:&lt;/b&gt; &lt;%= request.getParameter(\"first_name\")%&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;b&gt;Last Name:&lt;/b&gt; &lt;%= request.getParameter(\"last_name\")%&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/html&gt; é“å™¨æ—¶ä»£â€”Ajaxå¸­å·å…¨ä¸–ç•ŒAJAXç”±äºAjaxçš„å‡ºç°ï¼Œè§„æ¨¡æ›´å¤§ï¼Œæ•ˆæœæ›´å¥½çš„Webç¨‹åºé€æ¸å‡ºç°ï¼Œåœ¨è¿™äº›ç¨‹åºä¸­ï¼ŒJavaScriptä»£ç çš„æ•°é‡è¿…é€Ÿå¢åŠ ã€‚å‡ºäºä»£ç ç»„ç»‡çš„éœ€è¦ï¼Œâ€œJavaScriptæ¡†æ¶â€è¿™ä¸ªæ¦‚å¿µé€æ­¥å½¢æˆã€‚ JavaScriptåŸºç¡€åº“â€”jqueryPrototypeæ¡†æ¶ä¸»è¦æ˜¯ä¸ºJavaScriptä»£ç æä¾›äº†ä¸€ç§ç»„ç»‡æ–¹å¼ï¼Œå¯¹ä¸€äº›åŸç”Ÿçš„JavaScriptç±»å‹æä¾›äº†ä¸€äº›æ‰©å±•ï¼Œæ¯”å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ï¼Œåˆé¢å¤–æä¾›äº†ä¸€äº›å®ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¦‚ï¼šæšä¸¾ï¼ŒHashç­‰ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯¹domæ“ä½œï¼Œäº‹ä»¶ï¼Œè¡¨å•å’ŒAjaxåšäº†ä¸€äº›å°è£…ã€‚ Mootoolsæ¡†æ¶çš„æ€è·¯è·ŸPrototypeå¾ˆæ¥è¿‘ï¼Œå®ƒå¯¹JavaScriptç±»å‹æ‰©å±•çš„æ–¹å¼åˆ«å…·ä¸€æ ¼ï¼Œæ‰€ä»¥åœ¨è¿™ç±»æ¡†æ¶ä¸­ï¼Œç»å¸¸è¢«ç§°ä½œâ€œæœ€ä¼˜é›…çš„â€å¯¹è±¡æ‰©å±•ä½“ç³»ã€‚ä»è¿™ä¸¤ä¸ªæ¡†æ¶çš„æ‰€æä¾›çš„åŠŸèƒ½æ¥çœ‹ï¼Œå®ƒä»¬çš„å®šä½æ˜¯æ ¸å¿ƒåº“ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€èˆ¬éœ€è¦é…åˆä¸€äº›å¤–å›´çš„åº“æ¥å®Œæˆã€‚ jQueryä¸è¿™ä¸¤è€…æœ‰æ‰€ä¸åŒï¼Œå®ƒç€çœ¼äºç®€åŒ–DOMç›¸å…³çš„ä»£ç ã€‚ DOMçš„é€‰æ‹© jQueryæä¾›äº†ä¸€ç³»åˆ—é€‰æ‹©å™¨ç”¨äºé€‰å–ç•Œé¢å…ƒç´ ï¼Œåœ¨å…¶ä»–ä¸€äº›æ¡†æ¶ä¸­ä¹Ÿæœ‰ç±»ä¼¼åŠŸèƒ½ï¼Œä½†æ˜¯ä¸€èˆ¬æ²¡æœ‰å®ƒçš„ç®€æ´ã€å¼ºå¤§ã€‚ 12345$(\"*\") //é€‰å–æ‰€æœ‰å…ƒç´ $(\"#lastname\") //é€‰å–idä¸ºlastnameçš„å…ƒç´ $(\".intro\") //é€‰å–æ‰€æœ‰class=\"intro\"çš„å…ƒç´ $(\"p\") //é€‰å–æ‰€æœ‰&amp;lt;p&amp;gt;å…ƒç´ $(\".intro.demo\") //é€‰å–æ‰€æœ‰ class=\"intro\"ä¸”class=\"demo\"çš„å…ƒç´  é“¾å¼è¡¨è¾¾å¼ åœ¨jQueryä¸­ï¼Œå¯ä»¥ä½¿ç”¨é“¾å¼è¡¨è¾¾å¼æ¥è¿ç»­æ“ä½œdomï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 1$(\"p.neat\").addClass(\"ohmy\").show(\"slow\"); é™¤æ­¤ä¹‹å¤–ï¼ŒjQueryè¿˜æä¾›äº†ä¸€äº›åŠ¨ç”»æ–¹é¢çš„ç‰¹æ•ˆä»£ç ï¼Œä¹Ÿæœ‰å¤§é‡çš„å¤–å›´åº“ï¼Œæ¯”å¦‚jQuery UIè¿™æ ·çš„æ§ä»¶åº“ï¼ŒjQuery mobileè¿™æ ·çš„ç§»åŠ¨å¼€å‘åº“ç­‰ç­‰ã€‚ æ¨¡å—ä»£ç åŠ è½½æ–¹å¼â€“Requirejsä»¥ä¸Šè¿™äº›æ¡†æ¶æä¾›äº†ä»£ç çš„ç»„ç»‡èƒ½åŠ›ï¼Œä½†æ˜¯æœªèƒ½æä¾›ä»£ç çš„åŠ¨æ€åŠ è½½èƒ½åŠ›ã€‚åŠ¨æ€åŠ è½½JavaScriptä¸ºä»€ä¹ˆé‡è¦å‘¢ï¼Ÿå› ä¸ºéšç€Ajaxçš„æ™®åŠï¼ŒjQueryç­‰è¾…åŠ©åº“çš„å‡ºç°ï¼ŒWebä¸Šå¯ä»¥åšå¾ˆå¤æ‚çš„åŠŸèƒ½ï¼Œå› æ­¤ï¼Œå•é¡µé¢åº”ç”¨ç¨‹åºï¼ˆSPAï¼ŒSingle Page Applicationï¼‰ä¹Ÿé€æ¸å¤šäº†èµ·æ¥ã€‚ å•ä¸ªçš„ç•Œé¢æƒ³è¦åšå¾ˆå¤šåŠŸèƒ½ï¼Œéœ€è¦å†™çš„ä»£ç æ˜¯ä¼šæ¯”è¾ƒå¤šçš„ï¼Œä½†æ˜¯ï¼Œå¹¶éæ‰€æœ‰çš„åŠŸèƒ½éƒ½éœ€è¦åœ¨ç•Œé¢åŠ è½½çš„æ—¶å€™å°±å…¨éƒ¨å¼•å…¥ï¼Œå¦‚æœèƒ½å¤Ÿåœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ è½½é‚£äº›ä»£ç ï¼Œå°±æŠŠåŠ è½½çš„å‹åŠ›åˆ†æ‹…äº†ï¼Œåœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹ï¼Œå‡ºç°äº†ä¸€äº›ç”¨äºåŠ¨æ€åŠ è½½JavaScriptçš„æ¡†æ¶ï¼Œä¹Ÿå‡ºç°äº†ä¸€äº›å®šä¹‰è¿™ç±»å¯è¢«åŠ¨æ€åŠ è½½ä»£ç çš„è§„èŒƒã€‚ åœ¨è¿™äº›æ¡†æ¶é‡Œï¼ŒçŸ¥ååº¦æ¯”è¾ƒé«˜çš„æ˜¯RequireJSï¼Œå®ƒéµå¾ªä¸€ç§ç§°ä¸ºAMDï¼ˆAsynchronous Module Definitionï¼‰çš„è§„èŒƒã€‚ä¾‹å¦‚ä¸‹åˆ—æ˜¯ä¸€ä¸ªjsä»£ç ä¿å­˜ä¸ºadder.jsæ–‡ä»¶1234567define([\"math\"], function(math) &#123; return &#123; addTen : function(x) &#123; return math.add(x, 10); &#125; &#125;;&#125;); å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¨¡å—æ—¶ï¼Œæˆ‘ä»¬åªéœ€å¼•å…¥å°±å¥½ 123456&lt;script src=\"require.js\"&gt;&lt;/script&gt;&lt;script&gt; require([\"adder\"], function(adder) &#123; //ä½¿ç”¨è¿™ä¸ªadder &#125;);&lt;/script&gt; RequireJSé™¤äº†æä¾›å¼‚æ­¥åŠ è½½æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŒæ­¥æ–¹å¼åŠ è½½æ¨¡å—ä»£ç ã€‚AMDè§„èŒƒé™¤äº†ä½¿ç”¨åœ¨å‰ç«¯æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œä¹Ÿå¯ä»¥è¿è¡Œäºnodejsç­‰æœåŠ¡ç«¯ç¯å¢ƒï¼Œnodejsçš„æ¨¡å—å°±æ˜¯åŸºäºè¿™å¥—è§„èŒƒå®šä¹‰çš„ã€‚ï¼ˆä¿®è®¢ï¼Œè¿™é‡Œå¼„é”™äº†ï¼Œnodejsæ˜¯åŸºäºç±»ä¼¼çš„CMDè§„èŒƒçš„ï¼‰ å·¥ä¸šé©å‘½â€”å‰ç«¯æ¡†æ¶è¿™ä¸ªæ—¶æœŸï¼Œéšç€Webç«¯åŠŸèƒ½çš„æ—¥ç›Šå¤æ‚ï¼Œäººä»¬å¼€å§‹è€ƒè™‘è¿™æ ·ä¸€äº›é—®é¢˜ï¼š â€¢ å¦‚ä½•æ›´å¥½åœ°æ¨¡å—åŒ–å¼€å‘ â€¢ ä¸šåŠ¡æ•°æ®å¦‚ä½•ç»„ç»‡ â€¢ ç•Œé¢å’Œä¸šåŠ¡æ•°æ®ä¹‹é—´é€šè¿‡ä½•ç§æ–¹å¼è¿›è¡Œäº¤äº’ åœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œå‡ºç°äº†ä¸€äº›å‰ç«¯MVCã€MVPã€MVVMæ¡†æ¶ï¼Œæˆ‘ä»¬æŠŠè¿™äº›æ¡†æ¶ç»Ÿç§°ä¸ºMV*æ¡†æ¶ã€‚è¿™äº›æ¡†æ¶çš„å‡ºç°ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œå…·ä½“çš„å®ç°æ€è·¯å„æœ‰ä¸åŒï¼Œä¸»æµçš„æœ‰Backboneï¼ŒAngularJSï¼ŒEmberï¼ŒSpineç­‰ç­‰ï¼Œæœ¬æ–‡ä¸»è¦é€‰ç”¨Backboneå’ŒAngularJSæ¥è®²è¿°ä»¥ä¸‹åœºæ™¯ã€‚ æ•°æ®æ¨¡å‹åœ¨è¿™äº›æ¡†æ¶é‡Œï¼Œå®šä¹‰æ•°æ®æ¨¡å‹çš„æ–¹å¼ä¸ä»¥å¾€æœ‰äº›å·®å¼‚ï¼Œä¸»è¦åœ¨äºæ•°æ®çš„getå’Œsetæ›´åŠ æœ‰æ„ä¹‰äº†ï¼Œæ¯”å¦‚è¯´ï¼Œå¯ä»¥æŠŠæŸä¸ªå®ä½“çš„getå’Œsetç»‘å®šåˆ°RESTfulçš„æœåŠ¡ä¸Šï¼Œè¿™æ ·ï¼Œå¯¹æŸä¸ªå®ä½“çš„è¯»å†™å¯ä»¥æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚å¦å¤–ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½æä¾›ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨äºç›‘æ§æ•°æ®çš„å˜åŒ–ï¼Œè¿™ä¸ªæœºåˆ¶ä½¿å¾—æ•°æ®ç»‘å®šæˆä¸ºå¯èƒ½ã€‚åœ¨ä¸€äº›æ¡†æ¶ä¸­ï¼Œæ•°æ®æ¨¡å‹éœ€è¦åœ¨åŸç”Ÿçš„JavaScriptç±»å‹ä¸Šåšä¸€å±‚å°è£…ï¼Œæ¯”å¦‚Backboneçš„æ–¹å¼æ˜¯è¿™æ ·ï¼š1234567891011121314151617181920212223242526var Todo = Backbone.Model.extend(&#123; // Default attributes for the todo item. defaults : function() &#123; return &#123; title : \"empty todo...\", order : Todos.nextOrder(), done : false &#125;; &#125;, // Ensure that each todo created has `title`. initialize : function() &#123; if (!this.get(\"title\")) &#123; this.set(&#123; \"title\" : this.defaults().title &#125;); &#125; &#125;, // Toggle the 'done' state of this todo item. toggle : function() &#123; this.save(&#123; done : !this.get(\"done\") &#125;); &#125;&#125;); æ§åˆ¶å™¨åœ¨Backboneä¸­ï¼Œæ˜¯æ²¡æœ‰ç‹¬ç«‹çš„æ§åˆ¶å™¨çš„ï¼Œå®ƒçš„ä¸€äº›æ§åˆ¶çš„èŒè´£éƒ½æ”¾åœ¨äº†è§†å›¾é‡Œï¼Œæ‰€ä»¥å…¶å®è¿™æ˜¯ä¸€ç§MVPï¼ˆModel View Presentationï¼‰æ¨¡å¼ï¼Œè€ŒAngularJSæœ‰å¾ˆæ¸…æ™°çš„æ§åˆ¶å™¨å±‚ã€‚ è¿˜æ˜¯ä»¥è¿™ä¸ªtodoä¸ºä¾‹ï¼Œåœ¨AngularJSä¸­ï¼Œä¼šæœ‰ä¸€äº›çº¦å®šçš„æ³¨å…¥ï¼Œæ¯”å¦‚$scopeï¼Œå®ƒæ˜¯æ§åˆ¶å™¨ã€æ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„æ¡¥æ¢ã€‚åœ¨æ§åˆ¶å™¨å®šä¹‰çš„æ—¶å€™ï¼Œå°†$scopeä½œä¸ºå‚æ•°ï¼Œç„¶åï¼Œå°±å¯ä»¥åœ¨æ§åˆ¶å™¨é‡Œé¢ä¸ºå®ƒæ·»åŠ æ¨¡å‹çš„æ”¯æŒã€‚12345678910111213141516171819202122232425262728293031323334function TodoCtrl($scope) &#123; $scope.todos = [&#123; text : 'learn angular', done : true &#125;, &#123; text : 'build an angular app', done : false &#125;]; $scope.addTodo = function() &#123; $scope.todos.push(&#123; text : $scope.todoText, done : false &#125;); $scope.todoText = ''; &#125;; $scope.remaining = function() &#123; var count = 0; angular.forEach($scope.todos, function(todo) &#123; count += todo.done ? 0 : 1; &#125;); return count; &#125;; $scope.archive = function() &#123; var oldTodos = $scope.todos; $scope.todos = []; angular.forEach(oldTodos, function(todo) &#123; if (!todo.done) $scope.todos.push(todo); &#125;); &#125;;&#125; è§†å›¾åœ¨è¿™äº›ä¸»æµçš„MV*æ¡†æ¶ä¸­ï¼Œä¸€èˆ¬éƒ½æä¾›äº†å®šä¹‰è§†å›¾çš„åŠŸèƒ½ã€‚åœ¨Backboneä¸­ï¼Œæ˜¯è¿™æ ·å®šä¹‰è§†å›¾çš„ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940// The DOM element for a todo item...var TodoView = Backbone.View.extend(&#123; //... is a list tag. tagName : \"li\", // Cache the template function for a single item. template : _.template($('#item-template').html()), // The DOM events specific to an item. events : &#123; \"click .toggle\" : \"toggleDone\", \"dblclick .view\" : \"edit\", \"click a.destroy\" : \"clear\", \"keypress .edit\" : \"updateOnEnter\", \"blur .edit\" : \"close\" &#125;, // The TodoView listens for changes to its model, re-rendering. Since there's // a one-to-one correspondence between a **Todo** and a **TodoView** in this // app, we set a direct reference on the model for convenience. initialize : function() &#123; this.listenTo(this.model, 'change', this.render); this.listenTo(this.model, 'destroy', this.remove); &#125;, // Re-render the titles of the todo item. render : function() &#123; this.$el.html(this.template(this.model.toJSON())); this.$el.toggleClass('done', this.model.get('done')); this.input = this.$('.edit'); return this; &#125;, //...... // Remove the item, destroy the model. clear : function() &#123; this.model.destroy(); &#125;&#125;); å‚è€ƒæ–‡çŒ®ï¼šhttp://any9.com/1524.htmlhttp://blog.jobbole.com/45169/http://blog.jobbole.com/45170/http://blog.jobbole.com/41988/æˆ‘æ¯•ç«Ÿä¸æ˜¯ä¸€ä¸ªå‰ç«¯devï¼Œæœ‰æ‰€ç–æ¼å°½è¯·åŸè°…ï¼Œè¿˜æœ‰è½¬è½½å’ŒæŠ„å½•äº†ä¸€äº›äººçš„blog ä¹Ÿè¯·å¤§å®¶è°…è§£ï¼Œåªæ˜¯æƒ³å†™ä¸€äº›å‰ç«¯çš„æ–‡ç« ç»™qaç”¨ã€‚","categories":[],"tags":[{"name":"front-end","slug":"front-end","permalink":"http://yoursite.com/tags/front-end/"}],"keywords":[]},{"title":"gulp_for_qa","slug":"gulp_for_qa","date":"2016-01-25T07:13:20.000Z","updated":"2017-09-25T09:15:50.000Z","comments":true,"path":"2016/01/25/gulp_for_qa/","link":"","permalink":"http://yoursite.com/2016/01/25/gulp_for_qa/","excerpt":"","text":"gulp ä»‹ç» ä»€ä¹ˆæ˜¯gulp?è¿™å’Œæˆ‘ä»¬qaæœ‰ä»€ä¹ˆå…³ç³»ï¼ŸGulp.js æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·,å¼€å‘è€…å¯ä»¥ä½¿ç”¨å®ƒåœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­è‡ªåŠ¨æ‰§è¡Œå¸¸è§ä»»åŠ¡ã€‚å…¥é—¨æŒ‡å— å…¨å±€å®‰è£… gulpï¼š 1$ npm install --global gulp ä½œä¸ºé¡¹ç›®çš„å¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰å®‰è£…ï¼š 1$ npm install --save-dev gulp åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º gulpfile.js çš„æ–‡ä»¶ï¼š 12345var gulp = require('gulp');gulp.task('default', function() &#123; // å°†ä½ çš„é»˜è®¤çš„ä»»åŠ¡ä»£ç æ”¾åœ¨è¿™&#125;); è¿è¡Œ gulpï¼š 1$ gulp é»˜è®¤çš„åä¸º default çš„ä»»åŠ¡ï¼ˆtaskï¼‰å°†ä¼šè¢«è¿è¡Œï¼Œåœ¨è¿™é‡Œï¼Œè¿™ä¸ªä»»åŠ¡å¹¶æœªåšä»»ä½•äº‹æƒ…ã€‚æƒ³è¦å•ç‹¬æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼ˆtaskï¼‰ï¼Œè¯·è¾“å…¥ gulp ã€‚ å®˜ç½‘:http://www.gulpjs.com.cn/docs/getting-started/ gulp api éå¸¸ç®€å•ï¼Œåªæœ‰5ä¸ªtaskï¼Œrunï¼Œwatchï¼Œsrcï¼Œå’Œdest. æ˜¯çš„ ä½ åªéœ€è¦ææ‡‚è¿™5ä¸ªapi å®Œå…¨å¤Ÿç”¨ã€‚ Gulp èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½æ›´å¿«çš„è¿›è¡Œæµ‹è¯•ï¼Œåˆ¶å®šæ ‡å‡†ç­‰å·¥ä½œã€‚ eslintJavascriptä»£ç éªŒè¯å·¥å…·,è¿™ç§å·¥å…·å¯ä»¥æ£€æŸ¥ä½ çš„ä»£ç å¹¶æä¾›ç›¸å…³çš„ä»£ç æ”¹è¿›æ„è§æœ€å¤§å–ç‚¹ï¼Œå¯ä»¥é€šè¿‡æ’ä»¶å®ç°è‡ªå®šä¹‰è§„åˆ™ ä¾‹å¦‚ gc è¿™è¾¹ç”¨çš„angluar https://www.npmjs.com/package/eslint-plugin-angular ä½¿ç”¨npm å®‰è£…jslint æ’ä»¶ 1$ npm install gulp-eslint --save-dev é…ç½® .eslintrcæ–‡ä»¶ è®¾ç½®jsè§„èŒƒçš„æ–‡ä»¶ 1234567891011121314151617&#123; \"env\": &#123; \"browser\": true, &#125;, \"globals\": &#123; \"angular\": true, &#125;, \"rules\": &#123; \"camelcase\": 2, \"curly\": 2, \"brace-style\": [2, \"1tbs\"], \"quotes\": [2, \"single\"], \"semi\": [2, \"always\"], \"space-in-brackets\": [2, \"never\"], \"space-infix-ops\": 2, &#125;&#125; é…ç½® gulpfile 123456789var eslint = require('gulp-eslint')gulp.task('lint', function() &#123; return gulp.src(path.JS) .pipe(eslint()) .pipe(eslint.format());&#125;);$ gulp lint å‚è€ƒï¼šè¿è¡Œ gulp lint å‘½ä»¤ http://www.jianshu.com/p/c599185a0d84 jshint jslint jscs eslintçš„å¯¹æ¯” http://developer.51cto.com/art/201506/481510.htmhttp://www.sitepoint.com/comparison-javascript-linting-tools/ ##browersync Browsersyncèƒ½è®©æµè§ˆå™¨å®æ—¶ã€å¿«é€Ÿå“åº”æ‚¨çš„æ–‡ä»¶æ›´æ”¹ï¼ˆhtmlã€jsã€cssã€sassã€lessç­‰ï¼‰å¹¶è‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚æ›´é‡è¦çš„æ˜¯ Browsersyncå¯ä»¥åŒæ—¶åœ¨PCã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡ä¸‹è¿›é¡¹è°ƒè¯•ã€‚æ‚¨å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼šâ€œå‡è®¾æ‚¨çš„æ¡Œå­ä¸Šæœ‰pcã€ipadã€iphoneã€androidç­‰è®¾å¤‡ï¼ŒåŒæ—¶æ‰“å¼€äº†æ‚¨éœ€è¦è°ƒè¯•çš„é¡µé¢ï¼Œå½“æ‚¨ä½¿ç”¨browsersyncåï¼Œæ‚¨çš„ä»»ä½•ä¸€æ¬¡ä»£ç ä¿å­˜ï¼Œä»¥ä¸Šçš„è®¾å¤‡éƒ½ä¼šåŒæ—¶æ˜¾ç¤ºæ‚¨çš„æ”¹åŠ¨â€ã€‚æ— è®ºæ‚¨æ˜¯å‰ç«¯è¿˜æ˜¯åç«¯å·¥ç¨‹å¸ˆï¼Œä½¿ç”¨å®ƒå°†æé«˜æ‚¨30%çš„å·¥ä½œæ•ˆç‡ã€‚ 1$ npm install browser-sync gulp --save-dev é…ç½®gulpfile123456789101112131415161718192021222324252627282930313233343536373839var path = &#123; HTML : \"html/*.html\", LESS : \"less/*.less\", CSS : \"css/*.css\", JS : \"js/*.js\" &#125;;gulp.task(\"serve\", [\"less\", \"js-watch\", \"html\"], function() &#123; browserSync.init(&#123; server : \"./\" &#125;); gulp.watch(path.LESS, [\"less\"]); gulp.watch(path.JS, [\"js-watch\"]); gulp.watch(path.HTML, [\"html\"]); gulp.watch(path.HTML).on(\"change\", function() &#123; browserSync.reload; &#125;);&#125;);gulp.task(\"less\", function() &#123; gulp.src(path.LESS) .pipe(less()) .pipe(gulp.dest(path.CSS)) .pipe(browserSync.stream());&#125;)gulp.task(\"js-watch\", function() &#123; gulp.src(path.JS) .pipe(browserSync.stream());&#125;)gulp.task(\"html\", function() &#123; gulp.src(path.HTML) .pipe(browserSync.stream());&#125;) è¿è¡Œå‘½ä»¤å°±å¯ä»¥çœ‹åˆ°ä»£ç å˜æ›´å¯¹ä¸åŒæµè§ˆå™¨é¡µé¢é€ æˆçš„å½±å“äº†ã€‚ å‚è€ƒæ–‡æ¡£http://www.browsersync.cn/docs/gulp/ å¼€å¯ä»£ç†æ¨¡å¼123browser-sync start --proxy \"http://localhost:3000/products/voip-phones/yealink-t20p\" --host \"http://localhost:3001/products/voip-phones/yealink-t20p\" gulp-istanbul ##Istanbul æ˜¯ JavaScript ç¨‹åºçš„ä»£ç è¦†ç›–ç‡å·¥å…·â€¢ è¡Œè¦†ç›–ç‡ï¼ˆline coverageï¼‰ï¼šæ˜¯å¦æ¯ä¸€è¡Œéƒ½æ‰§è¡Œäº†ï¼Ÿ â€¢ å‡½æ•°è¦†ç›–ç‡ï¼ˆfunction coverageï¼‰ï¼šæ˜¯å¦æ¯ä¸ªå‡½æ•°éƒ½è°ƒç”¨äº†ï¼Ÿ â€¢ åˆ†æ”¯è¦†ç›–ç‡ï¼ˆbranch coverageï¼‰ï¼šæ˜¯å¦æ¯ä¸ªifä»£ç å—éƒ½æ‰§è¡Œäº†ï¼Ÿ â€¢ è¯­å¥è¦†ç›–ç‡ï¼ˆstatement coverageï¼‰ï¼šæ˜¯å¦æ¯ä¸ªè¯­å¥éƒ½æ‰§è¡Œäº†ï¼Ÿ é…ç½®gulpfileæ–‡ä»¶123456789101112131415161718gulp.task('pre-test', function () &#123; return gulp.src(['js/*.js']) // Covering files .pipe(istanbul()) // Force `require` to return covered files .pipe(istanbul.hookRequire());&#125;);gulp.task('test', ['pre-test'], function () &#123; return gulp.src(['test/*.js']) .pipe(mocha()) // Creating the reports after tests ran .pipe(istanbul.enforceThresholds(&#123; thresholds: &#123; global: 90 &#125; &#125;)) .pipe(istanbul.writeReports(&#123; dir: './assets/unit-test-coverage', reporters: [ 'lcov' ], reportOpts: &#123; dir: './assets/unit-test-coverage'&#125; &#125;));&#125;); è¿è¡Œgulp å‘½ä»¤ ####å‚è€ƒï¼šhttp://www.ruanyifeng.com/blog/2015/06/istanbul.html http://blog.oskoui-oskoui.com/?p=8478 https://github.com/SBoudrias/gulp-istanbul ##æ‰€æœ‰ä¾‹å­ç”¨çš„repohttps://github.com/qileilove/gulp_qa","categories":[],"tags":[{"name":"gatling","slug":"gatling","permalink":"http://yoursite.com/tags/gatling/"}],"keywords":[]}]}